{"ast":null,"code":"import equal from 'fast-deep-equal';\nimport getUniqueFieldNames from './getUniqueFieldNames';\nexport default function computeSpecChanges(newSpec, oldSpec) {\n  if (newSpec === oldSpec) return false;\n  const changes = {\n    width: false,\n    height: false,\n    isExpensive: false\n  };\n  const fieldNames = getUniqueFieldNames([newSpec, oldSpec]);\n\n  if (fieldNames.has('width') && (!('width' in newSpec) || !('width' in oldSpec) || newSpec.width !== oldSpec.width)) {\n    if ('width' in newSpec && typeof newSpec.width === 'number') {\n      changes.width = newSpec.width;\n    } else {\n      changes.isExpensive = true;\n    }\n  }\n\n  if (fieldNames.has('height') && (!('height' in newSpec) || !('height' in oldSpec) || newSpec.height !== oldSpec.height)) {\n    if ('height' in newSpec && typeof newSpec.height === 'number') {\n      changes.height = newSpec.height;\n    } else {\n      changes.isExpensive = true;\n    }\n  } // Delete cheap fields\n\n\n  fieldNames.delete('width');\n  fieldNames.delete('height');\n\n  if ([...fieldNames].some(field => !(field in newSpec) || !(field in oldSpec) || !equal(newSpec[field], oldSpec[field]))) {\n    changes.isExpensive = true;\n  }\n\n  return changes.width !== false || changes.height !== false || changes.isExpensive ? changes : false;\n}","map":{"version":3,"names":["equal","getUniqueFieldNames","computeSpecChanges","newSpec","oldSpec","changes","width","height","isExpensive","fieldNames","has","delete","some","field"],"sources":["/Users/darcyroche/Documents/cathracha is tíreolaíocht/public life observations/plo-viz-app/node_modules/react-vega/esm/utils/computeSpecChanges.js"],"sourcesContent":["import equal from 'fast-deep-equal';\nimport getUniqueFieldNames from './getUniqueFieldNames';\nexport default function computeSpecChanges(newSpec, oldSpec) {\n  if (newSpec === oldSpec) return false;\n  const changes = {\n    width: false,\n    height: false,\n    isExpensive: false\n  };\n  const fieldNames = getUniqueFieldNames([newSpec, oldSpec]);\n\n  if (fieldNames.has('width') && (!('width' in newSpec) || !('width' in oldSpec) || newSpec.width !== oldSpec.width)) {\n    if ('width' in newSpec && typeof newSpec.width === 'number') {\n      changes.width = newSpec.width;\n    } else {\n      changes.isExpensive = true;\n    }\n  }\n\n  if (fieldNames.has('height') && (!('height' in newSpec) || !('height' in oldSpec) || newSpec.height !== oldSpec.height)) {\n    if ('height' in newSpec && typeof newSpec.height === 'number') {\n      changes.height = newSpec.height;\n    } else {\n      changes.isExpensive = true;\n    }\n  } // Delete cheap fields\n\n\n  fieldNames.delete('width');\n  fieldNames.delete('height');\n\n  if ([...fieldNames].some(field => !(field in newSpec) || !(field in oldSpec) || !equal(newSpec[field], oldSpec[field]))) {\n    changes.isExpensive = true;\n  }\n\n  return changes.width !== false || changes.height !== false || changes.isExpensive ? changes : false;\n}"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,iBAAlB;AACA,OAAOC,mBAAP,MAAgC,uBAAhC;AACA,eAAe,SAASC,kBAAT,CAA4BC,OAA5B,EAAqCC,OAArC,EAA8C;EAC3D,IAAID,OAAO,KAAKC,OAAhB,EAAyB,OAAO,KAAP;EACzB,MAAMC,OAAO,GAAG;IACdC,KAAK,EAAE,KADO;IAEdC,MAAM,EAAE,KAFM;IAGdC,WAAW,EAAE;EAHC,CAAhB;EAKA,MAAMC,UAAU,GAAGR,mBAAmB,CAAC,CAACE,OAAD,EAAUC,OAAV,CAAD,CAAtC;;EAEA,IAAIK,UAAU,CAACC,GAAX,CAAe,OAAf,MAA4B,EAAE,WAAWP,OAAb,KAAyB,EAAE,WAAWC,OAAb,CAAzB,IAAkDD,OAAO,CAACG,KAAR,KAAkBF,OAAO,CAACE,KAAxG,CAAJ,EAAoH;IAClH,IAAI,WAAWH,OAAX,IAAsB,OAAOA,OAAO,CAACG,KAAf,KAAyB,QAAnD,EAA6D;MAC3DD,OAAO,CAACC,KAAR,GAAgBH,OAAO,CAACG,KAAxB;IACD,CAFD,MAEO;MACLD,OAAO,CAACG,WAAR,GAAsB,IAAtB;IACD;EACF;;EAED,IAAIC,UAAU,CAACC,GAAX,CAAe,QAAf,MAA6B,EAAE,YAAYP,OAAd,KAA0B,EAAE,YAAYC,OAAd,CAA1B,IAAoDD,OAAO,CAACI,MAAR,KAAmBH,OAAO,CAACG,MAA5G,CAAJ,EAAyH;IACvH,IAAI,YAAYJ,OAAZ,IAAuB,OAAOA,OAAO,CAACI,MAAf,KAA0B,QAArD,EAA+D;MAC7DF,OAAO,CAACE,MAAR,GAAiBJ,OAAO,CAACI,MAAzB;IACD,CAFD,MAEO;MACLF,OAAO,CAACG,WAAR,GAAsB,IAAtB;IACD;EACF,CAvB0D,CAuBzD;;;EAGFC,UAAU,CAACE,MAAX,CAAkB,OAAlB;EACAF,UAAU,CAACE,MAAX,CAAkB,QAAlB;;EAEA,IAAI,CAAC,GAAGF,UAAJ,EAAgBG,IAAhB,CAAqBC,KAAK,IAAI,EAAEA,KAAK,IAAIV,OAAX,KAAuB,EAAEU,KAAK,IAAIT,OAAX,CAAvB,IAA8C,CAACJ,KAAK,CAACG,OAAO,CAACU,KAAD,CAAR,EAAiBT,OAAO,CAACS,KAAD,CAAxB,CAAlF,CAAJ,EAAyH;IACvHR,OAAO,CAACG,WAAR,GAAsB,IAAtB;EACD;;EAED,OAAOH,OAAO,CAACC,KAAR,KAAkB,KAAlB,IAA2BD,OAAO,CAACE,MAAR,KAAmB,KAA9C,IAAuDF,OAAO,CAACG,WAA/D,GAA6EH,OAA7E,GAAuF,KAA9F;AACD"},"metadata":{},"sourceType":"module"}