{"ast":null,"code":"import { applyPatch } from 'fast-json-patch';\nimport stringify from 'json-stringify-pretty-compact';\nimport * as vegaImport from 'vega';\nimport { writeConfig, mergeConfig, isString, isBoolean } from 'vega';\nimport { expressionInterpreter } from 'vega-interpreter';\nimport * as vegaLiteImport from 'vega-lite';\nimport schemaParser from 'vega-schema-url-parser';\nimport * as themes from 'vega-themes';\nimport { Handler } from 'vega-tooltip';\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nfunction _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}\n/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\nvar Op = Object.prototype;\nvar hasOwn = Op.hasOwnProperty;\nvar undefined$1; // More compressible than void 0.\n\nvar $Symbol = typeof Symbol === \"function\" ? Symbol : {};\nvar iteratorSymbol = $Symbol.iterator || \"@@iterator\";\nvar asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\nvar toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\nfunction wrap(innerFn, outerFn, self, tryLocsList) {\n  // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n  var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n  var generator = Object.create(protoGenerator.prototype);\n  var context = new Context(tryLocsList || []); // The ._invoke method unifies the implementations of the .next,\n  // .throw, and .return methods.\n\n  generator._invoke = makeInvokeMethod(innerFn, self, context);\n  return generator;\n} // Try/catch helper to minimize deoptimizations. Returns a completion\n// record like context.tryEntries[i].completion. This interface could\n// have been (and was previously) designed to take a closure to be\n// invoked without arguments, but in all the cases we care about we\n// already have an existing method we want to call, so there's no need\n// to create a new function object. We can even get away with assuming\n// the method takes exactly one argument, since that happens to be true\n// in every case, so we don't have to touch the arguments object. The\n// only additional allocation required is the completion record, which\n// has a stable shape and so hopefully should be cheap to allocate.\n\n\nfunction tryCatch(fn, obj, arg) {\n  try {\n    return {\n      type: \"normal\",\n      arg: fn.call(obj, arg)\n    };\n  } catch (err) {\n    return {\n      type: \"throw\",\n      arg: err\n    };\n  }\n}\n\nvar GenStateSuspendedStart = \"suspendedStart\";\nvar GenStateSuspendedYield = \"suspendedYield\";\nvar GenStateExecuting = \"executing\";\nvar GenStateCompleted = \"completed\"; // Returning this object from the innerFn has the same effect as\n// breaking out of the dispatch switch statement.\n\nvar ContinueSentinel = {}; // Dummy constructor functions that we use as the .constructor and\n// .constructor.prototype properties for functions that return Generator\n// objects. For full spec compliance, you may wish to configure your\n// minifier not to mangle the names of these two functions.\n\nfunction Generator() {}\n\nfunction GeneratorFunction() {}\n\nfunction GeneratorFunctionPrototype() {} // This is a polyfill for %IteratorPrototype% for environments that\n// don't natively support it.\n\n\nvar IteratorPrototype = {};\n\nIteratorPrototype[iteratorSymbol] = function () {\n  return this;\n};\n\nvar getProto = Object.getPrototypeOf;\nvar NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n\nif (NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n  // This environment has a native %IteratorPrototype%; use it instead\n  // of the polyfill.\n  IteratorPrototype = NativeIteratorPrototype;\n}\n\nvar Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype);\nGeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\nGeneratorFunctionPrototype.constructor = GeneratorFunction;\nGeneratorFunctionPrototype[toStringTagSymbol] = GeneratorFunction.displayName = \"GeneratorFunction\"; // Helper for defining the .next, .throw, and .return methods of the\n// Iterator interface in terms of a single ._invoke method.\n\nfunction defineIteratorMethods(prototype) {\n  [\"next\", \"throw\", \"return\"].forEach(function (method) {\n    prototype[method] = function (arg) {\n      return this._invoke(method, arg);\n    };\n  });\n}\n\nfunction isGeneratorFunction(genFun) {\n  var ctor = typeof genFun === \"function\" && genFun.constructor;\n  return ctor ? ctor === GeneratorFunction || // For the native GeneratorFunction constructor, the best we can\n  // do is to check its .name property.\n  (ctor.displayName || ctor.name) === \"GeneratorFunction\" : false;\n}\n\nfunction mark(genFun) {\n  if (Object.setPrototypeOf) {\n    Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n  } else {\n    genFun.__proto__ = GeneratorFunctionPrototype;\n\n    if (!(toStringTagSymbol in genFun)) {\n      genFun[toStringTagSymbol] = \"GeneratorFunction\";\n    }\n  }\n\n  genFun.prototype = Object.create(Gp);\n  return genFun;\n} // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n// `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n// meant to be awaited.\n\n\nfunction awrap(arg) {\n  return {\n    __await: arg\n  };\n}\n\nfunction AsyncIterator(generator, PromiseImpl) {\n  function invoke(method, arg, resolve, reject) {\n    var record = tryCatch(generator[method], generator, arg);\n\n    if (record.type === \"throw\") {\n      reject(record.arg);\n    } else {\n      var result = record.arg;\n      var value = result.value;\n\n      if (value && typeof value === \"object\" && hasOwn.call(value, \"__await\")) {\n        return PromiseImpl.resolve(value.__await).then(function (value) {\n          invoke(\"next\", value, resolve, reject);\n        }, function (err) {\n          invoke(\"throw\", err, resolve, reject);\n        });\n      }\n\n      return PromiseImpl.resolve(value).then(function (unwrapped) {\n        // When a yielded Promise is resolved, its final value becomes\n        // the .value of the Promise<{value,done}> result for the\n        // current iteration.\n        result.value = unwrapped;\n        resolve(result);\n      }, function (error) {\n        // If a rejected Promise was yielded, throw the rejection back\n        // into the async generator function so it can be handled there.\n        return invoke(\"throw\", error, resolve, reject);\n      });\n    }\n  }\n\n  var previousPromise;\n\n  function enqueue(method, arg) {\n    function callInvokeWithMethodAndArg() {\n      return new PromiseImpl(function (resolve, reject) {\n        invoke(method, arg, resolve, reject);\n      });\n    }\n\n    return previousPromise = // If enqueue has been called before, then we want to wait until\n    // all previous Promises have been resolved before calling invoke,\n    // so that results are always delivered in the correct order. If\n    // enqueue has not been called before, then it is important to\n    // call invoke immediately, without waiting on a callback to fire,\n    // so that the async generator function has the opportunity to do\n    // any necessary setup in a predictable way. This predictability\n    // is why the Promise constructor synchronously invokes its\n    // executor callback, and why async functions synchronously\n    // execute code before the first await. Since we implement simple\n    // async functions in terms of async generators, it is especially\n    // important to get this right, even though it requires care.\n    previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, // Avoid propagating failures to Promises returned by later\n    // invocations of the iterator.\n    callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg();\n  } // Define the unified helper method that is used to implement .next,\n  // .throw, and .return (see defineIteratorMethods).\n\n\n  this._invoke = enqueue;\n}\n\ndefineIteratorMethods(AsyncIterator.prototype);\n\nAsyncIterator.prototype[asyncIteratorSymbol] = function () {\n  return this;\n}; // Note that simple async functions are implemented on top of\n// AsyncIterator objects; they just return a Promise for the value of\n// the final result produced by the iterator.\n\n\nfunction async(innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n  if (PromiseImpl === void 0) PromiseImpl = Promise;\n  var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl);\n  return isGeneratorFunction(outerFn) ? iter // If outerFn is a generator, return the full iterator.\n  : iter.next().then(function (result) {\n    return result.done ? result.value : iter.next();\n  });\n}\n\nfunction makeInvokeMethod(innerFn, self, context) {\n  var state = GenStateSuspendedStart;\n  return function invoke(method, arg) {\n    if (state === GenStateExecuting) {\n      throw new Error(\"Generator is already running\");\n    }\n\n    if (state === GenStateCompleted) {\n      if (method === \"throw\") {\n        throw arg;\n      } // Be forgiving, per 25.3.3.3.3 of the spec:\n      // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n\n\n      return doneResult();\n    }\n\n    context.method = method;\n    context.arg = arg;\n\n    while (true) {\n      var delegate = context.delegate;\n\n      if (delegate) {\n        var delegateResult = maybeInvokeDelegate(delegate, context);\n\n        if (delegateResult) {\n          if (delegateResult === ContinueSentinel) continue;\n          return delegateResult;\n        }\n      }\n\n      if (context.method === \"next\") {\n        // Setting context._sent for legacy support of Babel's\n        // function.sent implementation.\n        context.sent = context._sent = context.arg;\n      } else if (context.method === \"throw\") {\n        if (state === GenStateSuspendedStart) {\n          state = GenStateCompleted;\n          throw context.arg;\n        }\n\n        context.dispatchException(context.arg);\n      } else if (context.method === \"return\") {\n        context.abrupt(\"return\", context.arg);\n      }\n\n      state = GenStateExecuting;\n      var record = tryCatch(innerFn, self, context);\n\n      if (record.type === \"normal\") {\n        // If an exception is thrown from innerFn, we leave state ===\n        // GenStateExecuting and loop back for another invocation.\n        state = context.done ? GenStateCompleted : GenStateSuspendedYield;\n\n        if (record.arg === ContinueSentinel) {\n          continue;\n        }\n\n        return {\n          value: record.arg,\n          done: context.done\n        };\n      } else if (record.type === \"throw\") {\n        state = GenStateCompleted; // Dispatch the exception by looping back around to the\n        // context.dispatchException(context.arg) call above.\n\n        context.method = \"throw\";\n        context.arg = record.arg;\n      }\n    }\n  };\n} // Call delegate.iterator[context.method](context.arg) and handle the\n// result, either by returning a { value, done } result from the\n// delegate iterator, or by modifying context.method and context.arg,\n// setting context.delegate to null, and returning the ContinueSentinel.\n\n\nfunction maybeInvokeDelegate(delegate, context) {\n  var method = delegate.iterator[context.method];\n\n  if (method === undefined$1) {\n    // A .throw or .return when the delegate iterator has no .throw\n    // method always terminates the yield* loop.\n    context.delegate = null;\n\n    if (context.method === \"throw\") {\n      // Note: [\"return\"] must be used for ES3 parsing compatibility.\n      if (delegate.iterator[\"return\"]) {\n        // If the delegate iterator has a return method, give it a\n        // chance to clean up.\n        context.method = \"return\";\n        context.arg = undefined$1;\n        maybeInvokeDelegate(delegate, context);\n\n        if (context.method === \"throw\") {\n          // If maybeInvokeDelegate(context) changed context.method from\n          // \"return\" to \"throw\", let that override the TypeError below.\n          return ContinueSentinel;\n        }\n      }\n\n      context.method = \"throw\";\n      context.arg = new TypeError(\"The iterator does not provide a 'throw' method\");\n    }\n\n    return ContinueSentinel;\n  }\n\n  var record = tryCatch(method, delegate.iterator, context.arg);\n\n  if (record.type === \"throw\") {\n    context.method = \"throw\";\n    context.arg = record.arg;\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  var info = record.arg;\n\n  if (!info) {\n    context.method = \"throw\";\n    context.arg = new TypeError(\"iterator result is not an object\");\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  if (info.done) {\n    // Assign the result of the finished delegate to the temporary\n    // variable specified by delegate.resultName (see delegateYield).\n    context[delegate.resultName] = info.value; // Resume execution at the desired location (see delegateYield).\n\n    context.next = delegate.nextLoc; // If context.method was \"throw\" but the delegate handled the\n    // exception, let the outer generator proceed normally. If\n    // context.method was \"next\", forget context.arg since it has been\n    // \"consumed\" by the delegate iterator. If context.method was\n    // \"return\", allow the original .return call to continue in the\n    // outer generator.\n\n    if (context.method !== \"return\") {\n      context.method = \"next\";\n      context.arg = undefined$1;\n    }\n  } else {\n    // Re-yield the result returned by the delegate method.\n    return info;\n  } // The delegate iterator is finished, so forget it and continue with\n  // the outer generator.\n\n\n  context.delegate = null;\n  return ContinueSentinel;\n} // Define Generator.prototype.{next,throw,return} in terms of the\n// unified ._invoke helper method.\n\n\ndefineIteratorMethods(Gp);\nGp[toStringTagSymbol] = \"Generator\"; // A Generator should always return itself as the iterator object when the\n// @@iterator function is called on it. Some browsers' implementations of the\n// iterator prototype chain incorrectly implement this, causing the Generator\n// object to not be returned from this call. This ensures that doesn't happen.\n// See https://github.com/facebook/regenerator/issues/274 for more details.\n\nGp[iteratorSymbol] = function () {\n  return this;\n};\n\nGp.toString = function () {\n  return \"[object Generator]\";\n};\n\nfunction pushTryEntry(locs) {\n  var entry = {\n    tryLoc: locs[0]\n  };\n\n  if (1 in locs) {\n    entry.catchLoc = locs[1];\n  }\n\n  if (2 in locs) {\n    entry.finallyLoc = locs[2];\n    entry.afterLoc = locs[3];\n  }\n\n  this.tryEntries.push(entry);\n}\n\nfunction resetTryEntry(entry) {\n  var record = entry.completion || {};\n  record.type = \"normal\";\n  delete record.arg;\n  entry.completion = record;\n}\n\nfunction Context(tryLocsList) {\n  // The root entry object (effectively a try statement without a catch\n  // or a finally block) gives us a place to store values thrown from\n  // locations where there is no enclosing try statement.\n  this.tryEntries = [{\n    tryLoc: \"root\"\n  }];\n  tryLocsList.forEach(pushTryEntry, this);\n  this.reset(true);\n}\n\nfunction keys(object) {\n  var keys = [];\n\n  for (var key in object) {\n    keys.push(key);\n  }\n\n  keys.reverse(); // Rather than returning an object with a next method, we keep\n  // things simple and return the next function itself.\n\n  return function next() {\n    while (keys.length) {\n      var key = keys.pop();\n\n      if (key in object) {\n        next.value = key;\n        next.done = false;\n        return next;\n      }\n    } // To avoid creating an additional object, we just hang the .value\n    // and .done properties off the next function object itself. This\n    // also ensures that the minifier will not anonymize the function.\n\n\n    next.done = true;\n    return next;\n  };\n}\n\nfunction values(iterable) {\n  if (iterable) {\n    var iteratorMethod = iterable[iteratorSymbol];\n\n    if (iteratorMethod) {\n      return iteratorMethod.call(iterable);\n    }\n\n    if (typeof iterable.next === \"function\") {\n      return iterable;\n    }\n\n    if (!isNaN(iterable.length)) {\n      var i = -1,\n          next = function next() {\n        while (++i < iterable.length) {\n          if (hasOwn.call(iterable, i)) {\n            next.value = iterable[i];\n            next.done = false;\n            return next;\n          }\n        }\n\n        next.value = undefined$1;\n        next.done = true;\n        return next;\n      };\n\n      return next.next = next;\n    }\n  } // Return an iterator with no values.\n\n\n  return {\n    next: doneResult\n  };\n}\n\nfunction doneResult() {\n  return {\n    value: undefined$1,\n    done: true\n  };\n}\n\nContext.prototype = {\n  constructor: Context,\n  reset: function reset(skipTempReset) {\n    this.prev = 0;\n    this.next = 0; // Resetting context._sent for legacy support of Babel's\n    // function.sent implementation.\n\n    this.sent = this._sent = undefined$1;\n    this.done = false;\n    this.delegate = null;\n    this.method = \"next\";\n    this.arg = undefined$1;\n    this.tryEntries.forEach(resetTryEntry);\n\n    if (!skipTempReset) {\n      for (var name in this) {\n        // Not sure about the optimal order of these conditions:\n        if (name.charAt(0) === \"t\" && hasOwn.call(this, name) && !isNaN(+name.slice(1))) {\n          this[name] = undefined$1;\n        }\n      }\n    }\n  },\n  stop: function stop() {\n    this.done = true;\n    var rootEntry = this.tryEntries[0];\n    var rootRecord = rootEntry.completion;\n\n    if (rootRecord.type === \"throw\") {\n      throw rootRecord.arg;\n    }\n\n    return this.rval;\n  },\n  dispatchException: function dispatchException(exception) {\n    if (this.done) {\n      throw exception;\n    }\n\n    var context = this;\n\n    function handle(loc, caught) {\n      record.type = \"throw\";\n      record.arg = exception;\n      context.next = loc;\n\n      if (caught) {\n        // If the dispatched exception was caught by a catch block,\n        // then let that catch block handle the exception normally.\n        context.method = \"next\";\n        context.arg = undefined$1;\n      }\n\n      return !!caught;\n    }\n\n    for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n      var entry = this.tryEntries[i];\n      var record = entry.completion;\n\n      if (entry.tryLoc === \"root\") {\n        // Exception thrown outside of any try block that could handle\n        // it, so set the completion value of the entire function to\n        // throw the exception.\n        return handle(\"end\");\n      }\n\n      if (entry.tryLoc <= this.prev) {\n        var hasCatch = hasOwn.call(entry, \"catchLoc\");\n        var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n        if (hasCatch && hasFinally) {\n          if (this.prev < entry.catchLoc) {\n            return handle(entry.catchLoc, true);\n          } else if (this.prev < entry.finallyLoc) {\n            return handle(entry.finallyLoc);\n          }\n        } else if (hasCatch) {\n          if (this.prev < entry.catchLoc) {\n            return handle(entry.catchLoc, true);\n          }\n        } else if (hasFinally) {\n          if (this.prev < entry.finallyLoc) {\n            return handle(entry.finallyLoc);\n          }\n        } else {\n          throw new Error(\"try statement without catch or finally\");\n        }\n      }\n    }\n  },\n  abrupt: function abrupt(type, arg) {\n    for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n      var entry = this.tryEntries[i];\n\n      if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) {\n        var finallyEntry = entry;\n        break;\n      }\n    }\n\n    if (finallyEntry && (type === \"break\" || type === \"continue\") && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc) {\n      // Ignore the finally entry if control is not jumping to a\n      // location outside the try/catch block.\n      finallyEntry = null;\n    }\n\n    var record = finallyEntry ? finallyEntry.completion : {};\n    record.type = type;\n    record.arg = arg;\n\n    if (finallyEntry) {\n      this.method = \"next\";\n      this.next = finallyEntry.finallyLoc;\n      return ContinueSentinel;\n    }\n\n    return this.complete(record);\n  },\n  complete: function complete(record, afterLoc) {\n    if (record.type === \"throw\") {\n      throw record.arg;\n    }\n\n    if (record.type === \"break\" || record.type === \"continue\") {\n      this.next = record.arg;\n    } else if (record.type === \"return\") {\n      this.rval = this.arg = record.arg;\n      this.method = \"return\";\n      this.next = \"end\";\n    } else if (record.type === \"normal\" && afterLoc) {\n      this.next = afterLoc;\n    }\n\n    return ContinueSentinel;\n  },\n  finish: function finish(finallyLoc) {\n    for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n      var entry = this.tryEntries[i];\n\n      if (entry.finallyLoc === finallyLoc) {\n        this.complete(entry.completion, entry.afterLoc);\n        resetTryEntry(entry);\n        return ContinueSentinel;\n      }\n    }\n  },\n  \"catch\": function _catch(tryLoc) {\n    for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n      var entry = this.tryEntries[i];\n\n      if (entry.tryLoc === tryLoc) {\n        var record = entry.completion;\n\n        if (record.type === \"throw\") {\n          var thrown = record.arg;\n          resetTryEntry(entry);\n        }\n\n        return thrown;\n      }\n    } // The context.catch method must only be called with a location\n    // argument that corresponds to a known catch block.\n\n\n    throw new Error(\"illegal catch attempt\");\n  },\n  delegateYield: function delegateYield(iterable, resultName, nextLoc) {\n    this.delegate = {\n      iterator: values(iterable),\n      resultName: resultName,\n      nextLoc: nextLoc\n    };\n\n    if (this.method === \"next\") {\n      // Deliberately forget the last sent value so that we don't\n      // accidentally pass it on to the delegate.\n      this.arg = undefined$1;\n    }\n\n    return ContinueSentinel;\n  }\n}; // Export a default namespace that plays well with Rollup\n\nvar _regeneratorRuntime = {\n  wrap,\n  isGeneratorFunction,\n  AsyncIterator,\n  mark,\n  awrap,\n  async,\n  keys,\n  values\n};\nvar yallist = Yallist$1;\nYallist$1.Node = Node;\nYallist$1.create = Yallist$1;\n\nfunction Yallist$1(list) {\n  var self = this;\n\n  if (!(self instanceof Yallist$1)) {\n    self = new Yallist$1();\n  }\n\n  self.tail = null;\n  self.head = null;\n  self.length = 0;\n\n  if (list && typeof list.forEach === 'function') {\n    list.forEach(function (item) {\n      self.push(item);\n    });\n  } else if (arguments.length > 0) {\n    for (var i = 0, l = arguments.length; i < l; i++) {\n      self.push(arguments[i]);\n    }\n  }\n\n  return self;\n}\n\nYallist$1.prototype.removeNode = function (node) {\n  if (node.list !== this) {\n    throw new Error('removing node which does not belong to this list');\n  }\n\n  var next = node.next;\n  var prev = node.prev;\n\n  if (next) {\n    next.prev = prev;\n  }\n\n  if (prev) {\n    prev.next = next;\n  }\n\n  if (node === this.head) {\n    this.head = next;\n  }\n\n  if (node === this.tail) {\n    this.tail = prev;\n  }\n\n  node.list.length--;\n  node.next = null;\n  node.prev = null;\n  node.list = null;\n  return next;\n};\n\nYallist$1.prototype.unshiftNode = function (node) {\n  if (node === this.head) {\n    return;\n  }\n\n  if (node.list) {\n    node.list.removeNode(node);\n  }\n\n  var head = this.head;\n  node.list = this;\n  node.next = head;\n\n  if (head) {\n    head.prev = node;\n  }\n\n  this.head = node;\n\n  if (!this.tail) {\n    this.tail = node;\n  }\n\n  this.length++;\n};\n\nYallist$1.prototype.pushNode = function (node) {\n  if (node === this.tail) {\n    return;\n  }\n\n  if (node.list) {\n    node.list.removeNode(node);\n  }\n\n  var tail = this.tail;\n  node.list = this;\n  node.prev = tail;\n\n  if (tail) {\n    tail.next = node;\n  }\n\n  this.tail = node;\n\n  if (!this.head) {\n    this.head = node;\n  }\n\n  this.length++;\n};\n\nYallist$1.prototype.push = function () {\n  for (var i = 0, l = arguments.length; i < l; i++) {\n    push(this, arguments[i]);\n  }\n\n  return this.length;\n};\n\nYallist$1.prototype.unshift = function () {\n  for (var i = 0, l = arguments.length; i < l; i++) {\n    unshift(this, arguments[i]);\n  }\n\n  return this.length;\n};\n\nYallist$1.prototype.pop = function () {\n  if (!this.tail) {\n    return undefined;\n  }\n\n  var res = this.tail.value;\n  this.tail = this.tail.prev;\n\n  if (this.tail) {\n    this.tail.next = null;\n  } else {\n    this.head = null;\n  }\n\n  this.length--;\n  return res;\n};\n\nYallist$1.prototype.shift = function () {\n  if (!this.head) {\n    return undefined;\n  }\n\n  var res = this.head.value;\n  this.head = this.head.next;\n\n  if (this.head) {\n    this.head.prev = null;\n  } else {\n    this.tail = null;\n  }\n\n  this.length--;\n  return res;\n};\n\nYallist$1.prototype.forEach = function (fn, thisp) {\n  thisp = thisp || this;\n\n  for (var walker = this.head, i = 0; walker !== null; i++) {\n    fn.call(thisp, walker.value, i, this);\n    walker = walker.next;\n  }\n};\n\nYallist$1.prototype.forEachReverse = function (fn, thisp) {\n  thisp = thisp || this;\n\n  for (var walker = this.tail, i = this.length - 1; walker !== null; i--) {\n    fn.call(thisp, walker.value, i, this);\n    walker = walker.prev;\n  }\n};\n\nYallist$1.prototype.get = function (n) {\n  for (var i = 0, walker = this.head; walker !== null && i < n; i++) {\n    // abort out of the list early if we hit a cycle\n    walker = walker.next;\n  }\n\n  if (i === n && walker !== null) {\n    return walker.value;\n  }\n};\n\nYallist$1.prototype.getReverse = function (n) {\n  for (var i = 0, walker = this.tail; walker !== null && i < n; i++) {\n    // abort out of the list early if we hit a cycle\n    walker = walker.prev;\n  }\n\n  if (i === n && walker !== null) {\n    return walker.value;\n  }\n};\n\nYallist$1.prototype.map = function (fn, thisp) {\n  thisp = thisp || this;\n  var res = new Yallist$1();\n\n  for (var walker = this.head; walker !== null;) {\n    res.push(fn.call(thisp, walker.value, this));\n    walker = walker.next;\n  }\n\n  return res;\n};\n\nYallist$1.prototype.mapReverse = function (fn, thisp) {\n  thisp = thisp || this;\n  var res = new Yallist$1();\n\n  for (var walker = this.tail; walker !== null;) {\n    res.push(fn.call(thisp, walker.value, this));\n    walker = walker.prev;\n  }\n\n  return res;\n};\n\nYallist$1.prototype.reduce = function (fn, initial) {\n  var acc;\n  var walker = this.head;\n\n  if (arguments.length > 1) {\n    acc = initial;\n  } else if (this.head) {\n    walker = this.head.next;\n    acc = this.head.value;\n  } else {\n    throw new TypeError('Reduce of empty list with no initial value');\n  }\n\n  for (var i = 0; walker !== null; i++) {\n    acc = fn(acc, walker.value, i);\n    walker = walker.next;\n  }\n\n  return acc;\n};\n\nYallist$1.prototype.reduceReverse = function (fn, initial) {\n  var acc;\n  var walker = this.tail;\n\n  if (arguments.length > 1) {\n    acc = initial;\n  } else if (this.tail) {\n    walker = this.tail.prev;\n    acc = this.tail.value;\n  } else {\n    throw new TypeError('Reduce of empty list with no initial value');\n  }\n\n  for (var i = this.length - 1; walker !== null; i--) {\n    acc = fn(acc, walker.value, i);\n    walker = walker.prev;\n  }\n\n  return acc;\n};\n\nYallist$1.prototype.toArray = function () {\n  var arr = new Array(this.length);\n\n  for (var i = 0, walker = this.head; walker !== null; i++) {\n    arr[i] = walker.value;\n    walker = walker.next;\n  }\n\n  return arr;\n};\n\nYallist$1.prototype.toArrayReverse = function () {\n  var arr = new Array(this.length);\n\n  for (var i = 0, walker = this.tail; walker !== null; i++) {\n    arr[i] = walker.value;\n    walker = walker.prev;\n  }\n\n  return arr;\n};\n\nYallist$1.prototype.slice = function (from, to) {\n  to = to || this.length;\n\n  if (to < 0) {\n    to += this.length;\n  }\n\n  from = from || 0;\n\n  if (from < 0) {\n    from += this.length;\n  }\n\n  var ret = new Yallist$1();\n\n  if (to < from || to < 0) {\n    return ret;\n  }\n\n  if (from < 0) {\n    from = 0;\n  }\n\n  if (to > this.length) {\n    to = this.length;\n  }\n\n  for (var i = 0, walker = this.head; walker !== null && i < from; i++) {\n    walker = walker.next;\n  }\n\n  for (; walker !== null && i < to; i++, walker = walker.next) {\n    ret.push(walker.value);\n  }\n\n  return ret;\n};\n\nYallist$1.prototype.sliceReverse = function (from, to) {\n  to = to || this.length;\n\n  if (to < 0) {\n    to += this.length;\n  }\n\n  from = from || 0;\n\n  if (from < 0) {\n    from += this.length;\n  }\n\n  var ret = new Yallist$1();\n\n  if (to < from || to < 0) {\n    return ret;\n  }\n\n  if (from < 0) {\n    from = 0;\n  }\n\n  if (to > this.length) {\n    to = this.length;\n  }\n\n  for (var i = this.length, walker = this.tail; walker !== null && i > to; i--) {\n    walker = walker.prev;\n  }\n\n  for (; walker !== null && i > from; i--, walker = walker.prev) {\n    ret.push(walker.value);\n  }\n\n  return ret;\n};\n\nYallist$1.prototype.splice = function (start, deleteCount) {\n  if (start > this.length) {\n    start = this.length - 1;\n  }\n\n  if (start < 0) {\n    start = this.length + start;\n  }\n\n  for (var i = 0, walker = this.head; walker !== null && i < start; i++) {\n    walker = walker.next;\n  }\n\n  var ret = [];\n\n  for (var i = 0; walker && i < deleteCount; i++) {\n    ret.push(walker.value);\n    walker = this.removeNode(walker);\n  }\n\n  if (walker === null) {\n    walker = this.tail;\n  }\n\n  if (walker !== this.head && walker !== this.tail) {\n    walker = walker.prev;\n  }\n\n  for (var i = 0; i < (arguments.length <= 2 ? 0 : arguments.length - 2); i++) {\n    walker = insert(this, walker, i + 2 < 2 || arguments.length <= i + 2 ? undefined : arguments[i + 2]);\n  }\n\n  return ret;\n};\n\nYallist$1.prototype.reverse = function () {\n  var head = this.head;\n  var tail = this.tail;\n\n  for (var walker = head; walker !== null; walker = walker.prev) {\n    var p = walker.prev;\n    walker.prev = walker.next;\n    walker.next = p;\n  }\n\n  this.head = tail;\n  this.tail = head;\n  return this;\n};\n\nfunction insert(self, node, value) {\n  var inserted = node === self.head ? new Node(value, null, node, self) : new Node(value, node, node.next, self);\n\n  if (inserted.next === null) {\n    self.tail = inserted;\n  }\n\n  if (inserted.prev === null) {\n    self.head = inserted;\n  }\n\n  self.length++;\n  return inserted;\n}\n\nfunction push(self, item) {\n  self.tail = new Node(item, self.tail, null, self);\n\n  if (!self.head) {\n    self.head = self.tail;\n  }\n\n  self.length++;\n}\n\nfunction unshift(self, item) {\n  self.head = new Node(item, null, self.head, self);\n\n  if (!self.tail) {\n    self.tail = self.head;\n  }\n\n  self.length++;\n}\n\nfunction Node(value, prev, next, list) {\n  if (!(this instanceof Node)) {\n    return new Node(value, prev, next, list);\n  }\n\n  this.list = list;\n  this.value = value;\n\n  if (prev) {\n    prev.next = this;\n    this.prev = prev;\n  } else {\n    this.prev = null;\n  }\n\n  if (next) {\n    next.prev = this;\n    this.next = next;\n  } else {\n    this.next = null;\n  }\n}\n\ntry {\n  // add if support for Symbol.iterator is present\n  Yallist$1.prototype[Symbol.iterator] = /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n    var walker;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            walker = this.head;\n\n          case 1:\n            if (!walker) {\n              _context.next = 7;\n              break;\n            }\n\n            _context.next = 4;\n            return walker.value;\n\n          case 4:\n            walker = walker.next;\n            _context.next = 1;\n            break;\n\n          case 7:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, this);\n  });\n} catch (er) {}\n\nvar Yallist = yallist;\nvar MAX = Symbol('max');\nvar LENGTH = Symbol('length');\nvar LENGTH_CALCULATOR = Symbol('lengthCalculator');\nvar ALLOW_STALE = Symbol('allowStale');\nvar MAX_AGE = Symbol('maxAge');\nvar DISPOSE = Symbol('dispose');\nvar NO_DISPOSE_ON_SET = Symbol('noDisposeOnSet');\nvar LRU_LIST = Symbol('lruList');\nvar CACHE = Symbol('cache');\nvar UPDATE_AGE_ON_GET = Symbol('updateAgeOnGet');\n\nvar naiveLength = () => 1; // lruList is a yallist where the head is the youngest\n// item, and the tail is the oldest.  the list contains the Hit\n// objects as the entries.\n// Each Hit object has a reference to its Yallist.Node.  This\n// never changes.\n//\n// cache is a Map (or PseudoMap) that matches the keys to\n// the Yallist.Node object.\n\n\nclass LRUCache {\n  constructor(options) {\n    if (typeof options === 'number') options = {\n      max: options\n    };\n    if (!options) options = {};\n    if (options.max && (typeof options.max !== 'number' || options.max < 0)) throw new TypeError('max must be a non-negative number'); // Kind of weird to have a default max of Infinity, but oh well.\n\n    this[MAX] = options.max || Infinity;\n    var lc = options.length || naiveLength;\n    this[LENGTH_CALCULATOR] = typeof lc !== 'function' ? naiveLength : lc;\n    this[ALLOW_STALE] = options.stale || false;\n    if (options.maxAge && typeof options.maxAge !== 'number') throw new TypeError('maxAge must be a number');\n    this[MAX_AGE] = options.maxAge || 0;\n    this[DISPOSE] = options.dispose;\n    this[NO_DISPOSE_ON_SET] = options.noDisposeOnSet || false;\n    this[UPDATE_AGE_ON_GET] = options.updateAgeOnGet || false;\n    this.reset();\n  } // resize the cache when the max changes.\n\n\n  set max(mL) {\n    if (typeof mL !== 'number' || mL < 0) throw new TypeError('max must be a non-negative number');\n    this[MAX] = mL || Infinity;\n    trim(this);\n  }\n\n  get max() {\n    return this[MAX];\n  }\n\n  set allowStale(allowStale) {\n    this[ALLOW_STALE] = !!allowStale;\n  }\n\n  get allowStale() {\n    return this[ALLOW_STALE];\n  }\n\n  set maxAge(mA) {\n    if (typeof mA !== 'number') throw new TypeError('maxAge must be a non-negative number');\n    this[MAX_AGE] = mA;\n    trim(this);\n  }\n\n  get maxAge() {\n    return this[MAX_AGE];\n  } // resize the cache when the lengthCalculator changes.\n\n\n  set lengthCalculator(lC) {\n    if (typeof lC !== 'function') lC = naiveLength;\n\n    if (lC !== this[LENGTH_CALCULATOR]) {\n      this[LENGTH_CALCULATOR] = lC;\n      this[LENGTH] = 0;\n      this[LRU_LIST].forEach(hit => {\n        hit.length = this[LENGTH_CALCULATOR](hit.value, hit.key);\n        this[LENGTH] += hit.length;\n      });\n    }\n\n    trim(this);\n  }\n\n  get lengthCalculator() {\n    return this[LENGTH_CALCULATOR];\n  }\n\n  get length() {\n    return this[LENGTH];\n  }\n\n  get itemCount() {\n    return this[LRU_LIST].length;\n  }\n\n  rforEach(fn, thisp) {\n    thisp = thisp || this;\n\n    for (var walker = this[LRU_LIST].tail; walker !== null;) {\n      var prev = walker.prev;\n      forEachStep(this, fn, walker, thisp);\n      walker = prev;\n    }\n  }\n\n  forEach(fn, thisp) {\n    thisp = thisp || this;\n\n    for (var walker = this[LRU_LIST].head; walker !== null;) {\n      var next = walker.next;\n      forEachStep(this, fn, walker, thisp);\n      walker = next;\n    }\n  }\n\n  keys() {\n    return this[LRU_LIST].toArray().map(k => k.key);\n  }\n\n  values() {\n    return this[LRU_LIST].toArray().map(k => k.value);\n  }\n\n  reset() {\n    if (this[DISPOSE] && this[LRU_LIST] && this[LRU_LIST].length) {\n      this[LRU_LIST].forEach(hit => this[DISPOSE](hit.key, hit.value));\n    }\n\n    this[CACHE] = new Map(); // hash of items by key\n\n    this[LRU_LIST] = new Yallist(); // list of items in order of use recency\n\n    this[LENGTH] = 0; // length of items in the list\n  }\n\n  dump() {\n    return this[LRU_LIST].map(hit => isStale(this, hit) ? false : {\n      k: hit.key,\n      v: hit.value,\n      e: hit.now + (hit.maxAge || 0)\n    }).toArray().filter(h => h);\n  }\n\n  dumpLru() {\n    return this[LRU_LIST];\n  }\n\n  set(key, value, maxAge) {\n    maxAge = maxAge || this[MAX_AGE];\n    if (maxAge && typeof maxAge !== 'number') throw new TypeError('maxAge must be a number');\n    var now = maxAge ? Date.now() : 0;\n    var len = this[LENGTH_CALCULATOR](value, key);\n\n    if (this[CACHE].has(key)) {\n      if (len > this[MAX]) {\n        del(this, this[CACHE].get(key));\n        return false;\n      }\n\n      var node = this[CACHE].get(key);\n      var item = node.value; // dispose of the old one before overwriting\n      // split out into 2 ifs for better coverage tracking\n\n      if (this[DISPOSE]) {\n        if (!this[NO_DISPOSE_ON_SET]) this[DISPOSE](key, item.value);\n      }\n\n      item.now = now;\n      item.maxAge = maxAge;\n      item.value = value;\n      this[LENGTH] += len - item.length;\n      item.length = len;\n      this.get(key);\n      trim(this);\n      return true;\n    }\n\n    var hit = new Entry(key, value, len, now, maxAge); // oversized objects fall out of cache automatically.\n\n    if (hit.length > this[MAX]) {\n      if (this[DISPOSE]) this[DISPOSE](key, value);\n      return false;\n    }\n\n    this[LENGTH] += hit.length;\n    this[LRU_LIST].unshift(hit);\n    this[CACHE].set(key, this[LRU_LIST].head);\n    trim(this);\n    return true;\n  }\n\n  has(key) {\n    if (!this[CACHE].has(key)) return false;\n    var hit = this[CACHE].get(key).value;\n    return !isStale(this, hit);\n  }\n\n  get(key) {\n    return get(this, key, true);\n  }\n\n  peek(key) {\n    return get(this, key, false);\n  }\n\n  pop() {\n    var node = this[LRU_LIST].tail;\n    if (!node) return null;\n    del(this, node);\n    return node.value;\n  }\n\n  del(key) {\n    del(this, this[CACHE].get(key));\n  }\n\n  load(arr) {\n    // reset the cache\n    this.reset();\n    var now = Date.now(); // A previous serialized cache has the most recent items first\n\n    for (var l = arr.length - 1; l >= 0; l--) {\n      var hit = arr[l];\n      var expiresAt = hit.e || 0;\n      if (expiresAt === 0) // the item was created without expiration in a non aged cache\n        this.set(hit.k, hit.v);else {\n        var maxAge = expiresAt - now; // dont add already expired items\n\n        if (maxAge > 0) {\n          this.set(hit.k, hit.v, maxAge);\n        }\n      }\n    }\n  }\n\n  prune() {\n    this[CACHE].forEach((value, key) => get(this, key, false));\n  }\n\n}\n\nvar get = (self, key, doUse) => {\n  var node = self[CACHE].get(key);\n\n  if (node) {\n    var hit = node.value;\n\n    if (isStale(self, hit)) {\n      del(self, node);\n      if (!self[ALLOW_STALE]) return undefined;\n    } else {\n      if (doUse) {\n        if (self[UPDATE_AGE_ON_GET]) node.value.now = Date.now();\n        self[LRU_LIST].unshiftNode(node);\n      }\n    }\n\n    return hit.value;\n  }\n};\n\nvar isStale = (self, hit) => {\n  if (!hit || !hit.maxAge && !self[MAX_AGE]) return false;\n  var diff = Date.now() - hit.now;\n  return hit.maxAge ? diff > hit.maxAge : self[MAX_AGE] && diff > self[MAX_AGE];\n};\n\nvar trim = self => {\n  if (self[LENGTH] > self[MAX]) {\n    for (var walker = self[LRU_LIST].tail; self[LENGTH] > self[MAX] && walker !== null;) {\n      // We know that we're about to delete this one, and also\n      // what the next least recently used key will be, so just\n      // go ahead and set it now.\n      var prev = walker.prev;\n      del(self, walker);\n      walker = prev;\n    }\n  }\n};\n\nvar del = (self, node) => {\n  if (node) {\n    var hit = node.value;\n    if (self[DISPOSE]) self[DISPOSE](hit.key, hit.value);\n    self[LENGTH] -= hit.length;\n    self[CACHE].delete(hit.key);\n    self[LRU_LIST].removeNode(node);\n  }\n};\n\nclass Entry {\n  constructor(key, value, length, now, maxAge) {\n    this.key = key;\n    this.value = value;\n    this.length = length;\n    this.now = now;\n    this.maxAge = maxAge || 0;\n  }\n\n}\n\nvar forEachStep = (self, fn, node, thisp) => {\n  var hit = node.value;\n\n  if (isStale(self, hit)) {\n    del(self, node);\n    if (!self[ALLOW_STALE]) hit = undefined;\n  }\n\n  if (hit) fn.call(thisp, hit.value, hit.key, self);\n};\n\nvar lruCache = LRUCache; // obj with keys in a consistent order.\n\nvar opts = ['includePrerelease', 'loose', 'rtl'];\n\nvar parseOptions$3 = options => !options ? {} : typeof options !== 'object' ? {\n  loose: true\n} : opts.filter(k => options[k]).reduce((options, k) => {\n  options[k] = true;\n  return options;\n}, {});\n\nvar parseOptions_1 = parseOptions$3;\nvar re$3 = {\n  exports: {}\n}; // Not necessarily the package version of this code.\n\nvar SEMVER_SPEC_VERSION = '2.0.0';\nvar MAX_LENGTH$1 = 256;\nvar MAX_SAFE_INTEGER$1 = Number.MAX_SAFE_INTEGER ||\n/* istanbul ignore next */\n9007199254740991; // Max safe segment length for coercion.\n\nvar MAX_SAFE_COMPONENT_LENGTH = 16;\nvar constants = {\n  SEMVER_SPEC_VERSION,\n  MAX_LENGTH: MAX_LENGTH$1,\n  MAX_SAFE_INTEGER: MAX_SAFE_INTEGER$1,\n  MAX_SAFE_COMPONENT_LENGTH\n};\nvar debug$3 = typeof process === 'object' && process.env && process.env.NODE_DEBUG && /\\bsemver\\b/i.test(process.env.NODE_DEBUG) ? function () {\n  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n\n  return console.error('SEMVER', ...args);\n} : () => {};\nvar debug_1 = debug$3;\n\n(function (module, exports) {\n  var MAX_SAFE_COMPONENT_LENGTH = constants.MAX_SAFE_COMPONENT_LENGTH;\n  var debug = debug_1;\n  exports = module.exports = {}; // The actual regexps go on exports.re\n\n  var re = exports.re = [];\n  var src = exports.src = [];\n  var t = exports.t = {};\n  var R = 0;\n\n  var createToken = (name, value, isGlobal) => {\n    var index = R++;\n    debug(index, value);\n    t[name] = index;\n    src[index] = value;\n    re[index] = new RegExp(value, isGlobal ? 'g' : undefined);\n  }; // The following Regular Expressions can be used for tokenizing,\n  // validating, and parsing SemVer version strings.\n  // ## Numeric Identifier\n  // A single `0`, or a non-zero digit followed by zero or more digits.\n\n\n  createToken('NUMERICIDENTIFIER', '0|[1-9]\\\\d*');\n  createToken('NUMERICIDENTIFIERLOOSE', '[0-9]+'); // ## Non-numeric Identifier\n  // Zero or more digits, followed by a letter or hyphen, and then zero or\n  // more letters, digits, or hyphens.\n\n  createToken('NONNUMERICIDENTIFIER', '\\\\d*[a-zA-Z-][a-zA-Z0-9-]*'); // ## Main Version\n  // Three dot-separated numeric identifiers.\n\n  createToken('MAINVERSION', \"(\".concat(src[t.NUMERICIDENTIFIER], \")\\\\.\") + \"(\".concat(src[t.NUMERICIDENTIFIER], \")\\\\.\") + \"(\".concat(src[t.NUMERICIDENTIFIER], \")\"));\n  createToken('MAINVERSIONLOOSE', \"(\".concat(src[t.NUMERICIDENTIFIERLOOSE], \")\\\\.\") + \"(\".concat(src[t.NUMERICIDENTIFIERLOOSE], \")\\\\.\") + \"(\".concat(src[t.NUMERICIDENTIFIERLOOSE], \")\")); // ## Pre-release Version Identifier\n  // A numeric identifier, or a non-numeric identifier.\n\n  createToken('PRERELEASEIDENTIFIER', \"(?:\".concat(src[t.NUMERICIDENTIFIER], \"|\").concat(src[t.NONNUMERICIDENTIFIER], \")\"));\n  createToken('PRERELEASEIDENTIFIERLOOSE', \"(?:\".concat(src[t.NUMERICIDENTIFIERLOOSE], \"|\").concat(src[t.NONNUMERICIDENTIFIER], \")\")); // ## Pre-release Version\n  // Hyphen, followed by one or more dot-separated pre-release version\n  // identifiers.\n\n  createToken('PRERELEASE', \"(?:-(\".concat(src[t.PRERELEASEIDENTIFIER], \"(?:\\\\.\").concat(src[t.PRERELEASEIDENTIFIER], \")*))\"));\n  createToken('PRERELEASELOOSE', \"(?:-?(\".concat(src[t.PRERELEASEIDENTIFIERLOOSE], \"(?:\\\\.\").concat(src[t.PRERELEASEIDENTIFIERLOOSE], \")*))\")); // ## Build Metadata Identifier\n  // Any combination of digits, letters, or hyphens.\n\n  createToken('BUILDIDENTIFIER', '[0-9A-Za-z-]+'); // ## Build Metadata\n  // Plus sign, followed by one or more period-separated build metadata\n  // identifiers.\n\n  createToken('BUILD', \"(?:\\\\+(\".concat(src[t.BUILDIDENTIFIER], \"(?:\\\\.\").concat(src[t.BUILDIDENTIFIER], \")*))\")); // ## Full Version String\n  // A main version, followed optionally by a pre-release version and\n  // build metadata.\n  // Note that the only major, minor, patch, and pre-release sections of\n  // the version string are capturing groups.  The build metadata is not a\n  // capturing group, because it should not ever be used in version\n  // comparison.\n\n  createToken('FULLPLAIN', \"v?\".concat(src[t.MAINVERSION]).concat(src[t.PRERELEASE], \"?\").concat(src[t.BUILD], \"?\"));\n  createToken('FULL', \"^\".concat(src[t.FULLPLAIN], \"$\")); // like full, but allows v1.2.3 and =1.2.3, which people do sometimes.\n  // also, 1.0.0alpha1 (prerelease without the hyphen) which is pretty\n  // common in the npm registry.\n\n  createToken('LOOSEPLAIN', \"[v=\\\\s]*\".concat(src[t.MAINVERSIONLOOSE]).concat(src[t.PRERELEASELOOSE], \"?\").concat(src[t.BUILD], \"?\"));\n  createToken('LOOSE', \"^\".concat(src[t.LOOSEPLAIN], \"$\"));\n  createToken('GTLT', '((?:<|>)?=?)'); // Something like \"2.*\" or \"1.2.x\".\n  // Note that \"x.x\" is a valid xRange identifer, meaning \"any version\"\n  // Only the first item is strictly required.\n\n  createToken('XRANGEIDENTIFIERLOOSE', \"\".concat(src[t.NUMERICIDENTIFIERLOOSE], \"|x|X|\\\\*\"));\n  createToken('XRANGEIDENTIFIER', \"\".concat(src[t.NUMERICIDENTIFIER], \"|x|X|\\\\*\"));\n  createToken('XRANGEPLAIN', \"[v=\\\\s]*(\".concat(src[t.XRANGEIDENTIFIER], \")\") + \"(?:\\\\.(\".concat(src[t.XRANGEIDENTIFIER], \")\") + \"(?:\\\\.(\".concat(src[t.XRANGEIDENTIFIER], \")\") + \"(?:\".concat(src[t.PRERELEASE], \")?\").concat(src[t.BUILD], \"?\") + \")?)?\");\n  createToken('XRANGEPLAINLOOSE', \"[v=\\\\s]*(\".concat(src[t.XRANGEIDENTIFIERLOOSE], \")\") + \"(?:\\\\.(\".concat(src[t.XRANGEIDENTIFIERLOOSE], \")\") + \"(?:\\\\.(\".concat(src[t.XRANGEIDENTIFIERLOOSE], \")\") + \"(?:\".concat(src[t.PRERELEASELOOSE], \")?\").concat(src[t.BUILD], \"?\") + \")?)?\");\n  createToken('XRANGE', \"^\".concat(src[t.GTLT], \"\\\\s*\").concat(src[t.XRANGEPLAIN], \"$\"));\n  createToken('XRANGELOOSE', \"^\".concat(src[t.GTLT], \"\\\\s*\").concat(src[t.XRANGEPLAINLOOSE], \"$\")); // Coercion.\n  // Extract anything that could conceivably be a part of a valid semver\n\n  createToken('COERCE', \"\".concat('(^|[^\\\\d])' + '(\\\\d{1,').concat(MAX_SAFE_COMPONENT_LENGTH, \"})\") + \"(?:\\\\.(\\\\d{1,\".concat(MAX_SAFE_COMPONENT_LENGTH, \"}))?\") + \"(?:\\\\.(\\\\d{1,\".concat(MAX_SAFE_COMPONENT_LENGTH, \"}))?\") + \"(?:$|[^\\\\d])\");\n  createToken('COERCERTL', src[t.COERCE], true); // Tilde ranges.\n  // Meaning is \"reasonably at or greater than\"\n\n  createToken('LONETILDE', '(?:~>?)');\n  createToken('TILDETRIM', \"(\\\\s*)\".concat(src[t.LONETILDE], \"\\\\s+\"), true);\n  exports.tildeTrimReplace = '$1~';\n  createToken('TILDE', \"^\".concat(src[t.LONETILDE]).concat(src[t.XRANGEPLAIN], \"$\"));\n  createToken('TILDELOOSE', \"^\".concat(src[t.LONETILDE]).concat(src[t.XRANGEPLAINLOOSE], \"$\")); // Caret ranges.\n  // Meaning is \"at least and backwards compatible with\"\n\n  createToken('LONECARET', '(?:\\\\^)');\n  createToken('CARETTRIM', \"(\\\\s*)\".concat(src[t.LONECARET], \"\\\\s+\"), true);\n  exports.caretTrimReplace = '$1^';\n  createToken('CARET', \"^\".concat(src[t.LONECARET]).concat(src[t.XRANGEPLAIN], \"$\"));\n  createToken('CARETLOOSE', \"^\".concat(src[t.LONECARET]).concat(src[t.XRANGEPLAINLOOSE], \"$\")); // A simple gt/lt/eq thing, or just \"\" to indicate \"any version\"\n\n  createToken('COMPARATORLOOSE', \"^\".concat(src[t.GTLT], \"\\\\s*(\").concat(src[t.LOOSEPLAIN], \")$|^$\"));\n  createToken('COMPARATOR', \"^\".concat(src[t.GTLT], \"\\\\s*(\").concat(src[t.FULLPLAIN], \")$|^$\")); // An expression to strip any whitespace between the gtlt and the thing\n  // it modifies, so that `> 1.2.3` ==> `>1.2.3`\n\n  createToken('COMPARATORTRIM', \"(\\\\s*)\".concat(src[t.GTLT], \"\\\\s*(\").concat(src[t.LOOSEPLAIN], \"|\").concat(src[t.XRANGEPLAIN], \")\"), true);\n  exports.comparatorTrimReplace = '$1$2$3'; // Something like `1.2.3 - 1.2.4`\n  // Note that these all use the loose form, because they'll be\n  // checked against either the strict or loose comparator form\n  // later.\n\n  createToken('HYPHENRANGE', \"^\\\\s*(\".concat(src[t.XRANGEPLAIN], \")\") + \"\\\\s+-\\\\s+\" + \"(\".concat(src[t.XRANGEPLAIN], \")\") + \"\\\\s*$\");\n  createToken('HYPHENRANGELOOSE', \"^\\\\s*(\".concat(src[t.XRANGEPLAINLOOSE], \")\") + \"\\\\s+-\\\\s+\" + \"(\".concat(src[t.XRANGEPLAINLOOSE], \")\") + \"\\\\s*$\"); // Star ranges basically just allow anything at all.\n\n  createToken('STAR', '(<|>)?=?\\\\s*\\\\*'); // >=0.0.0 is like a star\n\n  createToken('GTE0', '^\\\\s*>=\\\\s*0\\.0\\.0\\\\s*$');\n  createToken('GTE0PRE', '^\\\\s*>=\\\\s*0\\.0\\.0-0\\\\s*$');\n})(re$3, re$3.exports);\n\nvar numeric = /^[0-9]+$/;\n\nvar compareIdentifiers$1 = (a, b) => {\n  var anum = numeric.test(a);\n  var bnum = numeric.test(b);\n\n  if (anum && bnum) {\n    a = +a;\n    b = +b;\n  }\n\n  return a === b ? 0 : anum && !bnum ? -1 : bnum && !anum ? 1 : a < b ? -1 : 1;\n};\n\nvar rcompareIdentifiers = (a, b) => compareIdentifiers$1(b, a);\n\nvar identifiers = {\n  compareIdentifiers: compareIdentifiers$1,\n  rcompareIdentifiers\n};\nvar debug$2 = debug_1;\nvar MAX_LENGTH = constants.MAX_LENGTH,\n    MAX_SAFE_INTEGER = constants.MAX_SAFE_INTEGER;\nvar re$2 = re$3.exports.re,\n    t$2 = re$3.exports.t;\nvar parseOptions$2 = parseOptions_1;\nvar compareIdentifiers = identifiers.compareIdentifiers;\n\nclass SemVer$3 {\n  constructor(version, options) {\n    options = parseOptions$2(options);\n\n    if (version instanceof SemVer$3) {\n      if (version.loose === !!options.loose && version.includePrerelease === !!options.includePrerelease) {\n        return version;\n      } else {\n        version = version.version;\n      }\n    } else if (typeof version !== 'string') {\n      throw new TypeError(\"Invalid Version: \".concat(version));\n    }\n\n    if (version.length > MAX_LENGTH) {\n      throw new TypeError(\"version is longer than \".concat(MAX_LENGTH, \" characters\"));\n    }\n\n    debug$2('SemVer', version, options);\n    this.options = options;\n    this.loose = !!options.loose; // this isn't actually relevant for versions, but keep it so that we\n    // don't run into trouble passing this.options around.\n\n    this.includePrerelease = !!options.includePrerelease;\n    var m = version.trim().match(options.loose ? re$2[t$2.LOOSE] : re$2[t$2.FULL]);\n\n    if (!m) {\n      throw new TypeError(\"Invalid Version: \".concat(version));\n    }\n\n    this.raw = version; // these are actually numbers\n\n    this.major = +m[1];\n    this.minor = +m[2];\n    this.patch = +m[3];\n\n    if (this.major > MAX_SAFE_INTEGER || this.major < 0) {\n      throw new TypeError('Invalid major version');\n    }\n\n    if (this.minor > MAX_SAFE_INTEGER || this.minor < 0) {\n      throw new TypeError('Invalid minor version');\n    }\n\n    if (this.patch > MAX_SAFE_INTEGER || this.patch < 0) {\n      throw new TypeError('Invalid patch version');\n    } // numberify any prerelease numeric ids\n\n\n    if (!m[4]) {\n      this.prerelease = [];\n    } else {\n      this.prerelease = m[4].split('.').map(id => {\n        if (/^[0-9]+$/.test(id)) {\n          var num = +id;\n\n          if (num >= 0 && num < MAX_SAFE_INTEGER) {\n            return num;\n          }\n        }\n\n        return id;\n      });\n    }\n\n    this.build = m[5] ? m[5].split('.') : [];\n    this.format();\n  }\n\n  format() {\n    this.version = \"\".concat(this.major, \".\").concat(this.minor, \".\").concat(this.patch);\n\n    if (this.prerelease.length) {\n      this.version += \"-\".concat(this.prerelease.join('.'));\n    }\n\n    return this.version;\n  }\n\n  toString() {\n    return this.version;\n  }\n\n  compare(other) {\n    debug$2('SemVer.compare', this.version, this.options, other);\n\n    if (!(other instanceof SemVer$3)) {\n      if (typeof other === 'string' && other === this.version) {\n        return 0;\n      }\n\n      other = new SemVer$3(other, this.options);\n    }\n\n    if (other.version === this.version) {\n      return 0;\n    }\n\n    return this.compareMain(other) || this.comparePre(other);\n  }\n\n  compareMain(other) {\n    if (!(other instanceof SemVer$3)) {\n      other = new SemVer$3(other, this.options);\n    }\n\n    return compareIdentifiers(this.major, other.major) || compareIdentifiers(this.minor, other.minor) || compareIdentifiers(this.patch, other.patch);\n  }\n\n  comparePre(other) {\n    if (!(other instanceof SemVer$3)) {\n      other = new SemVer$3(other, this.options);\n    } // NOT having a prerelease is > having one\n\n\n    if (this.prerelease.length && !other.prerelease.length) {\n      return -1;\n    } else if (!this.prerelease.length && other.prerelease.length) {\n      return 1;\n    } else if (!this.prerelease.length && !other.prerelease.length) {\n      return 0;\n    }\n\n    var i = 0;\n\n    do {\n      var a = this.prerelease[i];\n      var b = other.prerelease[i];\n      debug$2('prerelease compare', i, a, b);\n\n      if (a === undefined && b === undefined) {\n        return 0;\n      } else if (b === undefined) {\n        return 1;\n      } else if (a === undefined) {\n        return -1;\n      } else if (a === b) {\n        continue;\n      } else {\n        return compareIdentifiers(a, b);\n      }\n    } while (++i);\n  }\n\n  compareBuild(other) {\n    if (!(other instanceof SemVer$3)) {\n      other = new SemVer$3(other, this.options);\n    }\n\n    var i = 0;\n\n    do {\n      var a = this.build[i];\n      var b = other.build[i];\n      debug$2('prerelease compare', i, a, b);\n\n      if (a === undefined && b === undefined) {\n        return 0;\n      } else if (b === undefined) {\n        return 1;\n      } else if (a === undefined) {\n        return -1;\n      } else if (a === b) {\n        continue;\n      } else {\n        return compareIdentifiers(a, b);\n      }\n    } while (++i);\n  } // preminor will bump the version up to the next minor release, and immediately\n  // down to pre-release. premajor and prepatch work the same way.\n\n\n  inc(release, identifier) {\n    switch (release) {\n      case 'premajor':\n        this.prerelease.length = 0;\n        this.patch = 0;\n        this.minor = 0;\n        this.major++;\n        this.inc('pre', identifier);\n        break;\n\n      case 'preminor':\n        this.prerelease.length = 0;\n        this.patch = 0;\n        this.minor++;\n        this.inc('pre', identifier);\n        break;\n\n      case 'prepatch':\n        // If this is already a prerelease, it will bump to the next version\n        // drop any prereleases that might already exist, since they are not\n        // relevant at this point.\n        this.prerelease.length = 0;\n        this.inc('patch', identifier);\n        this.inc('pre', identifier);\n        break;\n      // If the input is a non-prerelease version, this acts the same as\n      // prepatch.\n\n      case 'prerelease':\n        if (this.prerelease.length === 0) {\n          this.inc('patch', identifier);\n        }\n\n        this.inc('pre', identifier);\n        break;\n\n      case 'major':\n        // If this is a pre-major version, bump up to the same major version.\n        // Otherwise increment major.\n        // 1.0.0-5 bumps to 1.0.0\n        // 1.1.0 bumps to 2.0.0\n        if (this.minor !== 0 || this.patch !== 0 || this.prerelease.length === 0) {\n          this.major++;\n        }\n\n        this.minor = 0;\n        this.patch = 0;\n        this.prerelease = [];\n        break;\n\n      case 'minor':\n        // If this is a pre-minor version, bump up to the same minor version.\n        // Otherwise increment minor.\n        // 1.2.0-5 bumps to 1.2.0\n        // 1.2.1 bumps to 1.3.0\n        if (this.patch !== 0 || this.prerelease.length === 0) {\n          this.minor++;\n        }\n\n        this.patch = 0;\n        this.prerelease = [];\n        break;\n\n      case 'patch':\n        // If this is not a pre-release version, it will increment the patch.\n        // If it is a pre-release it will bump up to the same patch version.\n        // 1.2.0-5 patches to 1.2.0\n        // 1.2.0 patches to 1.2.1\n        if (this.prerelease.length === 0) {\n          this.patch++;\n        }\n\n        this.prerelease = [];\n        break;\n      // This probably shouldn't be used publicly.\n      // 1.0.0 'pre' would become 1.0.0-0 which is the wrong direction.\n\n      case 'pre':\n        if (this.prerelease.length === 0) {\n          this.prerelease = [0];\n        } else {\n          var i = this.prerelease.length;\n\n          while (--i >= 0) {\n            if (typeof this.prerelease[i] === 'number') {\n              this.prerelease[i]++;\n              i = -2;\n            }\n          }\n\n          if (i === -1) {\n            // didn't increment anything\n            this.prerelease.push(0);\n          }\n        }\n\n        if (identifier) {\n          // 1.2.0-beta.1 bumps to 1.2.0-beta.2,\n          // 1.2.0-beta.fooblz or 1.2.0-beta bumps to 1.2.0-beta.0\n          if (this.prerelease[0] === identifier) {\n            if (isNaN(this.prerelease[1])) {\n              this.prerelease = [identifier, 0];\n            }\n          } else {\n            this.prerelease = [identifier, 0];\n          }\n        }\n\n        break;\n\n      default:\n        throw new Error(\"invalid increment argument: \".concat(release));\n    }\n\n    this.format();\n    this.raw = this.version;\n    return this;\n  }\n\n}\n\nvar semver = SemVer$3;\nvar SemVer$2 = semver;\n\nvar compare$6 = (a, b, loose) => new SemVer$2(a, loose).compare(new SemVer$2(b, loose));\n\nvar compare_1 = compare$6;\nvar compare$5 = compare_1;\n\nvar eq$1 = (a, b, loose) => compare$5(a, b, loose) === 0;\n\nvar eq_1 = eq$1;\nvar compare$4 = compare_1;\n\nvar neq$1 = (a, b, loose) => compare$4(a, b, loose) !== 0;\n\nvar neq_1 = neq$1;\nvar compare$3 = compare_1;\n\nvar gt$1 = (a, b, loose) => compare$3(a, b, loose) > 0;\n\nvar gt_1 = gt$1;\nvar compare$2 = compare_1;\n\nvar gte$1 = (a, b, loose) => compare$2(a, b, loose) >= 0;\n\nvar gte_1 = gte$1;\nvar compare$1 = compare_1;\n\nvar lt$1 = (a, b, loose) => compare$1(a, b, loose) < 0;\n\nvar lt_1 = lt$1;\nvar compare = compare_1;\n\nvar lte$1 = (a, b, loose) => compare(a, b, loose) <= 0;\n\nvar lte_1 = lte$1;\nvar eq = eq_1;\nvar neq = neq_1;\nvar gt = gt_1;\nvar gte = gte_1;\nvar lt = lt_1;\nvar lte = lte_1;\n\nvar cmp$1 = (a, op, b, loose) => {\n  switch (op) {\n    case '===':\n      if (typeof a === 'object') a = a.version;\n      if (typeof b === 'object') b = b.version;\n      return a === b;\n\n    case '!==':\n      if (typeof a === 'object') a = a.version;\n      if (typeof b === 'object') b = b.version;\n      return a !== b;\n\n    case '':\n    case '=':\n    case '==':\n      return eq(a, b, loose);\n\n    case '!=':\n      return neq(a, b, loose);\n\n    case '>':\n      return gt(a, b, loose);\n\n    case '>=':\n      return gte(a, b, loose);\n\n    case '<':\n      return lt(a, b, loose);\n\n    case '<=':\n      return lte(a, b, loose);\n\n    default:\n      throw new TypeError(\"Invalid operator: \".concat(op));\n  }\n};\n\nvar cmp_1 = cmp$1;\nvar ANY = Symbol('SemVer ANY'); // hoisted class for cyclic dependency\n\nclass Comparator$1 {\n  static get ANY() {\n    return ANY;\n  }\n\n  constructor(comp, options) {\n    options = parseOptions$1(options);\n\n    if (comp instanceof Comparator$1) {\n      if (comp.loose === !!options.loose) {\n        return comp;\n      } else {\n        comp = comp.value;\n      }\n    }\n\n    debug$1('comparator', comp, options);\n    this.options = options;\n    this.loose = !!options.loose;\n    this.parse(comp);\n\n    if (this.semver === ANY) {\n      this.value = '';\n    } else {\n      this.value = this.operator + this.semver.version;\n    }\n\n    debug$1('comp', this);\n  }\n\n  parse(comp) {\n    var r = this.options.loose ? re$1[t$1.COMPARATORLOOSE] : re$1[t$1.COMPARATOR];\n    var m = comp.match(r);\n\n    if (!m) {\n      throw new TypeError(\"Invalid comparator: \".concat(comp));\n    }\n\n    this.operator = m[1] !== undefined ? m[1] : '';\n\n    if (this.operator === '=') {\n      this.operator = '';\n    } // if it literally is just '>' or '' then allow anything.\n\n\n    if (!m[2]) {\n      this.semver = ANY;\n    } else {\n      this.semver = new SemVer$1(m[2], this.options.loose);\n    }\n  }\n\n  toString() {\n    return this.value;\n  }\n\n  test(version) {\n    debug$1('Comparator.test', version, this.options.loose);\n\n    if (this.semver === ANY || version === ANY) {\n      return true;\n    }\n\n    if (typeof version === 'string') {\n      try {\n        version = new SemVer$1(version, this.options);\n      } catch (er) {\n        return false;\n      }\n    }\n\n    return cmp(version, this.operator, this.semver, this.options);\n  }\n\n  intersects(comp, options) {\n    if (!(comp instanceof Comparator$1)) {\n      throw new TypeError('a Comparator is required');\n    }\n\n    if (!options || typeof options !== 'object') {\n      options = {\n        loose: !!options,\n        includePrerelease: false\n      };\n    }\n\n    if (this.operator === '') {\n      if (this.value === '') {\n        return true;\n      }\n\n      return new Range$2(comp.value, options).test(this.value);\n    } else if (comp.operator === '') {\n      if (comp.value === '') {\n        return true;\n      }\n\n      return new Range$2(this.value, options).test(comp.semver);\n    }\n\n    var sameDirectionIncreasing = (this.operator === '>=' || this.operator === '>') && (comp.operator === '>=' || comp.operator === '>');\n    var sameDirectionDecreasing = (this.operator === '<=' || this.operator === '<') && (comp.operator === '<=' || comp.operator === '<');\n    var sameSemVer = this.semver.version === comp.semver.version;\n    var differentDirectionsInclusive = (this.operator === '>=' || this.operator === '<=') && (comp.operator === '>=' || comp.operator === '<=');\n    var oppositeDirectionsLessThan = cmp(this.semver, '<', comp.semver, options) && (this.operator === '>=' || this.operator === '>') && (comp.operator === '<=' || comp.operator === '<');\n    var oppositeDirectionsGreaterThan = cmp(this.semver, '>', comp.semver, options) && (this.operator === '<=' || this.operator === '<') && (comp.operator === '>=' || comp.operator === '>');\n    return sameDirectionIncreasing || sameDirectionDecreasing || sameSemVer && differentDirectionsInclusive || oppositeDirectionsLessThan || oppositeDirectionsGreaterThan;\n  }\n\n}\n\nvar comparator = Comparator$1;\nvar parseOptions$1 = parseOptions_1;\nvar re$1 = re$3.exports.re,\n    t$1 = re$3.exports.t;\nvar cmp = cmp_1;\nvar debug$1 = debug_1;\nvar SemVer$1 = semver;\nvar Range$2 = range;\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) {\n  var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"];\n\n  if (!it) {\n    if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it) o = it;\n      var i = 0;\n\n      var F = function F() {};\n\n      return {\n        s: F,\n        n: function n() {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function e(_e) {\n          throw _e;\n        },\n        f: F\n      };\n    }\n\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var normalCompletion = true,\n      didErr = false,\n      err;\n  return {\n    s: function s() {\n      it = it.call(o);\n    },\n    n: function n() {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function e(_e2) {\n      didErr = true;\n      err = _e2;\n    },\n    f: function f() {\n      try {\n        if (!normalCompletion && it.return != null) it.return();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nclass Range$1 {\n  constructor(range, options) {\n    options = parseOptions(options);\n\n    if (range instanceof Range$1) {\n      if (range.loose === !!options.loose && range.includePrerelease === !!options.includePrerelease) {\n        return range;\n      } else {\n        return new Range$1(range.raw, options);\n      }\n    }\n\n    if (range instanceof Comparator) {\n      // just put it in the set and return\n      this.raw = range.value;\n      this.set = [[range]];\n      this.format();\n      return this;\n    }\n\n    this.options = options;\n    this.loose = !!options.loose;\n    this.includePrerelease = !!options.includePrerelease; // First, split based on boolean or ||\n\n    this.raw = range;\n    this.set = range.split(/\\s*\\|\\|\\s*/) // map the range to a 2d array of comparators\n    .map(range => this.parseRange(range.trim())) // throw out any comparator lists that are empty\n    // this generally means that it was not a valid range, which is allowed\n    // in loose mode, but will still throw if the WHOLE range is invalid.\n    .filter(c => c.length);\n\n    if (!this.set.length) {\n      throw new TypeError(\"Invalid SemVer Range: \".concat(range));\n    } // if we have any that are not the null set, throw out null sets.\n\n\n    if (this.set.length > 1) {\n      // keep the first one, in case they're all null sets\n      var first = this.set[0];\n      this.set = this.set.filter(c => !isNullSet(c[0]));\n      if (this.set.length === 0) this.set = [first];else if (this.set.length > 1) {\n        // if we have any that are *, then the range is just *\n        var _iterator = _createForOfIteratorHelper(this.set),\n            _step;\n\n        try {\n          for (_iterator.s(); !(_step = _iterator.n()).done;) {\n            var c = _step.value;\n\n            if (c.length === 1 && isAny(c[0])) {\n              this.set = [c];\n              break;\n            }\n          }\n        } catch (err) {\n          _iterator.e(err);\n        } finally {\n          _iterator.f();\n        }\n      }\n    }\n\n    this.format();\n  }\n\n  format() {\n    this.range = this.set.map(comps => {\n      return comps.join(' ').trim();\n    }).join('||').trim();\n    return this.range;\n  }\n\n  toString() {\n    return this.range;\n  }\n\n  parseRange(range) {\n    range = range.trim(); // memoize range parsing for performance.\n    // this is a very hot path, and fully deterministic.\n\n    var memoOpts = Object.keys(this.options).join(',');\n    var memoKey = \"parseRange:\".concat(memoOpts, \":\").concat(range);\n    var cached = cache.get(memoKey);\n    if (cached) return cached;\n    var loose = this.options.loose; // `1.2.3 - 1.2.4` => `>=1.2.3 <=1.2.4`\n\n    var hr = loose ? re[t.HYPHENRANGELOOSE] : re[t.HYPHENRANGE];\n    range = range.replace(hr, hyphenReplace(this.options.includePrerelease));\n    debug('hyphen replace', range); // `> 1.2.3 < 1.2.5` => `>1.2.3 <1.2.5`\n\n    range = range.replace(re[t.COMPARATORTRIM], comparatorTrimReplace);\n    debug('comparator trim', range, re[t.COMPARATORTRIM]); // `~ 1.2.3` => `~1.2.3`\n\n    range = range.replace(re[t.TILDETRIM], tildeTrimReplace); // `^ 1.2.3` => `^1.2.3`\n\n    range = range.replace(re[t.CARETTRIM], caretTrimReplace); // normalize spaces\n\n    range = range.split(/\\s+/).join(' '); // At this point, the range is completely trimmed and\n    // ready to be split into comparators.\n\n    var compRe = loose ? re[t.COMPARATORLOOSE] : re[t.COMPARATOR];\n    var rangeList = range.split(' ').map(comp => parseComparator(comp, this.options)).join(' ').split(/\\s+/) // >=0.0.0 is equivalent to *\n    .map(comp => replaceGTE0(comp, this.options)) // in loose mode, throw out any that are not valid comparators\n    .filter(this.options.loose ? comp => !!comp.match(compRe) : () => true).map(comp => new Comparator(comp, this.options)); // if any comparators are the null set, then replace with JUST null set\n    // if more than one comparator, remove any * comparators\n    // also, don't include the same comparator more than once\n\n    rangeList.length;\n    var rangeMap = new Map();\n\n    var _iterator2 = _createForOfIteratorHelper(rangeList),\n        _step2;\n\n    try {\n      for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n        var comp = _step2.value;\n        if (isNullSet(comp)) return [comp];\n        rangeMap.set(comp.value, comp);\n      }\n    } catch (err) {\n      _iterator2.e(err);\n    } finally {\n      _iterator2.f();\n    }\n\n    if (rangeMap.size > 1 && rangeMap.has('')) rangeMap.delete('');\n    var result = [...rangeMap.values()];\n    cache.set(memoKey, result);\n    return result;\n  }\n\n  intersects(range, options) {\n    if (!(range instanceof Range$1)) {\n      throw new TypeError('a Range is required');\n    }\n\n    return this.set.some(thisComparators => {\n      return isSatisfiable(thisComparators, options) && range.set.some(rangeComparators => {\n        return isSatisfiable(rangeComparators, options) && thisComparators.every(thisComparator => {\n          return rangeComparators.every(rangeComparator => {\n            return thisComparator.intersects(rangeComparator, options);\n          });\n        });\n      });\n    });\n  } // if ANY of the sets match ALL of its comparators, then pass\n\n\n  test(version) {\n    if (!version) {\n      return false;\n    }\n\n    if (typeof version === 'string') {\n      try {\n        version = new SemVer(version, this.options);\n      } catch (er) {\n        return false;\n      }\n    }\n\n    for (var i = 0; i < this.set.length; i++) {\n      if (testSet(this.set[i], version, this.options)) {\n        return true;\n      }\n    }\n\n    return false;\n  }\n\n}\n\nvar range = Range$1;\nvar LRU = lruCache;\nvar cache = new LRU({\n  max: 1000\n});\nvar parseOptions = parseOptions_1;\nvar Comparator = comparator;\nvar debug = debug_1;\nvar SemVer = semver;\nvar re = re$3.exports.re,\n    t = re$3.exports.t,\n    comparatorTrimReplace = re$3.exports.comparatorTrimReplace,\n    tildeTrimReplace = re$3.exports.tildeTrimReplace,\n    caretTrimReplace = re$3.exports.caretTrimReplace;\n\nvar isNullSet = c => c.value === '<0.0.0-0';\n\nvar isAny = c => c.value === ''; // take a set of comparators and determine whether there\n// exists a version which can satisfy it\n\n\nvar isSatisfiable = (comparators, options) => {\n  var result = true;\n  var remainingComparators = comparators.slice();\n  var testComparator = remainingComparators.pop();\n\n  while (result && remainingComparators.length) {\n    result = remainingComparators.every(otherComparator => {\n      return testComparator.intersects(otherComparator, options);\n    });\n    testComparator = remainingComparators.pop();\n  }\n\n  return result;\n}; // comprised of xranges, tildes, stars, and gtlt's at this point.\n// already replaced the hyphen ranges\n// turn into a set of JUST comparators.\n\n\nvar parseComparator = (comp, options) => {\n  debug('comp', comp, options);\n  comp = replaceCarets(comp, options);\n  debug('caret', comp);\n  comp = replaceTildes(comp, options);\n  debug('tildes', comp);\n  comp = replaceXRanges(comp, options);\n  debug('xrange', comp);\n  comp = replaceStars(comp, options);\n  debug('stars', comp);\n  return comp;\n};\n\nvar isX = id => !id || id.toLowerCase() === 'x' || id === '*'; // ~, ~> --> * (any, kinda silly)\n// ~2, ~2.x, ~2.x.x, ~>2, ~>2.x ~>2.x.x --> >=2.0.0 <3.0.0-0\n// ~2.0, ~2.0.x, ~>2.0, ~>2.0.x --> >=2.0.0 <2.1.0-0\n// ~1.2, ~1.2.x, ~>1.2, ~>1.2.x --> >=1.2.0 <1.3.0-0\n// ~1.2.3, ~>1.2.3 --> >=1.2.3 <1.3.0-0\n// ~1.2.0, ~>1.2.0 --> >=1.2.0 <1.3.0-0\n\n\nvar replaceTildes = (comp, options) => comp.trim().split(/\\s+/).map(comp => {\n  return replaceTilde(comp, options);\n}).join(' ');\n\nvar replaceTilde = (comp, options) => {\n  var r = options.loose ? re[t.TILDELOOSE] : re[t.TILDE];\n  return comp.replace(r, (_, M, m, p, pr) => {\n    debug('tilde', comp, _, M, m, p, pr);\n    var ret;\n\n    if (isX(M)) {\n      ret = '';\n    } else if (isX(m)) {\n      ret = \">=\".concat(M, \".0.0 <\").concat(+M + 1, \".0.0-0\");\n    } else if (isX(p)) {\n      // ~1.2 == >=1.2.0 <1.3.0-0\n      ret = \">=\".concat(M, \".\").concat(m, \".0 <\").concat(M, \".\").concat(+m + 1, \".0-0\");\n    } else if (pr) {\n      debug('replaceTilde pr', pr);\n      ret = \">=\".concat(M, \".\").concat(m, \".\").concat(p, \"-\").concat(pr, \" <\").concat(M, \".\").concat(+m + 1, \".0-0\");\n    } else {\n      // ~1.2.3 == >=1.2.3 <1.3.0-0\n      ret = \">=\".concat(M, \".\").concat(m, \".\").concat(p, \" <\").concat(M, \".\").concat(+m + 1, \".0-0\");\n    }\n\n    debug('tilde return', ret);\n    return ret;\n  });\n}; // ^ --> * (any, kinda silly)\n// ^2, ^2.x, ^2.x.x --> >=2.0.0 <3.0.0-0\n// ^2.0, ^2.0.x --> >=2.0.0 <3.0.0-0\n// ^1.2, ^1.2.x --> >=1.2.0 <2.0.0-0\n// ^1.2.3 --> >=1.2.3 <2.0.0-0\n// ^1.2.0 --> >=1.2.0 <2.0.0-0\n\n\nvar replaceCarets = (comp, options) => comp.trim().split(/\\s+/).map(comp => {\n  return replaceCaret(comp, options);\n}).join(' ');\n\nvar replaceCaret = (comp, options) => {\n  debug('caret', comp, options);\n  var r = options.loose ? re[t.CARETLOOSE] : re[t.CARET];\n  var z = options.includePrerelease ? '-0' : '';\n  return comp.replace(r, (_, M, m, p, pr) => {\n    debug('caret', comp, _, M, m, p, pr);\n    var ret;\n\n    if (isX(M)) {\n      ret = '';\n    } else if (isX(m)) {\n      ret = \">=\".concat(M, \".0.0\").concat(z, \" <\").concat(+M + 1, \".0.0-0\");\n    } else if (isX(p)) {\n      if (M === '0') {\n        ret = \">=\".concat(M, \".\").concat(m, \".0\").concat(z, \" <\").concat(M, \".\").concat(+m + 1, \".0-0\");\n      } else {\n        ret = \">=\".concat(M, \".\").concat(m, \".0\").concat(z, \" <\").concat(+M + 1, \".0.0-0\");\n      }\n    } else if (pr) {\n      debug('replaceCaret pr', pr);\n\n      if (M === '0') {\n        if (m === '0') {\n          ret = \">=\".concat(M, \".\").concat(m, \".\").concat(p, \"-\").concat(pr, \" <\").concat(M, \".\").concat(m, \".\").concat(+p + 1, \"-0\");\n        } else {\n          ret = \">=\".concat(M, \".\").concat(m, \".\").concat(p, \"-\").concat(pr, \" <\").concat(M, \".\").concat(+m + 1, \".0-0\");\n        }\n      } else {\n        ret = \">=\".concat(M, \".\").concat(m, \".\").concat(p, \"-\").concat(pr, \" <\").concat(+M + 1, \".0.0-0\");\n      }\n    } else {\n      debug('no pr');\n\n      if (M === '0') {\n        if (m === '0') {\n          ret = \">=\".concat(M, \".\").concat(m, \".\").concat(p).concat(z, \" <\").concat(M, \".\").concat(m, \".\").concat(+p + 1, \"-0\");\n        } else {\n          ret = \">=\".concat(M, \".\").concat(m, \".\").concat(p).concat(z, \" <\").concat(M, \".\").concat(+m + 1, \".0-0\");\n        }\n      } else {\n        ret = \">=\".concat(M, \".\").concat(m, \".\").concat(p, \" <\").concat(+M + 1, \".0.0-0\");\n      }\n    }\n\n    debug('caret return', ret);\n    return ret;\n  });\n};\n\nvar replaceXRanges = (comp, options) => {\n  debug('replaceXRanges', comp, options);\n  return comp.split(/\\s+/).map(comp => {\n    return replaceXRange(comp, options);\n  }).join(' ');\n};\n\nvar replaceXRange = (comp, options) => {\n  comp = comp.trim();\n  var r = options.loose ? re[t.XRANGELOOSE] : re[t.XRANGE];\n  return comp.replace(r, (ret, gtlt, M, m, p, pr) => {\n    debug('xRange', comp, ret, gtlt, M, m, p, pr);\n    var xM = isX(M);\n    var xm = xM || isX(m);\n    var xp = xm || isX(p);\n    var anyX = xp;\n\n    if (gtlt === '=' && anyX) {\n      gtlt = '';\n    } // if we're including prereleases in the match, then we need\n    // to fix this to -0, the lowest possible prerelease value\n\n\n    pr = options.includePrerelease ? '-0' : '';\n\n    if (xM) {\n      if (gtlt === '>' || gtlt === '<') {\n        // nothing is allowed\n        ret = '<0.0.0-0';\n      } else {\n        // nothing is forbidden\n        ret = '*';\n      }\n    } else if (gtlt && anyX) {\n      // we know patch is an x, because we have any x at all.\n      // replace X with 0\n      if (xm) {\n        m = 0;\n      }\n\n      p = 0;\n\n      if (gtlt === '>') {\n        // >1 => >=2.0.0\n        // >1.2 => >=1.3.0\n        gtlt = '>=';\n\n        if (xm) {\n          M = +M + 1;\n          m = 0;\n          p = 0;\n        } else {\n          m = +m + 1;\n          p = 0;\n        }\n      } else if (gtlt === '<=') {\n        // <=0.7.x is actually <0.8.0, since any 0.7.x should\n        // pass.  Similarly, <=7.x is actually <8.0.0, etc.\n        gtlt = '<';\n\n        if (xm) {\n          M = +M + 1;\n        } else {\n          m = +m + 1;\n        }\n      }\n\n      if (gtlt === '<') pr = '-0';\n      ret = \"\".concat(gtlt + M, \".\").concat(m, \".\").concat(p).concat(pr);\n    } else if (xm) {\n      ret = \">=\".concat(M, \".0.0\").concat(pr, \" <\").concat(+M + 1, \".0.0-0\");\n    } else if (xp) {\n      ret = \">=\".concat(M, \".\").concat(m, \".0\").concat(pr, \" <\").concat(M, \".\").concat(+m + 1, \".0-0\");\n    }\n\n    debug('xRange return', ret);\n    return ret;\n  });\n}; // Because * is AND-ed with everything else in the comparator,\n// and '' means \"any version\", just remove the *s entirely.\n\n\nvar replaceStars = (comp, options) => {\n  debug('replaceStars', comp, options); // Looseness is ignored here.  star is always as loose as it gets!\n\n  return comp.trim().replace(re[t.STAR], '');\n};\n\nvar replaceGTE0 = (comp, options) => {\n  debug('replaceGTE0', comp, options);\n  return comp.trim().replace(re[options.includePrerelease ? t.GTE0PRE : t.GTE0], '');\n}; // This function is passed to string.replace(re[t.HYPHENRANGE])\n// M, m, patch, prerelease, build\n// 1.2 - 3.4.5 => >=1.2.0 <=3.4.5\n// 1.2.3 - 3.4 => >=1.2.0 <3.5.0-0 Any 3.4.x will do\n// 1.2 - 3.4 => >=1.2.0 <3.5.0-0\n\n\nvar hyphenReplace = incPr => ($0, from, fM, fm, fp, fpr, fb, to, tM, tm, tp, tpr, tb) => {\n  if (isX(fM)) {\n    from = '';\n  } else if (isX(fm)) {\n    from = \">=\".concat(fM, \".0.0\").concat(incPr ? '-0' : '');\n  } else if (isX(fp)) {\n    from = \">=\".concat(fM, \".\").concat(fm, \".0\").concat(incPr ? '-0' : '');\n  } else if (fpr) {\n    from = \">=\".concat(from);\n  } else {\n    from = \">=\".concat(from).concat(incPr ? '-0' : '');\n  }\n\n  if (isX(tM)) {\n    to = '';\n  } else if (isX(tm)) {\n    to = \"<\".concat(+tM + 1, \".0.0-0\");\n  } else if (isX(tp)) {\n    to = \"<\".concat(tM, \".\").concat(+tm + 1, \".0-0\");\n  } else if (tpr) {\n    to = \"<=\".concat(tM, \".\").concat(tm, \".\").concat(tp, \"-\").concat(tpr);\n  } else if (incPr) {\n    to = \"<\".concat(tM, \".\").concat(tm, \".\").concat(+tp + 1, \"-0\");\n  } else {\n    to = \"<=\".concat(to);\n  }\n\n  return \"\".concat(from, \" \").concat(to).trim();\n};\n\nvar testSet = (set, version, options) => {\n  for (var i = 0; i < set.length; i++) {\n    if (!set[i].test(version)) {\n      return false;\n    }\n  }\n\n  if (version.prerelease.length && !options.includePrerelease) {\n    // Find the set of versions that are allowed to have prereleases\n    // For example, ^1.2.3-pr.1 desugars to >=1.2.3-pr.1 <2.0.0\n    // That should allow `1.2.3-pr.2` to pass.\n    // However, `1.2.4-alpha.notready` should NOT be allowed,\n    // even though it's within the range set by the comparators.\n    for (var _i = 0; _i < set.length; _i++) {\n      debug(set[_i].semver);\n\n      if (set[_i].semver === Comparator.ANY) {\n        continue;\n      }\n\n      if (set[_i].semver.prerelease.length > 0) {\n        var allowed = set[_i].semver;\n\n        if (allowed.major === version.major && allowed.minor === version.minor && allowed.patch === version.patch) {\n          return true;\n        }\n      }\n    } // Version has a -pre, but it's not one of the ones we like.\n\n\n    return false;\n  }\n\n  return true;\n};\n\nvar Range = range;\n\nvar satisfies = (version, range, options) => {\n  try {\n    range = new Range(range, options);\n  } catch (er) {\n    return false;\n  }\n\n  return range.test(version);\n};\n\nvar satisfies_1 = satisfies;\n/**\n * Open editor url in a new window, and pass a message.\n */\n\nfunction post(window, url, data) {\n  // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n  var editor = window.open(url);\n  var wait = 10000;\n  var step = 250;\n\n  var _URL = new URL(url),\n      origin = _URL.origin; // eslint-disable-next-line no-bitwise\n\n\n  var count = ~~(wait / step);\n\n  function listen(evt) {\n    if (evt.source === editor) {\n      count = 0;\n      window.removeEventListener('message', listen, false);\n    }\n  }\n\n  window.addEventListener('message', listen, false); // send message\n  // periodically resend until ack received or timeout\n\n  function send() {\n    if (count <= 0) {\n      return;\n    }\n\n    editor.postMessage(data, origin);\n    setTimeout(send, step);\n    count -= 1;\n  }\n\n  setTimeout(send, step);\n} // generated with build-style.sh\n\n\nvar embedStyle = \".vega-embed {\\n  position: relative;\\n  display: inline-block;\\n  box-sizing: border-box;\\n}\\n.vega-embed.has-actions {\\n  padding-right: 38px;\\n}\\n.vega-embed details:not([open]) > :not(summary) {\\n  display: none !important;\\n}\\n.vega-embed summary {\\n  list-style: none;\\n  position: absolute;\\n  top: 0;\\n  right: 0;\\n  padding: 6px;\\n  z-index: 1000;\\n  background: white;\\n  box-shadow: 1px 1px 3px rgba(0, 0, 0, 0.1);\\n  color: #1b1e23;\\n  border: 1px solid #aaa;\\n  border-radius: 999px;\\n  opacity: 0.2;\\n  transition: opacity 0.4s ease-in;\\n  cursor: pointer;\\n  line-height: 0px;\\n}\\n.vega-embed summary::-webkit-details-marker {\\n  display: none;\\n}\\n.vega-embed summary:active {\\n  box-shadow: #aaa 0px 0px 0px 1px inset;\\n}\\n.vega-embed summary svg {\\n  width: 14px;\\n  height: 14px;\\n}\\n.vega-embed details[open] summary {\\n  opacity: 0.7;\\n}\\n.vega-embed:hover summary, .vega-embed:focus-within summary {\\n  opacity: 1 !important;\\n  transition: opacity 0.2s ease;\\n}\\n.vega-embed .vega-actions {\\n  position: absolute;\\n  z-index: 1001;\\n  top: 35px;\\n  right: -9px;\\n  display: flex;\\n  flex-direction: column;\\n  padding-bottom: 8px;\\n  padding-top: 8px;\\n  border-radius: 4px;\\n  box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.2);\\n  border: 1px solid #d9d9d9;\\n  background: white;\\n  animation-duration: 0.15s;\\n  animation-name: scale-in;\\n  animation-timing-function: cubic-bezier(0.2, 0, 0.13, 1.5);\\n  text-align: left;\\n}\\n.vega-embed .vega-actions a {\\n  padding: 8px 16px;\\n  font-family: sans-serif;\\n  font-size: 14px;\\n  font-weight: 600;\\n  white-space: nowrap;\\n  color: #434a56;\\n  text-decoration: none;\\n}\\n.vega-embed .vega-actions a:hover, .vega-embed .vega-actions a:focus {\\n  background-color: #f7f7f9;\\n  color: black;\\n}\\n.vega-embed .vega-actions::before, .vega-embed .vega-actions::after {\\n  content: \\\"\\\";\\n  display: inline-block;\\n  position: absolute;\\n}\\n.vega-embed .vega-actions::before {\\n  left: auto;\\n  right: 14px;\\n  top: -16px;\\n  border: 8px solid #0000;\\n  border-bottom-color: #d9d9d9;\\n}\\n.vega-embed .vega-actions::after {\\n  left: auto;\\n  right: 15px;\\n  top: -14px;\\n  border: 7px solid #0000;\\n  border-bottom-color: #fff;\\n}\\n.vega-embed .chart-wrapper.fit-x {\\n  width: 100%;\\n}\\n.vega-embed .chart-wrapper.fit-y {\\n  height: 100%;\\n}\\n\\n.vega-embed-wrapper {\\n  max-width: 100%;\\n  overflow: auto;\\n  padding-right: 14px;\\n}\\n\\n@keyframes scale-in {\\n  from {\\n    opacity: 0;\\n    transform: scale(0.6);\\n  }\\n  to {\\n    opacity: 1;\\n    transform: scale(1);\\n  }\\n}\\n\";\n\nif (!String.prototype.startsWith) {\n  // eslint-disable-next-line no-extend-native,func-names\n  String.prototype.startsWith = function (search, pos) {\n    return this.substr(!pos || pos < 0 ? 0 : +pos, search.length) === search;\n  };\n}\n\nfunction mergeDeep(dest) {\n  for (var _len = arguments.length, src = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    src[_key - 1] = arguments[_key];\n  }\n\n  for (var _i = 0, _src = src; _i < _src.length; _i++) {\n    var s = _src[_i];\n    deepMerge_(dest, s);\n  }\n\n  return dest;\n}\n\nfunction deepMerge_(dest, src) {\n  for (var _i2 = 0, _Object$keys = Object.keys(src); _i2 < _Object$keys.length; _i2++) {\n    var property = _Object$keys[_i2];\n    writeConfig(dest, property, src[property], true);\n  }\n}\n\nvar name = \"vega-embed\";\nvar version$1 = \"6.20.8\";\nvar description = \"Publish Vega visualizations as embedded web components.\";\nvar keywords = [\"vega\", \"data\", \"visualization\", \"component\", \"embed\"];\nvar repository = {\n  type: \"git\",\n  url: \"http://github.com/vega/vega-embed.git\"\n};\nvar author = {\n  name: \"UW Interactive Data Lab\",\n  url: \"http://idl.cs.washington.edu\"\n};\nvar contributors = [{\n  name: \"Dominik Moritz\",\n  url: \"https://www.domoritz.de\"\n}];\nvar bugs = {\n  url: \"https://github.com/vega/vega-embed/issues\"\n};\nvar homepage = \"https://github.com/vega/vega-embed#readme\";\nvar license = \"BSD-3-Clause\";\nvar main = \"build/vega-embed.js\";\nvar module = \"build/vega-embed.module.js\";\nvar unpkg = \"build/vega-embed.min.js\";\nvar jsdelivr = \"build/vega-embed.min.js\";\nvar types = \"build/vega-embed.module.d.ts\";\nvar files = [\"src\", \"build\", \"build-es5\", \"patches\"];\nvar devDependencies = {\n  \"@auto-it/conventional-commits\": \"^10.32.6\",\n  \"@auto-it/first-time-contributor\": \"^10.32.6\",\n  \"@babel/plugin-transform-runtime\": \"^7.17.0\",\n  \"@rollup/plugin-commonjs\": \"21.0.1\",\n  \"@rollup/plugin-json\": \"^4.1.0\",\n  \"@rollup/plugin-node-resolve\": \"^13.1.3\",\n  \"@types/semver\": \"^7.3.9\",\n  auto: \"^10.32.6\",\n  \"browser-sync\": \"^2.27.7\",\n  concurrently: \"^7.0.0\",\n  \"del-cli\": \"^4.0.1\",\n  \"jest-canvas-mock\": \"^2.3.1\",\n  \"patch-package\": \"^6.4.7\",\n  \"postinstall-postinstall\": \"^2.1.0\",\n  rollup: \"2.67.2\",\n  \"rollup-plugin-bundle-size\": \"^1.0.3\",\n  \"rollup-plugin-terser\": \"^7.0.2\",\n  \"rollup-plugin-ts\": \"^2.0.5\",\n  sass: \"^1.49.7\",\n  typescript: \"^4.5.5\",\n  vega: \"^5.21.0\",\n  \"vega-lite\": \"^5.0.0\",\n  \"vega-lite-dev-config\": \"^0.20.0\"\n};\nvar peerDependencies = {\n  vega: \"^5.21.0\",\n  \"vega-lite\": \"*\"\n};\nvar dependencies = {\n  \"fast-json-patch\": \"^3.1.0\",\n  \"json-stringify-pretty-compact\": \"^3.0.0\",\n  semver: \"^7.3.5\",\n  tslib: \"^2.3.1\",\n  \"vega-interpreter\": \"^1.0.4\",\n  \"vega-schema-url-parser\": \"^2.2.0\",\n  \"vega-themes\": \"^2.10.0\",\n  \"vega-tooltip\": \"^0.28.0\"\n};\nvar bundledDependencies = [\"yallist\"];\nvar scripts = {\n  prebuild: \"yarn clean && yarn build:style\",\n  build: \"rollup -c\",\n  \"build:style\": \"./build-style.sh\",\n  clean: \"del-cli build build-es5 src/style.ts\",\n  prepublishOnly: \"yarn clean && yarn build\",\n  preversion: \"yarn lint && yarn test\",\n  serve: \"browser-sync start --directory -s -f build *.html\",\n  start: \"yarn build && concurrently --kill-others -n Server,Rollup 'yarn serve' 'rollup -c -w'\",\n  pretest: \"yarn build:style\",\n  test: \"beemo jest --stdio stream\",\n  \"test:inspect\": \"node --inspect-brk ./node_modules/.bin/jest --runInBand\",\n  prepare: \"beemo create-config && npx patch-package\",\n  prettierbase: \"beemo prettier '*.{css,scss,html}'\",\n  eslintbase: \"beemo eslint .\",\n  format: \"yarn eslintbase --fix && yarn prettierbase --write\",\n  lint: \"yarn eslintbase && yarn prettierbase --check\",\n  release: \"yarn build && auto shipit\"\n};\nvar pkg = {\n  name: name,\n  version: version$1,\n  description: description,\n  keywords: keywords,\n  repository: repository,\n  author: author,\n  contributors: contributors,\n  bugs: bugs,\n  homepage: homepage,\n  license: license,\n  main: main,\n  module: module,\n  unpkg: unpkg,\n  jsdelivr: jsdelivr,\n  types: types,\n  files: files,\n  devDependencies: devDependencies,\n  peerDependencies: peerDependencies,\n  dependencies: dependencies,\n  bundledDependencies: bundledDependencies,\n  scripts: scripts\n};\n\nvar _w$vl;\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n\n  return target;\n}\n\nvar version = pkg.version;\nvar vega = vegaImport;\nvar _vegaLite = vegaLiteImport; // For backwards compatibility with Vega-Lite before v4.\n\nvar w = typeof window !== 'undefined' ? window : undefined;\n\nif (_vegaLite === undefined && w !== null && w !== void 0 && (_w$vl = w.vl) !== null && _w$vl !== void 0 && _w$vl.compile) {\n  _vegaLite = w.vl;\n}\n\nvar DEFAULT_ACTIONS = {\n  export: {\n    svg: true,\n    png: true\n  },\n  source: true,\n  compiled: true,\n  editor: true\n};\nvar I18N = {\n  CLICK_TO_VIEW_ACTIONS: 'Click to view actions',\n  COMPILED_ACTION: 'View Compiled Vega',\n  EDITOR_ACTION: 'Open in Vega Editor',\n  PNG_ACTION: 'Save as PNG',\n  SOURCE_ACTION: 'View Source',\n  SVG_ACTION: 'Save as SVG'\n};\nvar NAMES = {\n  vega: 'Vega',\n  'vega-lite': 'Vega-Lite'\n};\nvar VERSION = {\n  vega: vega.version,\n  'vega-lite': _vegaLite ? _vegaLite.version : 'not available'\n};\nvar PREPROCESSOR = {\n  vega: vgSpec => vgSpec,\n  'vega-lite': (vlSpec, config) => _vegaLite.compile(vlSpec, {\n    config: config\n  }).spec\n};\nvar SVG_CIRCLES = \"\\n<svg viewBox=\\\"0 0 16 16\\\" fill=\\\"currentColor\\\" stroke=\\\"none\\\" stroke-width=\\\"1\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\">\\n  <circle r=\\\"2\\\" cy=\\\"8\\\" cx=\\\"2\\\"></circle>\\n  <circle r=\\\"2\\\" cy=\\\"8\\\" cx=\\\"8\\\"></circle>\\n  <circle r=\\\"2\\\" cy=\\\"8\\\" cx=\\\"14\\\"></circle>\\n</svg>\";\nvar CHART_WRAPPER_CLASS = 'chart-wrapper';\n\nfunction isTooltipHandler(h) {\n  return typeof h === 'function';\n}\n\nfunction viewSource(source, sourceHeader, sourceFooter, mode) {\n  var header = \"<html><head>\".concat(sourceHeader, \"</head><body><pre><code class=\\\"json\\\">\");\n  var footer = \"</code></pre>\".concat(sourceFooter, \"</body></html>\"); // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n\n  var win = window.open('');\n  win.document.write(header + source + footer);\n  win.document.title = \"\".concat(NAMES[mode], \" JSON Source\");\n}\n/**\n * Try to guess the type of spec.\n *\n * @param spec Vega or Vega-Lite spec.\n */\n\n\nfunction guessMode(spec, providedMode) {\n  // Decide mode\n  if (spec.$schema) {\n    var parsed = schemaParser(spec.$schema);\n\n    if (providedMode && providedMode !== parsed.library) {\n      var _NAMES$providedMode;\n\n      console.warn(\"The given visualization spec is written in \".concat(NAMES[parsed.library], \", but mode argument sets \").concat((_NAMES$providedMode = NAMES[providedMode]) !== null && _NAMES$providedMode !== void 0 ? _NAMES$providedMode : providedMode, \".\"));\n    }\n\n    var mode = parsed.library;\n\n    if (!satisfies_1(VERSION[mode], \"^\".concat(parsed.version.slice(1)))) {\n      console.warn(\"The input spec uses \".concat(NAMES[mode], \" \").concat(parsed.version, \", but the current version of \").concat(NAMES[mode], \" is v\").concat(VERSION[mode], \".\"));\n    }\n\n    return mode;\n  } // try to guess from the provided spec\n\n\n  if ('mark' in spec || 'encoding' in spec || 'layer' in spec || 'hconcat' in spec || 'vconcat' in spec || 'facet' in spec || 'repeat' in spec) {\n    return 'vega-lite';\n  }\n\n  if ('marks' in spec || 'signals' in spec || 'scales' in spec || 'axes' in spec) {\n    return 'vega';\n  }\n\n  return providedMode !== null && providedMode !== void 0 ? providedMode : 'vega';\n}\n\nfunction isLoader(o) {\n  return !!(o && 'load' in o);\n}\n\nfunction createLoader(opts) {\n  return isLoader(opts) ? opts : vega.loader(opts);\n}\n\nfunction embedOptionsFromUsermeta(parsedSpec) {\n  var _parsedSpec$usermeta$, _parsedSpec$usermeta;\n\n  var opts = (_parsedSpec$usermeta$ = (_parsedSpec$usermeta = parsedSpec.usermeta) === null || _parsedSpec$usermeta === void 0 ? void 0 : _parsedSpec$usermeta.embedOptions) !== null && _parsedSpec$usermeta$ !== void 0 ? _parsedSpec$usermeta$ : {};\n\n  if (isString(opts.defaultStyle)) {\n    // we don't allow styles set via usermeta since it would allow injection of logic (we set the style via innerHTML)\n    opts.defaultStyle = false;\n  }\n\n  return opts;\n}\n/**\n * Embed a Vega visualization component in a web page. This function returns a promise.\n *\n * @param el        DOM element in which to place component (DOM node or CSS selector).\n * @param spec      String : A URL string from which to load the Vega specification.\n *                  Object : The Vega/Vega-Lite specification as a parsed JSON object.\n * @param opts       A JavaScript object containing options for embedding.\n */\n\n\nfunction embed(_x, _x2) {\n  return _embed2.apply(this, arguments);\n}\n\nfunction _embed2() {\n  _embed2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(el, spec) {\n    var _parsedOpts$config, _usermetaOpts$config;\n\n    var opts,\n        parsedSpec,\n        loader,\n        loadedEmbedOptions,\n        usermetaLoader,\n        _opts$loader,\n        usermetaOpts,\n        parsedOpts,\n        mergedOpts,\n        _args = arguments;\n\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            opts = _args.length > 2 && _args[2] !== undefined ? _args[2] : {};\n\n            if (!isString(spec)) {\n              _context.next = 10;\n              break;\n            }\n\n            loader = createLoader(opts.loader);\n            _context.t0 = JSON;\n            _context.next = 6;\n            return loader.load(spec);\n\n          case 6:\n            _context.t1 = _context.sent;\n            parsedSpec = _context.t0.parse.call(_context.t0, _context.t1);\n            _context.next = 11;\n            break;\n\n          case 10:\n            parsedSpec = spec;\n\n          case 11:\n            loadedEmbedOptions = embedOptionsFromUsermeta(parsedSpec);\n            usermetaLoader = loadedEmbedOptions.loader; // either create the loader for the first time or create a new loader if the spec has new loader options\n\n            if (!loader || usermetaLoader) {\n              loader = createLoader((_opts$loader = opts.loader) !== null && _opts$loader !== void 0 ? _opts$loader : usermetaLoader);\n            }\n\n            _context.next = 16;\n            return loadOpts(loadedEmbedOptions, loader);\n\n          case 16:\n            usermetaOpts = _context.sent;\n            _context.next = 19;\n            return loadOpts(opts, loader);\n\n          case 19:\n            parsedOpts = _context.sent;\n            mergedOpts = _objectSpread(_objectSpread({}, mergeDeep(parsedOpts, usermetaOpts)), {}, {\n              config: mergeConfig((_parsedOpts$config = parsedOpts.config) !== null && _parsedOpts$config !== void 0 ? _parsedOpts$config : {}, (_usermetaOpts$config = usermetaOpts.config) !== null && _usermetaOpts$config !== void 0 ? _usermetaOpts$config : {})\n            });\n            _context.next = 23;\n            return _embed(el, parsedSpec, mergedOpts, loader);\n\n          case 23:\n            return _context.abrupt(\"return\", _context.sent);\n\n          case 24:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return _embed2.apply(this, arguments);\n}\n\nfunction loadOpts(_x3, _x4) {\n  return _loadOpts.apply(this, arguments);\n}\n\nfunction _loadOpts() {\n  _loadOpts = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(opt, loader) {\n    var _opt$config;\n\n    var config, patch;\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            if (!isString(opt.config)) {\n              _context2.next = 8;\n              break;\n            }\n\n            _context2.t1 = JSON;\n            _context2.next = 4;\n            return loader.load(opt.config);\n\n          case 4:\n            _context2.t2 = _context2.sent;\n            _context2.t0 = _context2.t1.parse.call(_context2.t1, _context2.t2);\n            _context2.next = 9;\n            break;\n\n          case 8:\n            _context2.t0 = (_opt$config = opt.config) !== null && _opt$config !== void 0 ? _opt$config : {};\n\n          case 9:\n            config = _context2.t0;\n\n            if (!isString(opt.patch)) {\n              _context2.next = 18;\n              break;\n            }\n\n            _context2.t4 = JSON;\n            _context2.next = 14;\n            return loader.load(opt.patch);\n\n          case 14:\n            _context2.t5 = _context2.sent;\n            _context2.t3 = _context2.t4.parse.call(_context2.t4, _context2.t5);\n            _context2.next = 19;\n            break;\n\n          case 18:\n            _context2.t3 = opt.patch;\n\n          case 19:\n            patch = _context2.t3;\n            return _context2.abrupt(\"return\", _objectSpread(_objectSpread(_objectSpread({}, opt), patch ? {\n              patch\n            } : {}), config ? {\n              config\n            } : {}));\n\n          case 21:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n  return _loadOpts.apply(this, arguments);\n}\n\nfunction getRoot(el) {\n  var _document$head;\n\n  var possibleRoot = el.getRootNode ? el.getRootNode() : document;\n  return possibleRoot instanceof ShadowRoot ? {\n    root: possibleRoot,\n    rootContainer: possibleRoot\n  } : {\n    root: document,\n    rootContainer: (_document$head = document.head) !== null && _document$head !== void 0 ? _document$head : document.body\n  };\n}\n\nfunction _embed(_x5, _x6) {\n  return _embed3.apply(this, arguments);\n}\n\nfunction _embed3() {\n  _embed3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4(el, spec) {\n    var _opts$config, _opts$actions, _opts$renderer, _opts$logLevel, _opts$downloadFileNam, _ref, _vega$expressionInter;\n\n    var opts,\n        loader,\n        config,\n        actions,\n        i18n,\n        renderer,\n        logLevel,\n        downloadFileName,\n        element,\n        ID,\n        _getRoot,\n        root,\n        rootContainer,\n        style,\n        mode,\n        vgSpec,\n        parsed,\n        container,\n        chartWrapper,\n        patch,\n        ast,\n        runtime,\n        view,\n        handler,\n        hover,\n        _ref2,\n        hoverSet,\n        updateSet,\n        documentClickHandler,\n        wrapper,\n        details,\n        summary,\n        ctrl,\n        _loop,\n        _i,\n        _arr,\n        viewSourceLink,\n        compileLink,\n        _opts$editorUrl,\n        editorUrl,\n        editorLink,\n        finalize,\n        _args4 = arguments;\n\n    return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            finalize = function _finalize() {\n              if (documentClickHandler) {\n                document.removeEventListener('click', documentClickHandler);\n              }\n\n              view.finalize();\n            };\n\n            opts = _args4.length > 2 && _args4[2] !== undefined ? _args4[2] : {};\n            loader = _args4.length > 3 ? _args4[3] : undefined;\n            config = opts.theme ? mergeConfig(themes[opts.theme], (_opts$config = opts.config) !== null && _opts$config !== void 0 ? _opts$config : {}) : opts.config;\n            actions = isBoolean(opts.actions) ? opts.actions : mergeDeep({}, DEFAULT_ACTIONS, (_opts$actions = opts.actions) !== null && _opts$actions !== void 0 ? _opts$actions : {});\n            i18n = _objectSpread(_objectSpread({}, I18N), opts.i18n);\n            renderer = (_opts$renderer = opts.renderer) !== null && _opts$renderer !== void 0 ? _opts$renderer : 'canvas';\n            logLevel = (_opts$logLevel = opts.logLevel) !== null && _opts$logLevel !== void 0 ? _opts$logLevel : vega.Warn;\n            downloadFileName = (_opts$downloadFileNam = opts.downloadFileName) !== null && _opts$downloadFileNam !== void 0 ? _opts$downloadFileNam : 'visualization';\n            element = typeof el === 'string' ? document.querySelector(el) : el;\n\n            if (element) {\n              _context4.next = 12;\n              break;\n            }\n\n            throw new Error(\"\".concat(el, \" does not exist\"));\n\n          case 12:\n            if (opts.defaultStyle !== false) {\n              ID = 'vega-embed-style';\n              _getRoot = getRoot(element), root = _getRoot.root, rootContainer = _getRoot.rootContainer;\n\n              if (!root.getElementById(ID)) {\n                style = document.createElement('style');\n                style.id = ID;\n                style.innerHTML = opts.defaultStyle === undefined || opts.defaultStyle === true ? embedStyle.toString() : opts.defaultStyle;\n                rootContainer.appendChild(style);\n              }\n            }\n\n            mode = guessMode(spec, opts.mode);\n            vgSpec = PREPROCESSOR[mode](spec, config);\n\n            if (mode === 'vega-lite') {\n              if (vgSpec.$schema) {\n                parsed = schemaParser(vgSpec.$schema);\n\n                if (!satisfies_1(VERSION.vega, \"^\".concat(parsed.version.slice(1)))) {\n                  console.warn(\"The compiled spec uses Vega \".concat(parsed.version, \", but current version is v\").concat(VERSION.vega, \".\"));\n                }\n              }\n            }\n\n            element.classList.add('vega-embed');\n\n            if (actions) {\n              element.classList.add('has-actions');\n            }\n\n            element.innerHTML = ''; // clear container\n\n            container = element;\n\n            if (actions) {\n              chartWrapper = document.createElement('div');\n              chartWrapper.classList.add(CHART_WRAPPER_CLASS);\n              element.appendChild(chartWrapper);\n              container = chartWrapper;\n            }\n\n            patch = opts.patch;\n\n            if (patch) {\n              vgSpec = patch instanceof Function ? patch(vgSpec) : applyPatch(vgSpec, patch, true, false).newDocument;\n            } // Set locale. Note that this is a global setting.\n\n\n            if (opts.formatLocale) {\n              vega.formatLocale(opts.formatLocale);\n            }\n\n            if (opts.timeFormatLocale) {\n              vega.timeFormatLocale(opts.timeFormatLocale);\n            }\n\n            ast = opts.ast; // Do not apply the config to Vega when we have already applied it to Vega-Lite.\n            // This call may throw an Error if parsing fails.\n\n            runtime = vega.parse(vgSpec, mode === 'vega-lite' ? {} : config, {\n              ast\n            });\n            view = new (opts.viewClass || vega.View)(runtime, _objectSpread({\n              loader,\n              logLevel,\n              renderer\n            }, ast ? {\n              expr: (_ref = (_vega$expressionInter = vega.expressionInterpreter) !== null && _vega$expressionInter !== void 0 ? _vega$expressionInter : opts.expr) !== null && _ref !== void 0 ? _ref : expressionInterpreter\n            } : {}));\n            view.addSignalListener('autosize', (_, autosize) => {\n              var type = autosize.type;\n\n              if (type == 'fit-x') {\n                container.classList.add('fit-x');\n                container.classList.remove('fit-y');\n              } else if (type == 'fit-y') {\n                container.classList.remove('fit-x');\n                container.classList.add('fit-y');\n              } else if (type == 'fit') {\n                container.classList.add('fit-x', 'fit-y');\n              } else {\n                container.classList.remove('fit-x', 'fit-y');\n              }\n            });\n\n            if (opts.tooltip !== false) {\n              handler = isTooltipHandler(opts.tooltip) ? opts.tooltip : // user provided boolean true or tooltip options\n              new Handler(opts.tooltip === true ? {} : opts.tooltip).call;\n              view.tooltip(handler);\n            }\n\n            hover = opts.hover;\n\n            if (hover === undefined) {\n              hover = mode === 'vega';\n            }\n\n            if (hover) {\n              _ref2 = typeof hover === 'boolean' ? {} : hover, hoverSet = _ref2.hoverSet, updateSet = _ref2.updateSet;\n              view.hover(hoverSet, updateSet);\n            }\n\n            if (opts) {\n              if (opts.width != null) {\n                view.width(opts.width);\n              }\n\n              if (opts.height != null) {\n                view.height(opts.height);\n              }\n\n              if (opts.padding != null) {\n                view.padding(opts.padding);\n              }\n            }\n\n            _context4.next = 36;\n            return view.initialize(container, opts.bind).runAsync();\n\n          case 36:\n            if (actions !== false) {\n              wrapper = element;\n\n              if (opts.defaultStyle !== false) {\n                details = document.createElement('details');\n                details.title = i18n.CLICK_TO_VIEW_ACTIONS;\n                element.append(details);\n                wrapper = details;\n                summary = document.createElement('summary');\n                summary.innerHTML = SVG_CIRCLES;\n                details.append(summary);\n\n                documentClickHandler = ev => {\n                  if (!details.contains(ev.target)) {\n                    details.removeAttribute('open');\n                  }\n                };\n\n                document.addEventListener('click', documentClickHandler);\n              }\n\n              ctrl = document.createElement('div');\n              wrapper.append(ctrl);\n              ctrl.classList.add('vega-actions'); // add 'Export' action\n\n              if (actions === true || actions.export !== false) {\n                _loop = function _loop() {\n                  var ext = _arr[_i];\n\n                  if (actions === true || actions.export === true || actions.export[ext]) {\n                    var i18nExportAction = i18n[\"\".concat(ext.toUpperCase(), \"_ACTION\")];\n                    var exportLink = document.createElement('a');\n                    exportLink.text = i18nExportAction;\n                    exportLink.href = '#';\n                    exportLink.target = '_blank';\n                    exportLink.download = \"\".concat(downloadFileName, \".\").concat(ext); // add link on mousedown so that it's correct when the click happens\n\n                    exportLink.addEventListener('mousedown', /*#__PURE__*/function () {\n                      var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(e) {\n                        var url;\n                        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n                          while (1) {\n                            switch (_context3.prev = _context3.next) {\n                              case 0:\n                                e.preventDefault();\n                                _context3.next = 3;\n                                return view.toImageURL(ext, opts.scaleFactor);\n\n                              case 3:\n                                url = _context3.sent;\n                                this.href = url;\n\n                              case 5:\n                              case \"end\":\n                                return _context3.stop();\n                            }\n                          }\n                        }, _callee3, this);\n                      }));\n\n                      return function (_x7) {\n                        return _ref3.apply(this, arguments);\n                      };\n                    }());\n                    ctrl.append(exportLink);\n                  }\n                };\n\n                for (_i = 0, _arr = ['svg', 'png']; _i < _arr.length; _i++) {\n                  _loop();\n                }\n              } // add 'View Source' action\n\n\n              if (actions === true || actions.source !== false) {\n                viewSourceLink = document.createElement('a');\n                viewSourceLink.text = i18n.SOURCE_ACTION;\n                viewSourceLink.href = '#';\n                viewSourceLink.addEventListener('click', function (e) {\n                  var _opts$sourceHeader, _opts$sourceFooter;\n\n                  viewSource(stringify(spec), (_opts$sourceHeader = opts.sourceHeader) !== null && _opts$sourceHeader !== void 0 ? _opts$sourceHeader : '', (_opts$sourceFooter = opts.sourceFooter) !== null && _opts$sourceFooter !== void 0 ? _opts$sourceFooter : '', mode);\n                  e.preventDefault();\n                });\n                ctrl.append(viewSourceLink);\n              } // add 'View Compiled' action\n\n\n              if (mode === 'vega-lite' && (actions === true || actions.compiled !== false)) {\n                compileLink = document.createElement('a');\n                compileLink.text = i18n.COMPILED_ACTION;\n                compileLink.href = '#';\n                compileLink.addEventListener('click', function (e) {\n                  var _opts$sourceHeader2, _opts$sourceFooter2;\n\n                  viewSource(stringify(vgSpec), (_opts$sourceHeader2 = opts.sourceHeader) !== null && _opts$sourceHeader2 !== void 0 ? _opts$sourceHeader2 : '', (_opts$sourceFooter2 = opts.sourceFooter) !== null && _opts$sourceFooter2 !== void 0 ? _opts$sourceFooter2 : '', 'vega');\n                  e.preventDefault();\n                });\n                ctrl.append(compileLink);\n              } // add 'Open in Vega Editor' action\n\n\n              if (actions === true || actions.editor !== false) {\n                editorUrl = (_opts$editorUrl = opts.editorUrl) !== null && _opts$editorUrl !== void 0 ? _opts$editorUrl : 'https://vega.github.io/editor/';\n                editorLink = document.createElement('a');\n                editorLink.text = i18n.EDITOR_ACTION;\n                editorLink.href = '#';\n                editorLink.addEventListener('click', function (e) {\n                  post(window, editorUrl, {\n                    config: config,\n                    mode,\n                    renderer,\n                    spec: stringify(spec)\n                  });\n                  e.preventDefault();\n                });\n                ctrl.append(editorLink);\n              }\n            }\n\n            return _context4.abrupt(\"return\", {\n              view,\n              spec,\n              vgSpec,\n              finalize,\n              embedOptions: opts\n            });\n\n          case 38:\n          case \"end\":\n            return _context4.stop();\n        }\n      }\n    }, _callee4);\n  }));\n  return _embed3.apply(this, arguments);\n}\n\nexport { DEFAULT_ACTIONS, embed as default, guessMode, vega, _vegaLite as vegaLite, version };","map":{"version":3,"mappings":"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","names":["_defineProperty","obj","key","value","Object","defineProperty","enumerable","configurable","writable","asyncGeneratorStep","gen","resolve","reject","_next","_throw","arg","info","error","done","Promise","then","_asyncToGenerator","fn","self","args","arguments","apply","err","undefined","Op","prototype","hasOwn","hasOwnProperty","$Symbol","Symbol","iteratorSymbol","iterator","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","wrap","innerFn","outerFn","tryLocsList","protoGenerator","Generator","generator","create","context","Context","_invoke","makeInvokeMethod","tryCatch","type","call","GenStateSuspendedStart","GenStateSuspendedYield","GenStateExecuting","GenStateCompleted","ContinueSentinel","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","getPrototypeOf","NativeIteratorPrototype","values","Gp","constructor","displayName","defineIteratorMethods","forEach","method","isGeneratorFunction","genFun","ctor","name","mark","setPrototypeOf","__proto__","awrap","__await","AsyncIterator","PromiseImpl","invoke","record","result","unwrapped","previousPromise","enqueue","callInvokeWithMethodAndArg","async","iter","next","state","Error","doneResult","delegate","delegateResult","maybeInvokeDelegate","sent","_sent","dispatchException","abrupt","TypeError","resultName","nextLoc","toString","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","push","resetTryEntry","completion","reset","keys","object","reverse","length","pop","iterable","iteratorMethod","isNaN","i","skipTempReset","prev","charAt","slice","stop","rootEntry","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","thrown","delegateYield","yallist","Yallist","Node","list","tail","head","item","l","removeNode","node","unshiftNode","pushNode","unshift","res","shift","thisp","walker","forEachReverse","get","n","getReverse","map","mapReverse","reduce","initial","acc","reduceReverse","toArray","arr","Array","toArrayReverse","from","to","ret","sliceReverse","splice","start","deleteCount","insert","p","inserted","_context","er","require$$0","MAX","LENGTH","LENGTH_CALCULATOR","ALLOW_STALE","MAX_AGE","DISPOSE","NO_DISPOSE_ON_SET","LRU_LIST","CACHE","UPDATE_AGE_ON_GET","naiveLength","LRUCache","options","max","Infinity","lc","stale","maxAge","dispose","noDisposeOnSet","updateAgeOnGet","mL","trim","allowStale","mA","lengthCalculator","lC","hit","itemCount","rforEach","forEachStep","k","Map","dump","isStale","v","e","now","filter","h","dumpLru","set","Date","len","has","del","Entry","peek","load","expiresAt","prune","doUse","diff","delete","lruCache","opts","parseOptions","loose","parseOptions_1","SEMVER_SPEC_VERSION","MAX_LENGTH","MAX_SAFE_INTEGER","Number","MAX_SAFE_COMPONENT_LENGTH","constants","debug","process","env","NODE_DEBUG","test","console","debug_1","require$$1","exports","module","re","src","t","R","createToken","isGlobal","index","RegExp","NUMERICIDENTIFIER","NUMERICIDENTIFIERLOOSE","NONNUMERICIDENTIFIER","PRERELEASEIDENTIFIER","PRERELEASEIDENTIFIERLOOSE","BUILDIDENTIFIER","MAINVERSION","PRERELEASE","BUILD","FULLPLAIN","MAINVERSIONLOOSE","PRERELEASELOOSE","LOOSEPLAIN","XRANGEIDENTIFIER","XRANGEIDENTIFIERLOOSE","GTLT","XRANGEPLAIN","XRANGEPLAINLOOSE","COERCE","LONETILDE","LONECARET","numeric","compareIdentifiers","a","b","anum","bnum","rcompareIdentifiers","identifiers","require$$2","require$$3","require$$4","SemVer","version","includePrerelease","m","match","LOOSE","FULL","raw","major","minor","patch","prerelease","split","id","num","build","format","join","compare","other","compareMain","comparePre","compareBuild","inc","release","identifier","semver","compare_1","eq","eq_1","neq","neq_1","gt","gt_1","gte","gte_1","lt","lt_1","lte","lte_1","require$$5","cmp","op","cmp_1","ANY","Comparator","comp","parse","operator","r","COMPARATORLOOSE","COMPARATOR","intersects","Range","sameDirectionIncreasing","sameDirectionDecreasing","sameSemVer","differentDirectionsInclusive","oppositeDirectionsLessThan","oppositeDirectionsGreaterThan","comparator","range","parseRange","c","first","isNullSet","isAny","_iterator","comps","memoOpts","memoKey","cached","cache","hr","HYPHENRANGELOOSE","HYPHENRANGE","replace","hyphenReplace","COMPARATORTRIM","comparatorTrimReplace","TILDETRIM","tildeTrimReplace","CARETTRIM","caretTrimReplace","compRe","rangeList","parseComparator","replaceGTE0","rangeMap","_iterator2","size","some","thisComparators","isSatisfiable","rangeComparators","every","thisComparator","rangeComparator","testSet","LRU","comparators","remainingComparators","testComparator","otherComparator","replaceCarets","replaceTildes","replaceXRanges","replaceStars","isX","toLowerCase","replaceTilde","TILDELOOSE","TILDE","_","M","pr","replaceCaret","CARETLOOSE","CARET","z","replaceXRange","XRANGELOOSE","XRANGE","gtlt","xM","xm","xp","anyX","STAR","GTE0PRE","GTE0","incPr","$0","fM","fm","fp","fpr","fb","tM","tm","tp","tpr","tb","allowed","satisfies","satisfies_1","window","url","data","editor","open","wait","step","URL","origin","count","listen","evt","source","removeEventListener","addEventListener","send","postMessage","setTimeout","String","startsWith","search","pos","substr","mergeDeep","dest","s","deepMerge_","property","writeConfig","pkg","vega","vegaImport","vegaLite","vegaLiteImport","w","vl","_w$vl","compile","DEFAULT_ACTIONS","export","svg","png","compiled","I18N","CLICK_TO_VIEW_ACTIONS","COMPILED_ACTION","EDITOR_ACTION","PNG_ACTION","SOURCE_ACTION","SVG_ACTION","NAMES","VERSION","PREPROCESSOR","vgSpec","vlSpec","config","spec","SVG_CIRCLES","CHART_WRAPPER_CLASS","isTooltipHandler","viewSource","sourceHeader","sourceFooter","mode","header","footer","win","document","write","title","guessMode","providedMode","$schema","parsed","schemaParser","library","warn","isLoader","o","createLoader","loader","embedOptionsFromUsermeta","parsedSpec","usermeta","_parsedSpec$usermeta","embedOptions","isString","defaultStyle","embed","_x","el","JSON","loadedEmbedOptions","usermetaLoader","loadOpts","usermetaOpts","parsedOpts","mergedOpts","mergeConfig","_embed","opt","_context2","getRoot","possibleRoot","getRootNode","ShadowRoot","root","rootContainer","body","finalize","documentClickHandler","view","theme","themes","actions","isBoolean","i18n","renderer","logLevel","Warn","downloadFileName","element","querySelector","_context4","ID","_getRoot","getElementById","style","createElement","innerHTML","embedStyle","appendChild","classList","add","container","chartWrapper","Function","applyPatch","newDocument","formatLocale","timeFormatLocale","ast","runtime","viewClass","View","expr","expressionInterpreter","addSignalListener","autosize","remove","tooltip","handler","Handler","hover","_ref2","hoverSet","updateSet","width","height","padding","initialize","bind","runAsync","wrapper","details","append","summary","ev","contains","target","removeAttribute","ctrl","_loop","ext","i18nExportAction","toUpperCase","exportLink","text","href","download","preventDefault","_context3","toImageURL","scaleFactor","viewSourceLink","stringify","compileLink","editorUrl","editorLink","post"],"sources":["/Users/darcyroche/Documents/cathracha is tíreolaíocht/public life observations/plo-viz-app/node_modules/vega-embed/node_modules/@babel/runtime/helpers/esm/defineProperty.js","/Users/darcyroche/Documents/cathracha is tíreolaíocht/public life observations/plo-viz-app/node_modules/vega-embed/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","/Users/darcyroche/Documents/cathracha is tíreolaíocht/public life observations/plo-viz-app/node_modules/vega-embed/node_modules/@babel/runtime/regenerator/index.js","/Users/darcyroche/Documents/cathracha is tíreolaíocht/public life observations/plo-viz-app/node_modules/vega-embed/node_modules/yallist/yallist.js","/Users/darcyroche/Documents/cathracha is tíreolaíocht/public life observations/plo-viz-app/node_modules/vega-embed/node_modules/lru-cache/index.js","/Users/darcyroche/Documents/cathracha is tíreolaíocht/public life observations/plo-viz-app/node_modules/vega-embed/node_modules/semver/internal/parse-options.js","/Users/darcyroche/Documents/cathracha is tíreolaíocht/public life observations/plo-viz-app/node_modules/vega-embed/node_modules/semver/internal/constants.js","/Users/darcyroche/Documents/cathracha is tíreolaíocht/public life observations/plo-viz-app/node_modules/vega-embed/node_modules/semver/internal/debug.js","/Users/darcyroche/Documents/cathracha is tíreolaíocht/public life observations/plo-viz-app/node_modules/vega-embed/node_modules/semver/internal/re.js","/Users/darcyroche/Documents/cathracha is tíreolaíocht/public life observations/plo-viz-app/node_modules/vega-embed/node_modules/semver/internal/identifiers.js","/Users/darcyroche/Documents/cathracha is tíreolaíocht/public life observations/plo-viz-app/node_modules/vega-embed/node_modules/semver/classes/semver.js","/Users/darcyroche/Documents/cathracha is tíreolaíocht/public life observations/plo-viz-app/node_modules/vega-embed/node_modules/semver/functions/compare.js","/Users/darcyroche/Documents/cathracha is tíreolaíocht/public life observations/plo-viz-app/node_modules/vega-embed/node_modules/semver/functions/eq.js","/Users/darcyroche/Documents/cathracha is tíreolaíocht/public life observations/plo-viz-app/node_modules/vega-embed/node_modules/semver/functions/neq.js","/Users/darcyroche/Documents/cathracha is tíreolaíocht/public life observations/plo-viz-app/node_modules/vega-embed/node_modules/semver/functions/gt.js","/Users/darcyroche/Documents/cathracha is tíreolaíocht/public life observations/plo-viz-app/node_modules/vega-embed/node_modules/semver/functions/gte.js","/Users/darcyroche/Documents/cathracha is tíreolaíocht/public life observations/plo-viz-app/node_modules/vega-embed/node_modules/semver/functions/lt.js","/Users/darcyroche/Documents/cathracha is tíreolaíocht/public life observations/plo-viz-app/node_modules/vega-embed/node_modules/semver/functions/lte.js","/Users/darcyroche/Documents/cathracha is tíreolaíocht/public life observations/plo-viz-app/node_modules/vega-embed/node_modules/semver/functions/cmp.js","/Users/darcyroche/Documents/cathracha is tíreolaíocht/public life observations/plo-viz-app/node_modules/vega-embed/node_modules/semver/classes/comparator.js","/Users/darcyroche/Documents/cathracha is tíreolaíocht/public life observations/plo-viz-app/node_modules/vega-embed/node_modules/semver/classes/range.js","/Users/darcyroche/Documents/cathracha is tíreolaíocht/public life observations/plo-viz-app/node_modules/vega-embed/node_modules/semver/functions/satisfies.js","/Users/darcyroche/Documents/cathracha is tíreolaíocht/public life observations/plo-viz-app/node_modules/vega-embed/src/post.ts","/Users/darcyroche/Documents/cathracha is tíreolaíocht/public life observations/plo-viz-app/node_modules/vega-embed/src/style.ts","/Users/darcyroche/Documents/cathracha is tíreolaíocht/public life observations/plo-viz-app/node_modules/vega-embed/src/util.ts","/Users/darcyroche/Documents/cathracha is tíreolaíocht/public life observations/plo-viz-app/node_modules/vega-embed/src/embed.ts"],"sourcesContent":["export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\"use strict\";\n\nvar Op = Object.prototype;\nvar hasOwn = Op.hasOwnProperty;\nvar undefined; // More compressible than void 0.\nvar $Symbol = typeof Symbol === \"function\" ? Symbol : {};\nvar iteratorSymbol = $Symbol.iterator || \"@@iterator\";\nvar asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\nvar toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\nfunction wrap(innerFn, outerFn, self, tryLocsList) {\n  // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n  var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n  var generator = Object.create(protoGenerator.prototype);\n  var context = new Context(tryLocsList || []);\n\n  // The ._invoke method unifies the implementations of the .next,\n  // .throw, and .return methods.\n  generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n  return generator;\n}\n\n// Try/catch helper to minimize deoptimizations. Returns a completion\n// record like context.tryEntries[i].completion. This interface could\n// have been (and was previously) designed to take a closure to be\n// invoked without arguments, but in all the cases we care about we\n// already have an existing method we want to call, so there's no need\n// to create a new function object. We can even get away with assuming\n// the method takes exactly one argument, since that happens to be true\n// in every case, so we don't have to touch the arguments object. The\n// only additional allocation required is the completion record, which\n// has a stable shape and so hopefully should be cheap to allocate.\nfunction tryCatch(fn, obj, arg) {\n  try {\n    return { type: \"normal\", arg: fn.call(obj, arg) };\n  } catch (err) {\n    return { type: \"throw\", arg: err };\n  }\n}\n\nvar GenStateSuspendedStart = \"suspendedStart\";\nvar GenStateSuspendedYield = \"suspendedYield\";\nvar GenStateExecuting = \"executing\";\nvar GenStateCompleted = \"completed\";\n\n// Returning this object from the innerFn has the same effect as\n// breaking out of the dispatch switch statement.\nvar ContinueSentinel = {};\n\n// Dummy constructor functions that we use as the .constructor and\n// .constructor.prototype properties for functions that return Generator\n// objects. For full spec compliance, you may wish to configure your\n// minifier not to mangle the names of these two functions.\nfunction Generator() {}\nfunction GeneratorFunction() {}\nfunction GeneratorFunctionPrototype() {}\n\n// This is a polyfill for %IteratorPrototype% for environments that\n// don't natively support it.\nvar IteratorPrototype = {};\nIteratorPrototype[iteratorSymbol] = function () {\n  return this;\n};\n\nvar getProto = Object.getPrototypeOf;\nvar NativeIteratorPrototype = getProto && getProto(getProto(values([])));\nif (NativeIteratorPrototype &&\n  NativeIteratorPrototype !== Op &&\n  hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n  // This environment has a native %IteratorPrototype%; use it instead\n  // of the polyfill.\n  IteratorPrototype = NativeIteratorPrototype;\n}\n\nvar Gp = GeneratorFunctionPrototype.prototype =\n  Generator.prototype = Object.create(IteratorPrototype);\nGeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\nGeneratorFunctionPrototype.constructor = GeneratorFunction;\nGeneratorFunctionPrototype[toStringTagSymbol] =\n  GeneratorFunction.displayName = \"GeneratorFunction\";\n\n// Helper for defining the .next, .throw, and .return methods of the\n// Iterator interface in terms of a single ._invoke method.\nfunction defineIteratorMethods(prototype) {\n  [\"next\", \"throw\", \"return\"].forEach(function(method) {\n    prototype[method] = function(arg) {\n      return this._invoke(method, arg);\n    };\n  });\n}\n\nfunction isGeneratorFunction (genFun) {\n  var ctor = typeof genFun === \"function\" && genFun.constructor;\n  return ctor\n    ? ctor === GeneratorFunction ||\n    // For the native GeneratorFunction constructor, the best we can\n    // do is to check its .name property.\n    (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n    : false;\n};\n\nfunction mark (genFun) {\n  if (Object.setPrototypeOf) {\n    Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n  } else {\n    genFun.__proto__ = GeneratorFunctionPrototype;\n    if (!(toStringTagSymbol in genFun)) {\n      genFun[toStringTagSymbol] = \"GeneratorFunction\";\n    }\n  }\n  genFun.prototype = Object.create(Gp);\n  return genFun;\n};\n\n// Within the body of any async function, `await x` is transformed to\n// `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n// `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n// meant to be awaited.\nfunction awrap (arg) {\n  return { __await: arg };\n};\n\nfunction AsyncIterator(generator, PromiseImpl) {\n  function invoke(method, arg, resolve, reject) {\n    var record = tryCatch(generator[method], generator, arg);\n    if (record.type === \"throw\") {\n      reject(record.arg);\n    } else {\n      var result = record.arg;\n      var value = result.value;\n      if (value &&\n        typeof value === \"object\" &&\n        hasOwn.call(value, \"__await\")) {\n        return PromiseImpl.resolve(value.__await).then(function(value) {\n          invoke(\"next\", value, resolve, reject);\n        }, function(err) {\n          invoke(\"throw\", err, resolve, reject);\n        });\n      }\n\n      return PromiseImpl.resolve(value).then(function(unwrapped) {\n        // When a yielded Promise is resolved, its final value becomes\n        // the .value of the Promise<{value,done}> result for the\n        // current iteration.\n        result.value = unwrapped;\n        resolve(result);\n      }, function(error) {\n        // If a rejected Promise was yielded, throw the rejection back\n        // into the async generator function so it can be handled there.\n        return invoke(\"throw\", error, resolve, reject);\n      });\n    }\n  }\n\n  var previousPromise;\n\n  function enqueue(method, arg) {\n    function callInvokeWithMethodAndArg() {\n      return new PromiseImpl(function(resolve, reject) {\n        invoke(method, arg, resolve, reject);\n      });\n    }\n\n    return previousPromise =\n      // If enqueue has been called before, then we want to wait until\n      // all previous Promises have been resolved before calling invoke,\n      // so that results are always delivered in the correct order. If\n      // enqueue has not been called before, then it is important to\n      // call invoke immediately, without waiting on a callback to fire,\n      // so that the async generator function has the opportunity to do\n      // any necessary setup in a predictable way. This predictability\n      // is why the Promise constructor synchronously invokes its\n      // executor callback, and why async functions synchronously\n      // execute code before the first await. Since we implement simple\n      // async functions in terms of async generators, it is especially\n      // important to get this right, even though it requires care.\n      previousPromise ? previousPromise.then(\n        callInvokeWithMethodAndArg,\n        // Avoid propagating failures to Promises returned by later\n        // invocations of the iterator.\n        callInvokeWithMethodAndArg\n      ) : callInvokeWithMethodAndArg();\n  }\n\n  // Define the unified helper method that is used to implement .next,\n  // .throw, and .return (see defineIteratorMethods).\n  this._invoke = enqueue;\n}\n\ndefineIteratorMethods(AsyncIterator.prototype);\nAsyncIterator.prototype[asyncIteratorSymbol] = function () {\n  return this;\n};\n\n// Note that simple async functions are implemented on top of\n// AsyncIterator objects; they just return a Promise for the value of\n// the final result produced by the iterator.\n function async (innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n  if (PromiseImpl === void 0) PromiseImpl = Promise;\n\n  var iter = new AsyncIterator(\n    wrap(innerFn, outerFn, self, tryLocsList),\n    PromiseImpl\n  );\n\n  return isGeneratorFunction(outerFn)\n    ? iter // If outerFn is a generator, return the full iterator.\n    : iter.next().then(function(result) {\n      return result.done ? result.value : iter.next();\n    });\n};\n\nfunction makeInvokeMethod(innerFn, self, context) {\n  var state = GenStateSuspendedStart;\n\n  return function invoke(method, arg) {\n    if (state === GenStateExecuting) {\n      throw new Error(\"Generator is already running\");\n    }\n\n    if (state === GenStateCompleted) {\n      if (method === \"throw\") {\n        throw arg;\n      }\n\n      // Be forgiving, per 25.3.3.3.3 of the spec:\n      // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n      return doneResult();\n    }\n\n    context.method = method;\n    context.arg = arg;\n\n    while (true) {\n      var delegate = context.delegate;\n      if (delegate) {\n        var delegateResult = maybeInvokeDelegate(delegate, context);\n        if (delegateResult) {\n          if (delegateResult === ContinueSentinel) continue;\n          return delegateResult;\n        }\n      }\n\n      if (context.method === \"next\") {\n        // Setting context._sent for legacy support of Babel's\n        // function.sent implementation.\n        context.sent = context._sent = context.arg;\n\n      } else if (context.method === \"throw\") {\n        if (state === GenStateSuspendedStart) {\n          state = GenStateCompleted;\n          throw context.arg;\n        }\n\n        context.dispatchException(context.arg);\n\n      } else if (context.method === \"return\") {\n        context.abrupt(\"return\", context.arg);\n      }\n\n      state = GenStateExecuting;\n\n      var record = tryCatch(innerFn, self, context);\n      if (record.type === \"normal\") {\n        // If an exception is thrown from innerFn, we leave state ===\n        // GenStateExecuting and loop back for another invocation.\n        state = context.done\n          ? GenStateCompleted\n          : GenStateSuspendedYield;\n\n        if (record.arg === ContinueSentinel) {\n          continue;\n        }\n\n        return {\n          value: record.arg,\n          done: context.done\n        };\n\n      } else if (record.type === \"throw\") {\n        state = GenStateCompleted;\n        // Dispatch the exception by looping back around to the\n        // context.dispatchException(context.arg) call above.\n        context.method = \"throw\";\n        context.arg = record.arg;\n      }\n    }\n  };\n}\n\n// Call delegate.iterator[context.method](context.arg) and handle the\n// result, either by returning a { value, done } result from the\n// delegate iterator, or by modifying context.method and context.arg,\n// setting context.delegate to null, and returning the ContinueSentinel.\nfunction maybeInvokeDelegate(delegate, context) {\n  var method = delegate.iterator[context.method];\n  if (method === undefined) {\n    // A .throw or .return when the delegate iterator has no .throw\n    // method always terminates the yield* loop.\n    context.delegate = null;\n\n    if (context.method === \"throw\") {\n      // Note: [\"return\"] must be used for ES3 parsing compatibility.\n      if (delegate.iterator[\"return\"]) {\n        // If the delegate iterator has a return method, give it a\n        // chance to clean up.\n        context.method = \"return\";\n        context.arg = undefined;\n        maybeInvokeDelegate(delegate, context);\n\n        if (context.method === \"throw\") {\n          // If maybeInvokeDelegate(context) changed context.method from\n          // \"return\" to \"throw\", let that override the TypeError below.\n          return ContinueSentinel;\n        }\n      }\n\n      context.method = \"throw\";\n      context.arg = new TypeError(\n        \"The iterator does not provide a 'throw' method\");\n    }\n\n    return ContinueSentinel;\n  }\n\n  var record = tryCatch(method, delegate.iterator, context.arg);\n\n  if (record.type === \"throw\") {\n    context.method = \"throw\";\n    context.arg = record.arg;\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  var info = record.arg;\n\n  if (! info) {\n    context.method = \"throw\";\n    context.arg = new TypeError(\"iterator result is not an object\");\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  if (info.done) {\n    // Assign the result of the finished delegate to the temporary\n    // variable specified by delegate.resultName (see delegateYield).\n    context[delegate.resultName] = info.value;\n\n    // Resume execution at the desired location (see delegateYield).\n    context.next = delegate.nextLoc;\n\n    // If context.method was \"throw\" but the delegate handled the\n    // exception, let the outer generator proceed normally. If\n    // context.method was \"next\", forget context.arg since it has been\n    // \"consumed\" by the delegate iterator. If context.method was\n    // \"return\", allow the original .return call to continue in the\n    // outer generator.\n    if (context.method !== \"return\") {\n      context.method = \"next\";\n      context.arg = undefined;\n    }\n\n  } else {\n    // Re-yield the result returned by the delegate method.\n    return info;\n  }\n\n  // The delegate iterator is finished, so forget it and continue with\n  // the outer generator.\n  context.delegate = null;\n  return ContinueSentinel;\n}\n\n// Define Generator.prototype.{next,throw,return} in terms of the\n// unified ._invoke helper method.\ndefineIteratorMethods(Gp);\n\nGp[toStringTagSymbol] = \"Generator\";\n\n// A Generator should always return itself as the iterator object when the\n// @@iterator function is called on it. Some browsers' implementations of the\n// iterator prototype chain incorrectly implement this, causing the Generator\n// object to not be returned from this call. This ensures that doesn't happen.\n// See https://github.com/facebook/regenerator/issues/274 for more details.\nGp[iteratorSymbol] = function() {\n  return this;\n};\n\nGp.toString = function() {\n  return \"[object Generator]\";\n};\n\nfunction pushTryEntry(locs) {\n  var entry = { tryLoc: locs[0] };\n\n  if (1 in locs) {\n    entry.catchLoc = locs[1];\n  }\n\n  if (2 in locs) {\n    entry.finallyLoc = locs[2];\n    entry.afterLoc = locs[3];\n  }\n\n  this.tryEntries.push(entry);\n}\n\nfunction resetTryEntry(entry) {\n  var record = entry.completion || {};\n  record.type = \"normal\";\n  delete record.arg;\n  entry.completion = record;\n}\n\nfunction Context(tryLocsList) {\n  // The root entry object (effectively a try statement without a catch\n  // or a finally block) gives us a place to store values thrown from\n  // locations where there is no enclosing try statement.\n  this.tryEntries = [{ tryLoc: \"root\" }];\n  tryLocsList.forEach(pushTryEntry, this);\n  this.reset(true);\n}\n\nfunction keys (object) {\n  var keys = [];\n  for (var key in object) {\n    keys.push(key);\n  }\n  keys.reverse();\n\n  // Rather than returning an object with a next method, we keep\n  // things simple and return the next function itself.\n  return function next() {\n    while (keys.length) {\n      var key = keys.pop();\n      if (key in object) {\n        next.value = key;\n        next.done = false;\n        return next;\n      }\n    }\n\n    // To avoid creating an additional object, we just hang the .value\n    // and .done properties off the next function object itself. This\n    // also ensures that the minifier will not anonymize the function.\n    next.done = true;\n    return next;\n  };\n};\n\nfunction values(iterable) {\n  if (iterable) {\n    var iteratorMethod = iterable[iteratorSymbol];\n    if (iteratorMethod) {\n      return iteratorMethod.call(iterable);\n    }\n\n    if (typeof iterable.next === \"function\") {\n      return iterable;\n    }\n\n    if (!isNaN(iterable.length)) {\n      var i = -1, next = function next() {\n        while (++i < iterable.length) {\n          if (hasOwn.call(iterable, i)) {\n            next.value = iterable[i];\n            next.done = false;\n            return next;\n          }\n        }\n\n        next.value = undefined;\n        next.done = true;\n\n        return next;\n      };\n\n      return next.next = next;\n    }\n  }\n\n  // Return an iterator with no values.\n  return { next: doneResult };\n}\n\nfunction doneResult() {\n  return { value: undefined, done: true };\n}\n\nContext.prototype = {\n  constructor: Context,\n\n  reset: function(skipTempReset) {\n    this.prev = 0;\n    this.next = 0;\n    // Resetting context._sent for legacy support of Babel's\n    // function.sent implementation.\n    this.sent = this._sent = undefined;\n    this.done = false;\n    this.delegate = null;\n\n    this.method = \"next\";\n    this.arg = undefined;\n\n    this.tryEntries.forEach(resetTryEntry);\n\n    if (!skipTempReset) {\n      for (var name in this) {\n        // Not sure about the optimal order of these conditions:\n        if (name.charAt(0) === \"t\" &&\n          hasOwn.call(this, name) &&\n          !isNaN(+name.slice(1))) {\n          this[name] = undefined;\n        }\n      }\n    }\n  },\n\n  stop: function() {\n    this.done = true;\n\n    var rootEntry = this.tryEntries[0];\n    var rootRecord = rootEntry.completion;\n    if (rootRecord.type === \"throw\") {\n      throw rootRecord.arg;\n    }\n\n    return this.rval;\n  },\n\n  dispatchException: function(exception) {\n    if (this.done) {\n      throw exception;\n    }\n\n    var context = this;\n    function handle(loc, caught) {\n      record.type = \"throw\";\n      record.arg = exception;\n      context.next = loc;\n\n      if (caught) {\n        // If the dispatched exception was caught by a catch block,\n        // then let that catch block handle the exception normally.\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n      return !! caught;\n    }\n\n    for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n      var entry = this.tryEntries[i];\n      var record = entry.completion;\n\n      if (entry.tryLoc === \"root\") {\n        // Exception thrown outside of any try block that could handle\n        // it, so set the completion value of the entire function to\n        // throw the exception.\n        return handle(\"end\");\n      }\n\n      if (entry.tryLoc <= this.prev) {\n        var hasCatch = hasOwn.call(entry, \"catchLoc\");\n        var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n        if (hasCatch && hasFinally) {\n          if (this.prev < entry.catchLoc) {\n            return handle(entry.catchLoc, true);\n          } else if (this.prev < entry.finallyLoc) {\n            return handle(entry.finallyLoc);\n          }\n\n        } else if (hasCatch) {\n          if (this.prev < entry.catchLoc) {\n            return handle(entry.catchLoc, true);\n          }\n\n        } else if (hasFinally) {\n          if (this.prev < entry.finallyLoc) {\n            return handle(entry.finallyLoc);\n          }\n\n        } else {\n          throw new Error(\"try statement without catch or finally\");\n        }\n      }\n    }\n  },\n\n  abrupt: function(type, arg) {\n    for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n      var entry = this.tryEntries[i];\n      if (entry.tryLoc <= this.prev &&\n        hasOwn.call(entry, \"finallyLoc\") &&\n        this.prev < entry.finallyLoc) {\n        var finallyEntry = entry;\n        break;\n      }\n    }\n\n    if (finallyEntry &&\n      (type === \"break\" ||\n        type === \"continue\") &&\n      finallyEntry.tryLoc <= arg &&\n      arg <= finallyEntry.finallyLoc) {\n      // Ignore the finally entry if control is not jumping to a\n      // location outside the try/catch block.\n      finallyEntry = null;\n    }\n\n    var record = finallyEntry ? finallyEntry.completion : {};\n    record.type = type;\n    record.arg = arg;\n\n    if (finallyEntry) {\n      this.method = \"next\";\n      this.next = finallyEntry.finallyLoc;\n      return ContinueSentinel;\n    }\n\n    return this.complete(record);\n  },\n\n  complete: function(record, afterLoc) {\n    if (record.type === \"throw\") {\n      throw record.arg;\n    }\n\n    if (record.type === \"break\" ||\n      record.type === \"continue\") {\n      this.next = record.arg;\n    } else if (record.type === \"return\") {\n      this.rval = this.arg = record.arg;\n      this.method = \"return\";\n      this.next = \"end\";\n    } else if (record.type === \"normal\" && afterLoc) {\n      this.next = afterLoc;\n    }\n\n    return ContinueSentinel;\n  },\n\n  finish: function(finallyLoc) {\n    for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n      var entry = this.tryEntries[i];\n      if (entry.finallyLoc === finallyLoc) {\n        this.complete(entry.completion, entry.afterLoc);\n        resetTryEntry(entry);\n        return ContinueSentinel;\n      }\n    }\n  },\n\n  \"catch\": function(tryLoc) {\n    for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n      var entry = this.tryEntries[i];\n      if (entry.tryLoc === tryLoc) {\n        var record = entry.completion;\n        if (record.type === \"throw\") {\n          var thrown = record.arg;\n          resetTryEntry(entry);\n        }\n        return thrown;\n      }\n    }\n\n    // The context.catch method must only be called with a location\n    // argument that corresponds to a known catch block.\n    throw new Error(\"illegal catch attempt\");\n  },\n\n  delegateYield: function(iterable, resultName, nextLoc) {\n    this.delegate = {\n      iterator: values(iterable),\n      resultName: resultName,\n      nextLoc: nextLoc\n    };\n\n    if (this.method === \"next\") {\n      // Deliberately forget the last sent value so that we don't\n      // accidentally pass it on to the delegate.\n      this.arg = undefined;\n    }\n\n    return ContinueSentinel;\n  }\n};\n\n// Export a default namespace that plays well with Rollup\nexport default {\n  wrap,\n  isGeneratorFunction,\n  AsyncIterator,\n  mark,\n  awrap,\n  async,\n  keys,\n  values\n};\n","'use strict'\nmodule.exports = Yallist\n\nYallist.Node = Node\nYallist.create = Yallist\n\nfunction Yallist (list) {\n  var self = this\n  if (!(self instanceof Yallist)) {\n    self = new Yallist()\n  }\n\n  self.tail = null\n  self.head = null\n  self.length = 0\n\n  if (list && typeof list.forEach === 'function') {\n    list.forEach(function (item) {\n      self.push(item)\n    })\n  } else if (arguments.length > 0) {\n    for (var i = 0, l = arguments.length; i < l; i++) {\n      self.push(arguments[i])\n    }\n  }\n\n  return self\n}\n\nYallist.prototype.removeNode = function (node) {\n  if (node.list !== this) {\n    throw new Error('removing node which does not belong to this list')\n  }\n\n  var next = node.next\n  var prev = node.prev\n\n  if (next) {\n    next.prev = prev\n  }\n\n  if (prev) {\n    prev.next = next\n  }\n\n  if (node === this.head) {\n    this.head = next\n  }\n  if (node === this.tail) {\n    this.tail = prev\n  }\n\n  node.list.length--\n  node.next = null\n  node.prev = null\n  node.list = null\n\n  return next\n}\n\nYallist.prototype.unshiftNode = function (node) {\n  if (node === this.head) {\n    return\n  }\n\n  if (node.list) {\n    node.list.removeNode(node)\n  }\n\n  var head = this.head\n  node.list = this\n  node.next = head\n  if (head) {\n    head.prev = node\n  }\n\n  this.head = node\n  if (!this.tail) {\n    this.tail = node\n  }\n  this.length++\n}\n\nYallist.prototype.pushNode = function (node) {\n  if (node === this.tail) {\n    return\n  }\n\n  if (node.list) {\n    node.list.removeNode(node)\n  }\n\n  var tail = this.tail\n  node.list = this\n  node.prev = tail\n  if (tail) {\n    tail.next = node\n  }\n\n  this.tail = node\n  if (!this.head) {\n    this.head = node\n  }\n  this.length++\n}\n\nYallist.prototype.push = function () {\n  for (var i = 0, l = arguments.length; i < l; i++) {\n    push(this, arguments[i])\n  }\n  return this.length\n}\n\nYallist.prototype.unshift = function () {\n  for (var i = 0, l = arguments.length; i < l; i++) {\n    unshift(this, arguments[i])\n  }\n  return this.length\n}\n\nYallist.prototype.pop = function () {\n  if (!this.tail) {\n    return undefined\n  }\n\n  var res = this.tail.value\n  this.tail = this.tail.prev\n  if (this.tail) {\n    this.tail.next = null\n  } else {\n    this.head = null\n  }\n  this.length--\n  return res\n}\n\nYallist.prototype.shift = function () {\n  if (!this.head) {\n    return undefined\n  }\n\n  var res = this.head.value\n  this.head = this.head.next\n  if (this.head) {\n    this.head.prev = null\n  } else {\n    this.tail = null\n  }\n  this.length--\n  return res\n}\n\nYallist.prototype.forEach = function (fn, thisp) {\n  thisp = thisp || this\n  for (var walker = this.head, i = 0; walker !== null; i++) {\n    fn.call(thisp, walker.value, i, this)\n    walker = walker.next\n  }\n}\n\nYallist.prototype.forEachReverse = function (fn, thisp) {\n  thisp = thisp || this\n  for (var walker = this.tail, i = this.length - 1; walker !== null; i--) {\n    fn.call(thisp, walker.value, i, this)\n    walker = walker.prev\n  }\n}\n\nYallist.prototype.get = function (n) {\n  for (var i = 0, walker = this.head; walker !== null && i < n; i++) {\n    // abort out of the list early if we hit a cycle\n    walker = walker.next\n  }\n  if (i === n && walker !== null) {\n    return walker.value\n  }\n}\n\nYallist.prototype.getReverse = function (n) {\n  for (var i = 0, walker = this.tail; walker !== null && i < n; i++) {\n    // abort out of the list early if we hit a cycle\n    walker = walker.prev\n  }\n  if (i === n && walker !== null) {\n    return walker.value\n  }\n}\n\nYallist.prototype.map = function (fn, thisp) {\n  thisp = thisp || this\n  var res = new Yallist()\n  for (var walker = this.head; walker !== null;) {\n    res.push(fn.call(thisp, walker.value, this))\n    walker = walker.next\n  }\n  return res\n}\n\nYallist.prototype.mapReverse = function (fn, thisp) {\n  thisp = thisp || this\n  var res = new Yallist()\n  for (var walker = this.tail; walker !== null;) {\n    res.push(fn.call(thisp, walker.value, this))\n    walker = walker.prev\n  }\n  return res\n}\n\nYallist.prototype.reduce = function (fn, initial) {\n  var acc\n  var walker = this.head\n  if (arguments.length > 1) {\n    acc = initial\n  } else if (this.head) {\n    walker = this.head.next\n    acc = this.head.value\n  } else {\n    throw new TypeError('Reduce of empty list with no initial value')\n  }\n\n  for (var i = 0; walker !== null; i++) {\n    acc = fn(acc, walker.value, i)\n    walker = walker.next\n  }\n\n  return acc\n}\n\nYallist.prototype.reduceReverse = function (fn, initial) {\n  var acc\n  var walker = this.tail\n  if (arguments.length > 1) {\n    acc = initial\n  } else if (this.tail) {\n    walker = this.tail.prev\n    acc = this.tail.value\n  } else {\n    throw new TypeError('Reduce of empty list with no initial value')\n  }\n\n  for (var i = this.length - 1; walker !== null; i--) {\n    acc = fn(acc, walker.value, i)\n    walker = walker.prev\n  }\n\n  return acc\n}\n\nYallist.prototype.toArray = function () {\n  var arr = new Array(this.length)\n  for (var i = 0, walker = this.head; walker !== null; i++) {\n    arr[i] = walker.value\n    walker = walker.next\n  }\n  return arr\n}\n\nYallist.prototype.toArrayReverse = function () {\n  var arr = new Array(this.length)\n  for (var i = 0, walker = this.tail; walker !== null; i++) {\n    arr[i] = walker.value\n    walker = walker.prev\n  }\n  return arr\n}\n\nYallist.prototype.slice = function (from, to) {\n  to = to || this.length\n  if (to < 0) {\n    to += this.length\n  }\n  from = from || 0\n  if (from < 0) {\n    from += this.length\n  }\n  var ret = new Yallist()\n  if (to < from || to < 0) {\n    return ret\n  }\n  if (from < 0) {\n    from = 0\n  }\n  if (to > this.length) {\n    to = this.length\n  }\n  for (var i = 0, walker = this.head; walker !== null && i < from; i++) {\n    walker = walker.next\n  }\n  for (; walker !== null && i < to; i++, walker = walker.next) {\n    ret.push(walker.value)\n  }\n  return ret\n}\n\nYallist.prototype.sliceReverse = function (from, to) {\n  to = to || this.length\n  if (to < 0) {\n    to += this.length\n  }\n  from = from || 0\n  if (from < 0) {\n    from += this.length\n  }\n  var ret = new Yallist()\n  if (to < from || to < 0) {\n    return ret\n  }\n  if (from < 0) {\n    from = 0\n  }\n  if (to > this.length) {\n    to = this.length\n  }\n  for (var i = this.length, walker = this.tail; walker !== null && i > to; i--) {\n    walker = walker.prev\n  }\n  for (; walker !== null && i > from; i--, walker = walker.prev) {\n    ret.push(walker.value)\n  }\n  return ret\n}\n\nYallist.prototype.splice = function (start, deleteCount, ...nodes) {\n  if (start > this.length) {\n    start = this.length - 1\n  }\n  if (start < 0) {\n    start = this.length + start;\n  }\n\n  for (var i = 0, walker = this.head; walker !== null && i < start; i++) {\n    walker = walker.next\n  }\n\n  var ret = []\n  for (var i = 0; walker && i < deleteCount; i++) {\n    ret.push(walker.value)\n    walker = this.removeNode(walker)\n  }\n  if (walker === null) {\n    walker = this.tail\n  }\n\n  if (walker !== this.head && walker !== this.tail) {\n    walker = walker.prev\n  }\n\n  for (var i = 0; i < nodes.length; i++) {\n    walker = insert(this, walker, nodes[i])\n  }\n  return ret;\n}\n\nYallist.prototype.reverse = function () {\n  var head = this.head\n  var tail = this.tail\n  for (var walker = head; walker !== null; walker = walker.prev) {\n    var p = walker.prev\n    walker.prev = walker.next\n    walker.next = p\n  }\n  this.head = tail\n  this.tail = head\n  return this\n}\n\nfunction insert (self, node, value) {\n  var inserted = node === self.head ?\n    new Node(value, null, node, self) :\n    new Node(value, node, node.next, self)\n\n  if (inserted.next === null) {\n    self.tail = inserted\n  }\n  if (inserted.prev === null) {\n    self.head = inserted\n  }\n\n  self.length++\n\n  return inserted\n}\n\nfunction push (self, item) {\n  self.tail = new Node(item, self.tail, null, self)\n  if (!self.head) {\n    self.head = self.tail\n  }\n  self.length++\n}\n\nfunction unshift (self, item) {\n  self.head = new Node(item, null, self.head, self)\n  if (!self.tail) {\n    self.tail = self.head\n  }\n  self.length++\n}\n\nfunction Node (value, prev, next, list) {\n  if (!(this instanceof Node)) {\n    return new Node(value, prev, next, list)\n  }\n\n  this.list = list\n  this.value = value\n\n  if (prev) {\n    prev.next = this\n    this.prev = prev\n  } else {\n    this.prev = null\n  }\n\n  if (next) {\n    next.prev = this\n    this.next = next\n  } else {\n    this.next = null\n  }\n}\n\ntry {\n  // add if support for Symbol.iterator is present\n  Yallist.prototype[Symbol.iterator] = function* () {\n    for (let walker = this.head; walker; walker = walker.next) {\n      yield walker.value\n    }\n  }\n} catch (er) {}\n","'use strict'\n\n// A linked list to keep track of recently-used-ness\nconst Yallist = require('yallist')\n\nconst MAX = Symbol('max')\nconst LENGTH = Symbol('length')\nconst LENGTH_CALCULATOR = Symbol('lengthCalculator')\nconst ALLOW_STALE = Symbol('allowStale')\nconst MAX_AGE = Symbol('maxAge')\nconst DISPOSE = Symbol('dispose')\nconst NO_DISPOSE_ON_SET = Symbol('noDisposeOnSet')\nconst LRU_LIST = Symbol('lruList')\nconst CACHE = Symbol('cache')\nconst UPDATE_AGE_ON_GET = Symbol('updateAgeOnGet')\n\nconst naiveLength = () => 1\n\n// lruList is a yallist where the head is the youngest\n// item, and the tail is the oldest.  the list contains the Hit\n// objects as the entries.\n// Each Hit object has a reference to its Yallist.Node.  This\n// never changes.\n//\n// cache is a Map (or PseudoMap) that matches the keys to\n// the Yallist.Node object.\nclass LRUCache {\n  constructor (options) {\n    if (typeof options === 'number')\n      options = { max: options }\n\n    if (!options)\n      options = {}\n\n    if (options.max && (typeof options.max !== 'number' || options.max < 0))\n      throw new TypeError('max must be a non-negative number')\n    // Kind of weird to have a default max of Infinity, but oh well.\n    const max = this[MAX] = options.max || Infinity\n\n    const lc = options.length || naiveLength\n    this[LENGTH_CALCULATOR] = (typeof lc !== 'function') ? naiveLength : lc\n    this[ALLOW_STALE] = options.stale || false\n    if (options.maxAge && typeof options.maxAge !== 'number')\n      throw new TypeError('maxAge must be a number')\n    this[MAX_AGE] = options.maxAge || 0\n    this[DISPOSE] = options.dispose\n    this[NO_DISPOSE_ON_SET] = options.noDisposeOnSet || false\n    this[UPDATE_AGE_ON_GET] = options.updateAgeOnGet || false\n    this.reset()\n  }\n\n  // resize the cache when the max changes.\n  set max (mL) {\n    if (typeof mL !== 'number' || mL < 0)\n      throw new TypeError('max must be a non-negative number')\n\n    this[MAX] = mL || Infinity\n    trim(this)\n  }\n  get max () {\n    return this[MAX]\n  }\n\n  set allowStale (allowStale) {\n    this[ALLOW_STALE] = !!allowStale\n  }\n  get allowStale () {\n    return this[ALLOW_STALE]\n  }\n\n  set maxAge (mA) {\n    if (typeof mA !== 'number')\n      throw new TypeError('maxAge must be a non-negative number')\n\n    this[MAX_AGE] = mA\n    trim(this)\n  }\n  get maxAge () {\n    return this[MAX_AGE]\n  }\n\n  // resize the cache when the lengthCalculator changes.\n  set lengthCalculator (lC) {\n    if (typeof lC !== 'function')\n      lC = naiveLength\n\n    if (lC !== this[LENGTH_CALCULATOR]) {\n      this[LENGTH_CALCULATOR] = lC\n      this[LENGTH] = 0\n      this[LRU_LIST].forEach(hit => {\n        hit.length = this[LENGTH_CALCULATOR](hit.value, hit.key)\n        this[LENGTH] += hit.length\n      })\n    }\n    trim(this)\n  }\n  get lengthCalculator () { return this[LENGTH_CALCULATOR] }\n\n  get length () { return this[LENGTH] }\n  get itemCount () { return this[LRU_LIST].length }\n\n  rforEach (fn, thisp) {\n    thisp = thisp || this\n    for (let walker = this[LRU_LIST].tail; walker !== null;) {\n      const prev = walker.prev\n      forEachStep(this, fn, walker, thisp)\n      walker = prev\n    }\n  }\n\n  forEach (fn, thisp) {\n    thisp = thisp || this\n    for (let walker = this[LRU_LIST].head; walker !== null;) {\n      const next = walker.next\n      forEachStep(this, fn, walker, thisp)\n      walker = next\n    }\n  }\n\n  keys () {\n    return this[LRU_LIST].toArray().map(k => k.key)\n  }\n\n  values () {\n    return this[LRU_LIST].toArray().map(k => k.value)\n  }\n\n  reset () {\n    if (this[DISPOSE] &&\n        this[LRU_LIST] &&\n        this[LRU_LIST].length) {\n      this[LRU_LIST].forEach(hit => this[DISPOSE](hit.key, hit.value))\n    }\n\n    this[CACHE] = new Map() // hash of items by key\n    this[LRU_LIST] = new Yallist() // list of items in order of use recency\n    this[LENGTH] = 0 // length of items in the list\n  }\n\n  dump () {\n    return this[LRU_LIST].map(hit =>\n      isStale(this, hit) ? false : {\n        k: hit.key,\n        v: hit.value,\n        e: hit.now + (hit.maxAge || 0)\n      }).toArray().filter(h => h)\n  }\n\n  dumpLru () {\n    return this[LRU_LIST]\n  }\n\n  set (key, value, maxAge) {\n    maxAge = maxAge || this[MAX_AGE]\n\n    if (maxAge && typeof maxAge !== 'number')\n      throw new TypeError('maxAge must be a number')\n\n    const now = maxAge ? Date.now() : 0\n    const len = this[LENGTH_CALCULATOR](value, key)\n\n    if (this[CACHE].has(key)) {\n      if (len > this[MAX]) {\n        del(this, this[CACHE].get(key))\n        return false\n      }\n\n      const node = this[CACHE].get(key)\n      const item = node.value\n\n      // dispose of the old one before overwriting\n      // split out into 2 ifs for better coverage tracking\n      if (this[DISPOSE]) {\n        if (!this[NO_DISPOSE_ON_SET])\n          this[DISPOSE](key, item.value)\n      }\n\n      item.now = now\n      item.maxAge = maxAge\n      item.value = value\n      this[LENGTH] += len - item.length\n      item.length = len\n      this.get(key)\n      trim(this)\n      return true\n    }\n\n    const hit = new Entry(key, value, len, now, maxAge)\n\n    // oversized objects fall out of cache automatically.\n    if (hit.length > this[MAX]) {\n      if (this[DISPOSE])\n        this[DISPOSE](key, value)\n\n      return false\n    }\n\n    this[LENGTH] += hit.length\n    this[LRU_LIST].unshift(hit)\n    this[CACHE].set(key, this[LRU_LIST].head)\n    trim(this)\n    return true\n  }\n\n  has (key) {\n    if (!this[CACHE].has(key)) return false\n    const hit = this[CACHE].get(key).value\n    return !isStale(this, hit)\n  }\n\n  get (key) {\n    return get(this, key, true)\n  }\n\n  peek (key) {\n    return get(this, key, false)\n  }\n\n  pop () {\n    const node = this[LRU_LIST].tail\n    if (!node)\n      return null\n\n    del(this, node)\n    return node.value\n  }\n\n  del (key) {\n    del(this, this[CACHE].get(key))\n  }\n\n  load (arr) {\n    // reset the cache\n    this.reset()\n\n    const now = Date.now()\n    // A previous serialized cache has the most recent items first\n    for (let l = arr.length - 1; l >= 0; l--) {\n      const hit = arr[l]\n      const expiresAt = hit.e || 0\n      if (expiresAt === 0)\n        // the item was created without expiration in a non aged cache\n        this.set(hit.k, hit.v)\n      else {\n        const maxAge = expiresAt - now\n        // dont add already expired items\n        if (maxAge > 0) {\n          this.set(hit.k, hit.v, maxAge)\n        }\n      }\n    }\n  }\n\n  prune () {\n    this[CACHE].forEach((value, key) => get(this, key, false))\n  }\n}\n\nconst get = (self, key, doUse) => {\n  const node = self[CACHE].get(key)\n  if (node) {\n    const hit = node.value\n    if (isStale(self, hit)) {\n      del(self, node)\n      if (!self[ALLOW_STALE])\n        return undefined\n    } else {\n      if (doUse) {\n        if (self[UPDATE_AGE_ON_GET])\n          node.value.now = Date.now()\n        self[LRU_LIST].unshiftNode(node)\n      }\n    }\n    return hit.value\n  }\n}\n\nconst isStale = (self, hit) => {\n  if (!hit || (!hit.maxAge && !self[MAX_AGE]))\n    return false\n\n  const diff = Date.now() - hit.now\n  return hit.maxAge ? diff > hit.maxAge\n    : self[MAX_AGE] && (diff > self[MAX_AGE])\n}\n\nconst trim = self => {\n  if (self[LENGTH] > self[MAX]) {\n    for (let walker = self[LRU_LIST].tail;\n      self[LENGTH] > self[MAX] && walker !== null;) {\n      // We know that we're about to delete this one, and also\n      // what the next least recently used key will be, so just\n      // go ahead and set it now.\n      const prev = walker.prev\n      del(self, walker)\n      walker = prev\n    }\n  }\n}\n\nconst del = (self, node) => {\n  if (node) {\n    const hit = node.value\n    if (self[DISPOSE])\n      self[DISPOSE](hit.key, hit.value)\n\n    self[LENGTH] -= hit.length\n    self[CACHE].delete(hit.key)\n    self[LRU_LIST].removeNode(node)\n  }\n}\n\nclass Entry {\n  constructor (key, value, length, now, maxAge) {\n    this.key = key\n    this.value = value\n    this.length = length\n    this.now = now\n    this.maxAge = maxAge || 0\n  }\n}\n\nconst forEachStep = (self, fn, node, thisp) => {\n  let hit = node.value\n  if (isStale(self, hit)) {\n    del(self, node)\n    if (!self[ALLOW_STALE])\n      hit = undefined\n  }\n  if (hit)\n    fn.call(thisp, hit.value, hit.key, self)\n}\n\nmodule.exports = LRUCache\n","// parse out just the options we care about so we always get a consistent\n// obj with keys in a consistent order.\nconst opts = ['includePrerelease', 'loose', 'rtl']\nconst parseOptions = options =>\n  !options ? {}\n  : typeof options !== 'object' ? { loose: true }\n  : opts.filter(k => options[k]).reduce((options, k) => {\n    options[k] = true\n    return options\n  }, {})\nmodule.exports = parseOptions\n","// Note: this is the semver.org version of the spec that it implements\n// Not necessarily the package version of this code.\nconst SEMVER_SPEC_VERSION = '2.0.0'\n\nconst MAX_LENGTH = 256\nconst MAX_SAFE_INTEGER = Number.MAX_SAFE_INTEGER ||\n  /* istanbul ignore next */ 9007199254740991\n\n// Max safe segment length for coercion.\nconst MAX_SAFE_COMPONENT_LENGTH = 16\n\nmodule.exports = {\n  SEMVER_SPEC_VERSION,\n  MAX_LENGTH,\n  MAX_SAFE_INTEGER,\n  MAX_SAFE_COMPONENT_LENGTH\n}\n","const debug = (\n  typeof process === 'object' &&\n  process.env &&\n  process.env.NODE_DEBUG &&\n  /\\bsemver\\b/i.test(process.env.NODE_DEBUG)\n) ? (...args) => console.error('SEMVER', ...args)\n  : () => {}\n\nmodule.exports = debug\n","const { MAX_SAFE_COMPONENT_LENGTH } = require('./constants')\nconst debug = require('./debug')\nexports = module.exports = {}\n\n// The actual regexps go on exports.re\nconst re = exports.re = []\nconst src = exports.src = []\nconst t = exports.t = {}\nlet R = 0\n\nconst createToken = (name, value, isGlobal) => {\n  const index = R++\n  debug(index, value)\n  t[name] = index\n  src[index] = value\n  re[index] = new RegExp(value, isGlobal ? 'g' : undefined)\n}\n\n// The following Regular Expressions can be used for tokenizing,\n// validating, and parsing SemVer version strings.\n\n// ## Numeric Identifier\n// A single `0`, or a non-zero digit followed by zero or more digits.\n\ncreateToken('NUMERICIDENTIFIER', '0|[1-9]\\\\d*')\ncreateToken('NUMERICIDENTIFIERLOOSE', '[0-9]+')\n\n// ## Non-numeric Identifier\n// Zero or more digits, followed by a letter or hyphen, and then zero or\n// more letters, digits, or hyphens.\n\ncreateToken('NONNUMERICIDENTIFIER', '\\\\d*[a-zA-Z-][a-zA-Z0-9-]*')\n\n// ## Main Version\n// Three dot-separated numeric identifiers.\n\ncreateToken('MAINVERSION', `(${src[t.NUMERICIDENTIFIER]})\\\\.` +\n                   `(${src[t.NUMERICIDENTIFIER]})\\\\.` +\n                   `(${src[t.NUMERICIDENTIFIER]})`)\n\ncreateToken('MAINVERSIONLOOSE', `(${src[t.NUMERICIDENTIFIERLOOSE]})\\\\.` +\n                        `(${src[t.NUMERICIDENTIFIERLOOSE]})\\\\.` +\n                        `(${src[t.NUMERICIDENTIFIERLOOSE]})`)\n\n// ## Pre-release Version Identifier\n// A numeric identifier, or a non-numeric identifier.\n\ncreateToken('PRERELEASEIDENTIFIER', `(?:${src[t.NUMERICIDENTIFIER]\n}|${src[t.NONNUMERICIDENTIFIER]})`)\n\ncreateToken('PRERELEASEIDENTIFIERLOOSE', `(?:${src[t.NUMERICIDENTIFIERLOOSE]\n}|${src[t.NONNUMERICIDENTIFIER]})`)\n\n// ## Pre-release Version\n// Hyphen, followed by one or more dot-separated pre-release version\n// identifiers.\n\ncreateToken('PRERELEASE', `(?:-(${src[t.PRERELEASEIDENTIFIER]\n}(?:\\\\.${src[t.PRERELEASEIDENTIFIER]})*))`)\n\ncreateToken('PRERELEASELOOSE', `(?:-?(${src[t.PRERELEASEIDENTIFIERLOOSE]\n}(?:\\\\.${src[t.PRERELEASEIDENTIFIERLOOSE]})*))`)\n\n// ## Build Metadata Identifier\n// Any combination of digits, letters, or hyphens.\n\ncreateToken('BUILDIDENTIFIER', '[0-9A-Za-z-]+')\n\n// ## Build Metadata\n// Plus sign, followed by one or more period-separated build metadata\n// identifiers.\n\ncreateToken('BUILD', `(?:\\\\+(${src[t.BUILDIDENTIFIER]\n}(?:\\\\.${src[t.BUILDIDENTIFIER]})*))`)\n\n// ## Full Version String\n// A main version, followed optionally by a pre-release version and\n// build metadata.\n\n// Note that the only major, minor, patch, and pre-release sections of\n// the version string are capturing groups.  The build metadata is not a\n// capturing group, because it should not ever be used in version\n// comparison.\n\ncreateToken('FULLPLAIN', `v?${src[t.MAINVERSION]\n}${src[t.PRERELEASE]}?${\n  src[t.BUILD]}?`)\n\ncreateToken('FULL', `^${src[t.FULLPLAIN]}$`)\n\n// like full, but allows v1.2.3 and =1.2.3, which people do sometimes.\n// also, 1.0.0alpha1 (prerelease without the hyphen) which is pretty\n// common in the npm registry.\ncreateToken('LOOSEPLAIN', `[v=\\\\s]*${src[t.MAINVERSIONLOOSE]\n}${src[t.PRERELEASELOOSE]}?${\n  src[t.BUILD]}?`)\n\ncreateToken('LOOSE', `^${src[t.LOOSEPLAIN]}$`)\n\ncreateToken('GTLT', '((?:<|>)?=?)')\n\n// Something like \"2.*\" or \"1.2.x\".\n// Note that \"x.x\" is a valid xRange identifer, meaning \"any version\"\n// Only the first item is strictly required.\ncreateToken('XRANGEIDENTIFIERLOOSE', `${src[t.NUMERICIDENTIFIERLOOSE]}|x|X|\\\\*`)\ncreateToken('XRANGEIDENTIFIER', `${src[t.NUMERICIDENTIFIER]}|x|X|\\\\*`)\n\ncreateToken('XRANGEPLAIN', `[v=\\\\s]*(${src[t.XRANGEIDENTIFIER]})` +\n                   `(?:\\\\.(${src[t.XRANGEIDENTIFIER]})` +\n                   `(?:\\\\.(${src[t.XRANGEIDENTIFIER]})` +\n                   `(?:${src[t.PRERELEASE]})?${\n                     src[t.BUILD]}?` +\n                   `)?)?`)\n\ncreateToken('XRANGEPLAINLOOSE', `[v=\\\\s]*(${src[t.XRANGEIDENTIFIERLOOSE]})` +\n                        `(?:\\\\.(${src[t.XRANGEIDENTIFIERLOOSE]})` +\n                        `(?:\\\\.(${src[t.XRANGEIDENTIFIERLOOSE]})` +\n                        `(?:${src[t.PRERELEASELOOSE]})?${\n                          src[t.BUILD]}?` +\n                        `)?)?`)\n\ncreateToken('XRANGE', `^${src[t.GTLT]}\\\\s*${src[t.XRANGEPLAIN]}$`)\ncreateToken('XRANGELOOSE', `^${src[t.GTLT]}\\\\s*${src[t.XRANGEPLAINLOOSE]}$`)\n\n// Coercion.\n// Extract anything that could conceivably be a part of a valid semver\ncreateToken('COERCE', `${'(^|[^\\\\d])' +\n              '(\\\\d{1,'}${MAX_SAFE_COMPONENT_LENGTH}})` +\n              `(?:\\\\.(\\\\d{1,${MAX_SAFE_COMPONENT_LENGTH}}))?` +\n              `(?:\\\\.(\\\\d{1,${MAX_SAFE_COMPONENT_LENGTH}}))?` +\n              `(?:$|[^\\\\d])`)\ncreateToken('COERCERTL', src[t.COERCE], true)\n\n// Tilde ranges.\n// Meaning is \"reasonably at or greater than\"\ncreateToken('LONETILDE', '(?:~>?)')\n\ncreateToken('TILDETRIM', `(\\\\s*)${src[t.LONETILDE]}\\\\s+`, true)\nexports.tildeTrimReplace = '$1~'\n\ncreateToken('TILDE', `^${src[t.LONETILDE]}${src[t.XRANGEPLAIN]}$`)\ncreateToken('TILDELOOSE', `^${src[t.LONETILDE]}${src[t.XRANGEPLAINLOOSE]}$`)\n\n// Caret ranges.\n// Meaning is \"at least and backwards compatible with\"\ncreateToken('LONECARET', '(?:\\\\^)')\n\ncreateToken('CARETTRIM', `(\\\\s*)${src[t.LONECARET]}\\\\s+`, true)\nexports.caretTrimReplace = '$1^'\n\ncreateToken('CARET', `^${src[t.LONECARET]}${src[t.XRANGEPLAIN]}$`)\ncreateToken('CARETLOOSE', `^${src[t.LONECARET]}${src[t.XRANGEPLAINLOOSE]}$`)\n\n// A simple gt/lt/eq thing, or just \"\" to indicate \"any version\"\ncreateToken('COMPARATORLOOSE', `^${src[t.GTLT]}\\\\s*(${src[t.LOOSEPLAIN]})$|^$`)\ncreateToken('COMPARATOR', `^${src[t.GTLT]}\\\\s*(${src[t.FULLPLAIN]})$|^$`)\n\n// An expression to strip any whitespace between the gtlt and the thing\n// it modifies, so that `> 1.2.3` ==> `>1.2.3`\ncreateToken('COMPARATORTRIM', `(\\\\s*)${src[t.GTLT]\n}\\\\s*(${src[t.LOOSEPLAIN]}|${src[t.XRANGEPLAIN]})`, true)\nexports.comparatorTrimReplace = '$1$2$3'\n\n// Something like `1.2.3 - 1.2.4`\n// Note that these all use the loose form, because they'll be\n// checked against either the strict or loose comparator form\n// later.\ncreateToken('HYPHENRANGE', `^\\\\s*(${src[t.XRANGEPLAIN]})` +\n                   `\\\\s+-\\\\s+` +\n                   `(${src[t.XRANGEPLAIN]})` +\n                   `\\\\s*$`)\n\ncreateToken('HYPHENRANGELOOSE', `^\\\\s*(${src[t.XRANGEPLAINLOOSE]})` +\n                        `\\\\s+-\\\\s+` +\n                        `(${src[t.XRANGEPLAINLOOSE]})` +\n                        `\\\\s*$`)\n\n// Star ranges basically just allow anything at all.\ncreateToken('STAR', '(<|>)?=?\\\\s*\\\\*')\n// >=0.0.0 is like a star\ncreateToken('GTE0', '^\\\\s*>=\\\\s*0\\.0\\.0\\\\s*$')\ncreateToken('GTE0PRE', '^\\\\s*>=\\\\s*0\\.0\\.0-0\\\\s*$')\n","const numeric = /^[0-9]+$/\nconst compareIdentifiers = (a, b) => {\n  const anum = numeric.test(a)\n  const bnum = numeric.test(b)\n\n  if (anum && bnum) {\n    a = +a\n    b = +b\n  }\n\n  return a === b ? 0\n    : (anum && !bnum) ? -1\n    : (bnum && !anum) ? 1\n    : a < b ? -1\n    : 1\n}\n\nconst rcompareIdentifiers = (a, b) => compareIdentifiers(b, a)\n\nmodule.exports = {\n  compareIdentifiers,\n  rcompareIdentifiers\n}\n","const debug = require('../internal/debug')\nconst { MAX_LENGTH, MAX_SAFE_INTEGER } = require('../internal/constants')\nconst { re, t } = require('../internal/re')\n\nconst parseOptions = require('../internal/parse-options')\nconst { compareIdentifiers } = require('../internal/identifiers')\nclass SemVer {\n  constructor (version, options) {\n    options = parseOptions(options)\n\n    if (version instanceof SemVer) {\n      if (version.loose === !!options.loose &&\n          version.includePrerelease === !!options.includePrerelease) {\n        return version\n      } else {\n        version = version.version\n      }\n    } else if (typeof version !== 'string') {\n      throw new TypeError(`Invalid Version: ${version}`)\n    }\n\n    if (version.length > MAX_LENGTH) {\n      throw new TypeError(\n        `version is longer than ${MAX_LENGTH} characters`\n      )\n    }\n\n    debug('SemVer', version, options)\n    this.options = options\n    this.loose = !!options.loose\n    // this isn't actually relevant for versions, but keep it so that we\n    // don't run into trouble passing this.options around.\n    this.includePrerelease = !!options.includePrerelease\n\n    const m = version.trim().match(options.loose ? re[t.LOOSE] : re[t.FULL])\n\n    if (!m) {\n      throw new TypeError(`Invalid Version: ${version}`)\n    }\n\n    this.raw = version\n\n    // these are actually numbers\n    this.major = +m[1]\n    this.minor = +m[2]\n    this.patch = +m[3]\n\n    if (this.major > MAX_SAFE_INTEGER || this.major < 0) {\n      throw new TypeError('Invalid major version')\n    }\n\n    if (this.minor > MAX_SAFE_INTEGER || this.minor < 0) {\n      throw new TypeError('Invalid minor version')\n    }\n\n    if (this.patch > MAX_SAFE_INTEGER || this.patch < 0) {\n      throw new TypeError('Invalid patch version')\n    }\n\n    // numberify any prerelease numeric ids\n    if (!m[4]) {\n      this.prerelease = []\n    } else {\n      this.prerelease = m[4].split('.').map((id) => {\n        if (/^[0-9]+$/.test(id)) {\n          const num = +id\n          if (num >= 0 && num < MAX_SAFE_INTEGER) {\n            return num\n          }\n        }\n        return id\n      })\n    }\n\n    this.build = m[5] ? m[5].split('.') : []\n    this.format()\n  }\n\n  format () {\n    this.version = `${this.major}.${this.minor}.${this.patch}`\n    if (this.prerelease.length) {\n      this.version += `-${this.prerelease.join('.')}`\n    }\n    return this.version\n  }\n\n  toString () {\n    return this.version\n  }\n\n  compare (other) {\n    debug('SemVer.compare', this.version, this.options, other)\n    if (!(other instanceof SemVer)) {\n      if (typeof other === 'string' && other === this.version) {\n        return 0\n      }\n      other = new SemVer(other, this.options)\n    }\n\n    if (other.version === this.version) {\n      return 0\n    }\n\n    return this.compareMain(other) || this.comparePre(other)\n  }\n\n  compareMain (other) {\n    if (!(other instanceof SemVer)) {\n      other = new SemVer(other, this.options)\n    }\n\n    return (\n      compareIdentifiers(this.major, other.major) ||\n      compareIdentifiers(this.minor, other.minor) ||\n      compareIdentifiers(this.patch, other.patch)\n    )\n  }\n\n  comparePre (other) {\n    if (!(other instanceof SemVer)) {\n      other = new SemVer(other, this.options)\n    }\n\n    // NOT having a prerelease is > having one\n    if (this.prerelease.length && !other.prerelease.length) {\n      return -1\n    } else if (!this.prerelease.length && other.prerelease.length) {\n      return 1\n    } else if (!this.prerelease.length && !other.prerelease.length) {\n      return 0\n    }\n\n    let i = 0\n    do {\n      const a = this.prerelease[i]\n      const b = other.prerelease[i]\n      debug('prerelease compare', i, a, b)\n      if (a === undefined && b === undefined) {\n        return 0\n      } else if (b === undefined) {\n        return 1\n      } else if (a === undefined) {\n        return -1\n      } else if (a === b) {\n        continue\n      } else {\n        return compareIdentifiers(a, b)\n      }\n    } while (++i)\n  }\n\n  compareBuild (other) {\n    if (!(other instanceof SemVer)) {\n      other = new SemVer(other, this.options)\n    }\n\n    let i = 0\n    do {\n      const a = this.build[i]\n      const b = other.build[i]\n      debug('prerelease compare', i, a, b)\n      if (a === undefined && b === undefined) {\n        return 0\n      } else if (b === undefined) {\n        return 1\n      } else if (a === undefined) {\n        return -1\n      } else if (a === b) {\n        continue\n      } else {\n        return compareIdentifiers(a, b)\n      }\n    } while (++i)\n  }\n\n  // preminor will bump the version up to the next minor release, and immediately\n  // down to pre-release. premajor and prepatch work the same way.\n  inc (release, identifier) {\n    switch (release) {\n      case 'premajor':\n        this.prerelease.length = 0\n        this.patch = 0\n        this.minor = 0\n        this.major++\n        this.inc('pre', identifier)\n        break\n      case 'preminor':\n        this.prerelease.length = 0\n        this.patch = 0\n        this.minor++\n        this.inc('pre', identifier)\n        break\n      case 'prepatch':\n        // If this is already a prerelease, it will bump to the next version\n        // drop any prereleases that might already exist, since they are not\n        // relevant at this point.\n        this.prerelease.length = 0\n        this.inc('patch', identifier)\n        this.inc('pre', identifier)\n        break\n      // If the input is a non-prerelease version, this acts the same as\n      // prepatch.\n      case 'prerelease':\n        if (this.prerelease.length === 0) {\n          this.inc('patch', identifier)\n        }\n        this.inc('pre', identifier)\n        break\n\n      case 'major':\n        // If this is a pre-major version, bump up to the same major version.\n        // Otherwise increment major.\n        // 1.0.0-5 bumps to 1.0.0\n        // 1.1.0 bumps to 2.0.0\n        if (\n          this.minor !== 0 ||\n          this.patch !== 0 ||\n          this.prerelease.length === 0\n        ) {\n          this.major++\n        }\n        this.minor = 0\n        this.patch = 0\n        this.prerelease = []\n        break\n      case 'minor':\n        // If this is a pre-minor version, bump up to the same minor version.\n        // Otherwise increment minor.\n        // 1.2.0-5 bumps to 1.2.0\n        // 1.2.1 bumps to 1.3.0\n        if (this.patch !== 0 || this.prerelease.length === 0) {\n          this.minor++\n        }\n        this.patch = 0\n        this.prerelease = []\n        break\n      case 'patch':\n        // If this is not a pre-release version, it will increment the patch.\n        // If it is a pre-release it will bump up to the same patch version.\n        // 1.2.0-5 patches to 1.2.0\n        // 1.2.0 patches to 1.2.1\n        if (this.prerelease.length === 0) {\n          this.patch++\n        }\n        this.prerelease = []\n        break\n      // This probably shouldn't be used publicly.\n      // 1.0.0 'pre' would become 1.0.0-0 which is the wrong direction.\n      case 'pre':\n        if (this.prerelease.length === 0) {\n          this.prerelease = [0]\n        } else {\n          let i = this.prerelease.length\n          while (--i >= 0) {\n            if (typeof this.prerelease[i] === 'number') {\n              this.prerelease[i]++\n              i = -2\n            }\n          }\n          if (i === -1) {\n            // didn't increment anything\n            this.prerelease.push(0)\n          }\n        }\n        if (identifier) {\n          // 1.2.0-beta.1 bumps to 1.2.0-beta.2,\n          // 1.2.0-beta.fooblz or 1.2.0-beta bumps to 1.2.0-beta.0\n          if (this.prerelease[0] === identifier) {\n            if (isNaN(this.prerelease[1])) {\n              this.prerelease = [identifier, 0]\n            }\n          } else {\n            this.prerelease = [identifier, 0]\n          }\n        }\n        break\n\n      default:\n        throw new Error(`invalid increment argument: ${release}`)\n    }\n    this.format()\n    this.raw = this.version\n    return this\n  }\n}\n\nmodule.exports = SemVer\n","const SemVer = require('../classes/semver')\nconst compare = (a, b, loose) =>\n  new SemVer(a, loose).compare(new SemVer(b, loose))\n\nmodule.exports = compare\n","const compare = require('./compare')\nconst eq = (a, b, loose) => compare(a, b, loose) === 0\nmodule.exports = eq\n","const compare = require('./compare')\nconst neq = (a, b, loose) => compare(a, b, loose) !== 0\nmodule.exports = neq\n","const compare = require('./compare')\nconst gt = (a, b, loose) => compare(a, b, loose) > 0\nmodule.exports = gt\n","const compare = require('./compare')\nconst gte = (a, b, loose) => compare(a, b, loose) >= 0\nmodule.exports = gte\n","const compare = require('./compare')\nconst lt = (a, b, loose) => compare(a, b, loose) < 0\nmodule.exports = lt\n","const compare = require('./compare')\nconst lte = (a, b, loose) => compare(a, b, loose) <= 0\nmodule.exports = lte\n","const eq = require('./eq')\nconst neq = require('./neq')\nconst gt = require('./gt')\nconst gte = require('./gte')\nconst lt = require('./lt')\nconst lte = require('./lte')\n\nconst cmp = (a, op, b, loose) => {\n  switch (op) {\n    case '===':\n      if (typeof a === 'object')\n        a = a.version\n      if (typeof b === 'object')\n        b = b.version\n      return a === b\n\n    case '!==':\n      if (typeof a === 'object')\n        a = a.version\n      if (typeof b === 'object')\n        b = b.version\n      return a !== b\n\n    case '':\n    case '=':\n    case '==':\n      return eq(a, b, loose)\n\n    case '!=':\n      return neq(a, b, loose)\n\n    case '>':\n      return gt(a, b, loose)\n\n    case '>=':\n      return gte(a, b, loose)\n\n    case '<':\n      return lt(a, b, loose)\n\n    case '<=':\n      return lte(a, b, loose)\n\n    default:\n      throw new TypeError(`Invalid operator: ${op}`)\n  }\n}\nmodule.exports = cmp\n","const ANY = Symbol('SemVer ANY')\n// hoisted class for cyclic dependency\nclass Comparator {\n  static get ANY () {\n    return ANY\n  }\n  constructor (comp, options) {\n    options = parseOptions(options)\n\n    if (comp instanceof Comparator) {\n      if (comp.loose === !!options.loose) {\n        return comp\n      } else {\n        comp = comp.value\n      }\n    }\n\n    debug('comparator', comp, options)\n    this.options = options\n    this.loose = !!options.loose\n    this.parse(comp)\n\n    if (this.semver === ANY) {\n      this.value = ''\n    } else {\n      this.value = this.operator + this.semver.version\n    }\n\n    debug('comp', this)\n  }\n\n  parse (comp) {\n    const r = this.options.loose ? re[t.COMPARATORLOOSE] : re[t.COMPARATOR]\n    const m = comp.match(r)\n\n    if (!m) {\n      throw new TypeError(`Invalid comparator: ${comp}`)\n    }\n\n    this.operator = m[1] !== undefined ? m[1] : ''\n    if (this.operator === '=') {\n      this.operator = ''\n    }\n\n    // if it literally is just '>' or '' then allow anything.\n    if (!m[2]) {\n      this.semver = ANY\n    } else {\n      this.semver = new SemVer(m[2], this.options.loose)\n    }\n  }\n\n  toString () {\n    return this.value\n  }\n\n  test (version) {\n    debug('Comparator.test', version, this.options.loose)\n\n    if (this.semver === ANY || version === ANY) {\n      return true\n    }\n\n    if (typeof version === 'string') {\n      try {\n        version = new SemVer(version, this.options)\n      } catch (er) {\n        return false\n      }\n    }\n\n    return cmp(version, this.operator, this.semver, this.options)\n  }\n\n  intersects (comp, options) {\n    if (!(comp instanceof Comparator)) {\n      throw new TypeError('a Comparator is required')\n    }\n\n    if (!options || typeof options !== 'object') {\n      options = {\n        loose: !!options,\n        includePrerelease: false\n      }\n    }\n\n    if (this.operator === '') {\n      if (this.value === '') {\n        return true\n      }\n      return new Range(comp.value, options).test(this.value)\n    } else if (comp.operator === '') {\n      if (comp.value === '') {\n        return true\n      }\n      return new Range(this.value, options).test(comp.semver)\n    }\n\n    const sameDirectionIncreasing =\n      (this.operator === '>=' || this.operator === '>') &&\n      (comp.operator === '>=' || comp.operator === '>')\n    const sameDirectionDecreasing =\n      (this.operator === '<=' || this.operator === '<') &&\n      (comp.operator === '<=' || comp.operator === '<')\n    const sameSemVer = this.semver.version === comp.semver.version\n    const differentDirectionsInclusive =\n      (this.operator === '>=' || this.operator === '<=') &&\n      (comp.operator === '>=' || comp.operator === '<=')\n    const oppositeDirectionsLessThan =\n      cmp(this.semver, '<', comp.semver, options) &&\n      (this.operator === '>=' || this.operator === '>') &&\n        (comp.operator === '<=' || comp.operator === '<')\n    const oppositeDirectionsGreaterThan =\n      cmp(this.semver, '>', comp.semver, options) &&\n      (this.operator === '<=' || this.operator === '<') &&\n        (comp.operator === '>=' || comp.operator === '>')\n\n    return (\n      sameDirectionIncreasing ||\n      sameDirectionDecreasing ||\n      (sameSemVer && differentDirectionsInclusive) ||\n      oppositeDirectionsLessThan ||\n      oppositeDirectionsGreaterThan\n    )\n  }\n}\n\nmodule.exports = Comparator\n\nconst parseOptions = require('../internal/parse-options')\nconst {re, t} = require('../internal/re')\nconst cmp = require('../functions/cmp')\nconst debug = require('../internal/debug')\nconst SemVer = require('./semver')\nconst Range = require('./range')\n","// hoisted class for cyclic dependency\nclass Range {\n  constructor (range, options) {\n    options = parseOptions(options)\n\n    if (range instanceof Range) {\n      if (\n        range.loose === !!options.loose &&\n        range.includePrerelease === !!options.includePrerelease\n      ) {\n        return range\n      } else {\n        return new Range(range.raw, options)\n      }\n    }\n\n    if (range instanceof Comparator) {\n      // just put it in the set and return\n      this.raw = range.value\n      this.set = [[range]]\n      this.format()\n      return this\n    }\n\n    this.options = options\n    this.loose = !!options.loose\n    this.includePrerelease = !!options.includePrerelease\n\n    // First, split based on boolean or ||\n    this.raw = range\n    this.set = range\n      .split(/\\s*\\|\\|\\s*/)\n      // map the range to a 2d array of comparators\n      .map(range => this.parseRange(range.trim()))\n      // throw out any comparator lists that are empty\n      // this generally means that it was not a valid range, which is allowed\n      // in loose mode, but will still throw if the WHOLE range is invalid.\n      .filter(c => c.length)\n\n    if (!this.set.length) {\n      throw new TypeError(`Invalid SemVer Range: ${range}`)\n    }\n\n    // if we have any that are not the null set, throw out null sets.\n    if (this.set.length > 1) {\n      // keep the first one, in case they're all null sets\n      const first = this.set[0]\n      this.set = this.set.filter(c => !isNullSet(c[0]))\n      if (this.set.length === 0)\n        this.set = [first]\n      else if (this.set.length > 1) {\n        // if we have any that are *, then the range is just *\n        for (const c of this.set) {\n          if (c.length === 1 && isAny(c[0])) {\n            this.set = [c]\n            break\n          }\n        }\n      }\n    }\n\n    this.format()\n  }\n\n  format () {\n    this.range = this.set\n      .map((comps) => {\n        return comps.join(' ').trim()\n      })\n      .join('||')\n      .trim()\n    return this.range\n  }\n\n  toString () {\n    return this.range\n  }\n\n  parseRange (range) {\n    range = range.trim()\n\n    // memoize range parsing for performance.\n    // this is a very hot path, and fully deterministic.\n    const memoOpts = Object.keys(this.options).join(',')\n    const memoKey = `parseRange:${memoOpts}:${range}`\n    const cached = cache.get(memoKey)\n    if (cached)\n      return cached\n\n    const loose = this.options.loose\n    // `1.2.3 - 1.2.4` => `>=1.2.3 <=1.2.4`\n    const hr = loose ? re[t.HYPHENRANGELOOSE] : re[t.HYPHENRANGE]\n    range = range.replace(hr, hyphenReplace(this.options.includePrerelease))\n    debug('hyphen replace', range)\n    // `> 1.2.3 < 1.2.5` => `>1.2.3 <1.2.5`\n    range = range.replace(re[t.COMPARATORTRIM], comparatorTrimReplace)\n    debug('comparator trim', range, re[t.COMPARATORTRIM])\n\n    // `~ 1.2.3` => `~1.2.3`\n    range = range.replace(re[t.TILDETRIM], tildeTrimReplace)\n\n    // `^ 1.2.3` => `^1.2.3`\n    range = range.replace(re[t.CARETTRIM], caretTrimReplace)\n\n    // normalize spaces\n    range = range.split(/\\s+/).join(' ')\n\n    // At this point, the range is completely trimmed and\n    // ready to be split into comparators.\n\n    const compRe = loose ? re[t.COMPARATORLOOSE] : re[t.COMPARATOR]\n    const rangeList = range\n      .split(' ')\n      .map(comp => parseComparator(comp, this.options))\n      .join(' ')\n      .split(/\\s+/)\n      // >=0.0.0 is equivalent to *\n      .map(comp => replaceGTE0(comp, this.options))\n      // in loose mode, throw out any that are not valid comparators\n      .filter(this.options.loose ? comp => !!comp.match(compRe) : () => true)\n      .map(comp => new Comparator(comp, this.options))\n\n    // if any comparators are the null set, then replace with JUST null set\n    // if more than one comparator, remove any * comparators\n    // also, don't include the same comparator more than once\n    const l = rangeList.length\n    const rangeMap = new Map()\n    for (const comp of rangeList) {\n      if (isNullSet(comp))\n        return [comp]\n      rangeMap.set(comp.value, comp)\n    }\n    if (rangeMap.size > 1 && rangeMap.has(''))\n      rangeMap.delete('')\n\n    const result = [...rangeMap.values()]\n    cache.set(memoKey, result)\n    return result\n  }\n\n  intersects (range, options) {\n    if (!(range instanceof Range)) {\n      throw new TypeError('a Range is required')\n    }\n\n    return this.set.some((thisComparators) => {\n      return (\n        isSatisfiable(thisComparators, options) &&\n        range.set.some((rangeComparators) => {\n          return (\n            isSatisfiable(rangeComparators, options) &&\n            thisComparators.every((thisComparator) => {\n              return rangeComparators.every((rangeComparator) => {\n                return thisComparator.intersects(rangeComparator, options)\n              })\n            })\n          )\n        })\n      )\n    })\n  }\n\n  // if ANY of the sets match ALL of its comparators, then pass\n  test (version) {\n    if (!version) {\n      return false\n    }\n\n    if (typeof version === 'string') {\n      try {\n        version = new SemVer(version, this.options)\n      } catch (er) {\n        return false\n      }\n    }\n\n    for (let i = 0; i < this.set.length; i++) {\n      if (testSet(this.set[i], version, this.options)) {\n        return true\n      }\n    }\n    return false\n  }\n}\nmodule.exports = Range\n\nconst LRU = require('lru-cache')\nconst cache = new LRU({ max: 1000 })\n\nconst parseOptions = require('../internal/parse-options')\nconst Comparator = require('./comparator')\nconst debug = require('../internal/debug')\nconst SemVer = require('./semver')\nconst {\n  re,\n  t,\n  comparatorTrimReplace,\n  tildeTrimReplace,\n  caretTrimReplace\n} = require('../internal/re')\n\nconst isNullSet = c => c.value === '<0.0.0-0'\nconst isAny = c => c.value === ''\n\n// take a set of comparators and determine whether there\n// exists a version which can satisfy it\nconst isSatisfiable = (comparators, options) => {\n  let result = true\n  const remainingComparators = comparators.slice()\n  let testComparator = remainingComparators.pop()\n\n  while (result && remainingComparators.length) {\n    result = remainingComparators.every((otherComparator) => {\n      return testComparator.intersects(otherComparator, options)\n    })\n\n    testComparator = remainingComparators.pop()\n  }\n\n  return result\n}\n\n// comprised of xranges, tildes, stars, and gtlt's at this point.\n// already replaced the hyphen ranges\n// turn into a set of JUST comparators.\nconst parseComparator = (comp, options) => {\n  debug('comp', comp, options)\n  comp = replaceCarets(comp, options)\n  debug('caret', comp)\n  comp = replaceTildes(comp, options)\n  debug('tildes', comp)\n  comp = replaceXRanges(comp, options)\n  debug('xrange', comp)\n  comp = replaceStars(comp, options)\n  debug('stars', comp)\n  return comp\n}\n\nconst isX = id => !id || id.toLowerCase() === 'x' || id === '*'\n\n// ~, ~> --> * (any, kinda silly)\n// ~2, ~2.x, ~2.x.x, ~>2, ~>2.x ~>2.x.x --> >=2.0.0 <3.0.0-0\n// ~2.0, ~2.0.x, ~>2.0, ~>2.0.x --> >=2.0.0 <2.1.0-0\n// ~1.2, ~1.2.x, ~>1.2, ~>1.2.x --> >=1.2.0 <1.3.0-0\n// ~1.2.3, ~>1.2.3 --> >=1.2.3 <1.3.0-0\n// ~1.2.0, ~>1.2.0 --> >=1.2.0 <1.3.0-0\nconst replaceTildes = (comp, options) =>\n  comp.trim().split(/\\s+/).map((comp) => {\n    return replaceTilde(comp, options)\n  }).join(' ')\n\nconst replaceTilde = (comp, options) => {\n  const r = options.loose ? re[t.TILDELOOSE] : re[t.TILDE]\n  return comp.replace(r, (_, M, m, p, pr) => {\n    debug('tilde', comp, _, M, m, p, pr)\n    let ret\n\n    if (isX(M)) {\n      ret = ''\n    } else if (isX(m)) {\n      ret = `>=${M}.0.0 <${+M + 1}.0.0-0`\n    } else if (isX(p)) {\n      // ~1.2 == >=1.2.0 <1.3.0-0\n      ret = `>=${M}.${m}.0 <${M}.${+m + 1}.0-0`\n    } else if (pr) {\n      debug('replaceTilde pr', pr)\n      ret = `>=${M}.${m}.${p}-${pr\n      } <${M}.${+m + 1}.0-0`\n    } else {\n      // ~1.2.3 == >=1.2.3 <1.3.0-0\n      ret = `>=${M}.${m}.${p\n      } <${M}.${+m + 1}.0-0`\n    }\n\n    debug('tilde return', ret)\n    return ret\n  })\n}\n\n// ^ --> * (any, kinda silly)\n// ^2, ^2.x, ^2.x.x --> >=2.0.0 <3.0.0-0\n// ^2.0, ^2.0.x --> >=2.0.0 <3.0.0-0\n// ^1.2, ^1.2.x --> >=1.2.0 <2.0.0-0\n// ^1.2.3 --> >=1.2.3 <2.0.0-0\n// ^1.2.0 --> >=1.2.0 <2.0.0-0\nconst replaceCarets = (comp, options) =>\n  comp.trim().split(/\\s+/).map((comp) => {\n    return replaceCaret(comp, options)\n  }).join(' ')\n\nconst replaceCaret = (comp, options) => {\n  debug('caret', comp, options)\n  const r = options.loose ? re[t.CARETLOOSE] : re[t.CARET]\n  const z = options.includePrerelease ? '-0' : ''\n  return comp.replace(r, (_, M, m, p, pr) => {\n    debug('caret', comp, _, M, m, p, pr)\n    let ret\n\n    if (isX(M)) {\n      ret = ''\n    } else if (isX(m)) {\n      ret = `>=${M}.0.0${z} <${+M + 1}.0.0-0`\n    } else if (isX(p)) {\n      if (M === '0') {\n        ret = `>=${M}.${m}.0${z} <${M}.${+m + 1}.0-0`\n      } else {\n        ret = `>=${M}.${m}.0${z} <${+M + 1}.0.0-0`\n      }\n    } else if (pr) {\n      debug('replaceCaret pr', pr)\n      if (M === '0') {\n        if (m === '0') {\n          ret = `>=${M}.${m}.${p}-${pr\n          } <${M}.${m}.${+p + 1}-0`\n        } else {\n          ret = `>=${M}.${m}.${p}-${pr\n          } <${M}.${+m + 1}.0-0`\n        }\n      } else {\n        ret = `>=${M}.${m}.${p}-${pr\n        } <${+M + 1}.0.0-0`\n      }\n    } else {\n      debug('no pr')\n      if (M === '0') {\n        if (m === '0') {\n          ret = `>=${M}.${m}.${p\n          }${z} <${M}.${m}.${+p + 1}-0`\n        } else {\n          ret = `>=${M}.${m}.${p\n          }${z} <${M}.${+m + 1}.0-0`\n        }\n      } else {\n        ret = `>=${M}.${m}.${p\n        } <${+M + 1}.0.0-0`\n      }\n    }\n\n    debug('caret return', ret)\n    return ret\n  })\n}\n\nconst replaceXRanges = (comp, options) => {\n  debug('replaceXRanges', comp, options)\n  return comp.split(/\\s+/).map((comp) => {\n    return replaceXRange(comp, options)\n  }).join(' ')\n}\n\nconst replaceXRange = (comp, options) => {\n  comp = comp.trim()\n  const r = options.loose ? re[t.XRANGELOOSE] : re[t.XRANGE]\n  return comp.replace(r, (ret, gtlt, M, m, p, pr) => {\n    debug('xRange', comp, ret, gtlt, M, m, p, pr)\n    const xM = isX(M)\n    const xm = xM || isX(m)\n    const xp = xm || isX(p)\n    const anyX = xp\n\n    if (gtlt === '=' && anyX) {\n      gtlt = ''\n    }\n\n    // if we're including prereleases in the match, then we need\n    // to fix this to -0, the lowest possible prerelease value\n    pr = options.includePrerelease ? '-0' : ''\n\n    if (xM) {\n      if (gtlt === '>' || gtlt === '<') {\n        // nothing is allowed\n        ret = '<0.0.0-0'\n      } else {\n        // nothing is forbidden\n        ret = '*'\n      }\n    } else if (gtlt && anyX) {\n      // we know patch is an x, because we have any x at all.\n      // replace X with 0\n      if (xm) {\n        m = 0\n      }\n      p = 0\n\n      if (gtlt === '>') {\n        // >1 => >=2.0.0\n        // >1.2 => >=1.3.0\n        gtlt = '>='\n        if (xm) {\n          M = +M + 1\n          m = 0\n          p = 0\n        } else {\n          m = +m + 1\n          p = 0\n        }\n      } else if (gtlt === '<=') {\n        // <=0.7.x is actually <0.8.0, since any 0.7.x should\n        // pass.  Similarly, <=7.x is actually <8.0.0, etc.\n        gtlt = '<'\n        if (xm) {\n          M = +M + 1\n        } else {\n          m = +m + 1\n        }\n      }\n\n      if (gtlt === '<')\n        pr = '-0'\n\n      ret = `${gtlt + M}.${m}.${p}${pr}`\n    } else if (xm) {\n      ret = `>=${M}.0.0${pr} <${+M + 1}.0.0-0`\n    } else if (xp) {\n      ret = `>=${M}.${m}.0${pr\n      } <${M}.${+m + 1}.0-0`\n    }\n\n    debug('xRange return', ret)\n\n    return ret\n  })\n}\n\n// Because * is AND-ed with everything else in the comparator,\n// and '' means \"any version\", just remove the *s entirely.\nconst replaceStars = (comp, options) => {\n  debug('replaceStars', comp, options)\n  // Looseness is ignored here.  star is always as loose as it gets!\n  return comp.trim().replace(re[t.STAR], '')\n}\n\nconst replaceGTE0 = (comp, options) => {\n  debug('replaceGTE0', comp, options)\n  return comp.trim()\n    .replace(re[options.includePrerelease ? t.GTE0PRE : t.GTE0], '')\n}\n\n// This function is passed to string.replace(re[t.HYPHENRANGE])\n// M, m, patch, prerelease, build\n// 1.2 - 3.4.5 => >=1.2.0 <=3.4.5\n// 1.2.3 - 3.4 => >=1.2.0 <3.5.0-0 Any 3.4.x will do\n// 1.2 - 3.4 => >=1.2.0 <3.5.0-0\nconst hyphenReplace = incPr => ($0,\n  from, fM, fm, fp, fpr, fb,\n  to, tM, tm, tp, tpr, tb) => {\n  if (isX(fM)) {\n    from = ''\n  } else if (isX(fm)) {\n    from = `>=${fM}.0.0${incPr ? '-0' : ''}`\n  } else if (isX(fp)) {\n    from = `>=${fM}.${fm}.0${incPr ? '-0' : ''}`\n  } else if (fpr) {\n    from = `>=${from}`\n  } else {\n    from = `>=${from}${incPr ? '-0' : ''}`\n  }\n\n  if (isX(tM)) {\n    to = ''\n  } else if (isX(tm)) {\n    to = `<${+tM + 1}.0.0-0`\n  } else if (isX(tp)) {\n    to = `<${tM}.${+tm + 1}.0-0`\n  } else if (tpr) {\n    to = `<=${tM}.${tm}.${tp}-${tpr}`\n  } else if (incPr) {\n    to = `<${tM}.${tm}.${+tp + 1}-0`\n  } else {\n    to = `<=${to}`\n  }\n\n  return (`${from} ${to}`).trim()\n}\n\nconst testSet = (set, version, options) => {\n  for (let i = 0; i < set.length; i++) {\n    if (!set[i].test(version)) {\n      return false\n    }\n  }\n\n  if (version.prerelease.length && !options.includePrerelease) {\n    // Find the set of versions that are allowed to have prereleases\n    // For example, ^1.2.3-pr.1 desugars to >=1.2.3-pr.1 <2.0.0\n    // That should allow `1.2.3-pr.2` to pass.\n    // However, `1.2.4-alpha.notready` should NOT be allowed,\n    // even though it's within the range set by the comparators.\n    for (let i = 0; i < set.length; i++) {\n      debug(set[i].semver)\n      if (set[i].semver === Comparator.ANY) {\n        continue\n      }\n\n      if (set[i].semver.prerelease.length > 0) {\n        const allowed = set[i].semver\n        if (allowed.major === version.major &&\n            allowed.minor === version.minor &&\n            allowed.patch === version.patch) {\n          return true\n        }\n      }\n    }\n\n    // Version has a -pre, but it's not one of the ones we like.\n    return false\n  }\n\n  return true\n}\n","const Range = require('../classes/range')\nconst satisfies = (version, range, options) => {\n  try {\n    range = new Range(range, options)\n  } catch (er) {\n    return false\n  }\n  return range.test(version)\n}\nmodule.exports = satisfies\n","import {MessageData} from './types';\n\n/**\n * Open editor url in a new window, and pass a message.\n */\nexport default function (window: Window, url: string, data: MessageData) {\n  // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n  const editor = window.open(url)!;\n  const wait = 10_000;\n  const step = 250;\n  const {origin} = new URL(url);\n  // eslint-disable-next-line no-bitwise\n  let count = ~~(wait / step);\n\n  function listen(evt: MessageEvent) {\n    if (evt.source === editor) {\n      count = 0;\n      window.removeEventListener('message', listen, false);\n    }\n  }\n  window.addEventListener('message', listen, false);\n\n  // send message\n  // periodically resend until ack received or timeout\n  function send() {\n    if (count <= 0) {\n      return;\n    }\n    editor.postMessage(data, origin);\n    setTimeout(send, step);\n    count -= 1;\n  }\n  setTimeout(send, step);\n}\n","// generated with build-style.sh\nexport default `.vega-embed {\n  position: relative;\n  display: inline-block;\n  box-sizing: border-box;\n}\n.vega-embed.has-actions {\n  padding-right: 38px;\n}\n.vega-embed details:not([open]) > :not(summary) {\n  display: none !important;\n}\n.vega-embed summary {\n  list-style: none;\n  position: absolute;\n  top: 0;\n  right: 0;\n  padding: 6px;\n  z-index: 1000;\n  background: white;\n  box-shadow: 1px 1px 3px rgba(0, 0, 0, 0.1);\n  color: #1b1e23;\n  border: 1px solid #aaa;\n  border-radius: 999px;\n  opacity: 0.2;\n  transition: opacity 0.4s ease-in;\n  cursor: pointer;\n  line-height: 0px;\n}\n.vega-embed summary::-webkit-details-marker {\n  display: none;\n}\n.vega-embed summary:active {\n  box-shadow: #aaa 0px 0px 0px 1px inset;\n}\n.vega-embed summary svg {\n  width: 14px;\n  height: 14px;\n}\n.vega-embed details[open] summary {\n  opacity: 0.7;\n}\n.vega-embed:hover summary, .vega-embed:focus-within summary {\n  opacity: 1 !important;\n  transition: opacity 0.2s ease;\n}\n.vega-embed .vega-actions {\n  position: absolute;\n  z-index: 1001;\n  top: 35px;\n  right: -9px;\n  display: flex;\n  flex-direction: column;\n  padding-bottom: 8px;\n  padding-top: 8px;\n  border-radius: 4px;\n  box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.2);\n  border: 1px solid #d9d9d9;\n  background: white;\n  animation-duration: 0.15s;\n  animation-name: scale-in;\n  animation-timing-function: cubic-bezier(0.2, 0, 0.13, 1.5);\n  text-align: left;\n}\n.vega-embed .vega-actions a {\n  padding: 8px 16px;\n  font-family: sans-serif;\n  font-size: 14px;\n  font-weight: 600;\n  white-space: nowrap;\n  color: #434a56;\n  text-decoration: none;\n}\n.vega-embed .vega-actions a:hover, .vega-embed .vega-actions a:focus {\n  background-color: #f7f7f9;\n  color: black;\n}\n.vega-embed .vega-actions::before, .vega-embed .vega-actions::after {\n  content: \"\";\n  display: inline-block;\n  position: absolute;\n}\n.vega-embed .vega-actions::before {\n  left: auto;\n  right: 14px;\n  top: -16px;\n  border: 8px solid #0000;\n  border-bottom-color: #d9d9d9;\n}\n.vega-embed .vega-actions::after {\n  left: auto;\n  right: 15px;\n  top: -14px;\n  border: 7px solid #0000;\n  border-bottom-color: #fff;\n}\n.vega-embed .chart-wrapper.fit-x {\n  width: 100%;\n}\n.vega-embed .chart-wrapper.fit-y {\n  height: 100%;\n}\n\n.vega-embed-wrapper {\n  max-width: 100%;\n  overflow: auto;\n  padding-right: 14px;\n}\n\n@keyframes scale-in {\n  from {\n    opacity: 0;\n    transform: scale(0.6);\n  }\n  to {\n    opacity: 1;\n    transform: scale(1);\n  }\n}\n`;\n","import {writeConfig} from 'vega';\n\n// polyfill for IE\nif (!String.prototype.startsWith) {\n  // eslint-disable-next-line no-extend-native,func-names\n  String.prototype.startsWith = function (search, pos) {\n    return this.substr(!pos || pos < 0 ? 0 : +pos, search.length) === search;\n  };\n}\n\nexport function isURL(s: string): boolean {\n  return s.startsWith('http://') || s.startsWith('https://') || s.startsWith('//');\n}\n\nexport type DeepPartial<T> = {[P in keyof T]?: P extends unknown ? unknown : DeepPartial<T[P]>};\n\nexport function mergeDeep<T>(dest: T, ...src: readonly DeepPartial<T>[]): T {\n  for (const s of src) {\n    deepMerge_(dest, s);\n  }\n  return dest;\n}\n\nfunction deepMerge_(dest: any, src: any) {\n  for (const property of Object.keys(src)) {\n    writeConfig(dest, property, src[property], true);\n  }\n}\n","import {applyPatch, Operation} from 'fast-json-patch';\nimport stringify from 'json-stringify-pretty-compact';\n// need this import because of https://github.com/npm/node-semver/issues/381\nimport satisfies from 'semver/functions/satisfies';\nimport * as vegaImport from 'vega';\nimport {\n  AutoSize,\n  Config as VgConfig,\n  EncodeEntryName,\n  isBoolean,\n  isString,\n  Loader,\n  LoaderOptions,\n  mergeConfig,\n  Renderers,\n  Spec as VgSpec,\n  TooltipHandler,\n  View,\n} from 'vega';\nimport {expressionInterpreter} from 'vega-interpreter';\nimport * as vegaLiteImport from 'vega-lite';\nimport {Config as VlConfig, TopLevelSpec as VlSpec} from 'vega-lite';\nimport schemaParser from 'vega-schema-url-parser';\nimport * as themes from 'vega-themes';\nimport {Handler, Options as TooltipOptions} from 'vega-tooltip';\nimport post from './post';\nimport embedStyle from './style';\nimport {Config, Mode} from './types';\nimport {mergeDeep} from './util';\nimport pkg from '../package.json';\n\nexport const version = pkg.version;\n\nexport * from './types';\n\nexport const vega = vegaImport;\nexport let vegaLite = vegaLiteImport;\n\n// For backwards compatibility with Vega-Lite before v4.\nconst w = (typeof window !== 'undefined' ? window : undefined) as any;\nif (vegaLite === undefined && w?.vl?.compile) {\n  vegaLite = w.vl;\n}\n\nexport interface Actions {\n  export?: boolean | {svg?: boolean; png?: boolean};\n  source?: boolean;\n  compiled?: boolean;\n  editor?: boolean;\n}\n\nexport const DEFAULT_ACTIONS = {export: {svg: true, png: true}, source: true, compiled: true, editor: true};\n\nexport interface Hover {\n  hoverSet?: EncodeEntryName;\n  updateSet?: EncodeEntryName;\n}\n\nexport type PatchFunc = (spec: VgSpec) => VgSpec;\n\nconst I18N = {\n  CLICK_TO_VIEW_ACTIONS: 'Click to view actions',\n  COMPILED_ACTION: 'View Compiled Vega',\n  EDITOR_ACTION: 'Open in Vega Editor',\n  PNG_ACTION: 'Save as PNG',\n  SOURCE_ACTION: 'View Source',\n  SVG_ACTION: 'Save as SVG',\n};\n\nexport interface EmbedOptions<S = string, R = Renderers> {\n  bind?: HTMLElement | string;\n  actions?: boolean | Actions;\n  mode?: Mode;\n  theme?: 'excel' | 'ggplot2' | 'quartz' | 'vox' | 'dark';\n  defaultStyle?: boolean | string;\n  logLevel?: number;\n  loader?: Loader | LoaderOptions;\n  renderer?: R;\n  tooltip?: TooltipHandler | TooltipOptions | boolean;\n  patch?: S | PatchFunc | Operation[];\n  width?: number;\n  height?: number;\n  padding?: number | {left?: number; right?: number; top?: number; bottom?: number};\n  scaleFactor?: number;\n  config?: S | Config;\n  sourceHeader?: string;\n  sourceFooter?: string;\n  editorUrl?: string;\n  hover?: boolean | Hover;\n  i18n?: Partial<typeof I18N>;\n  downloadFileName?: string;\n  formatLocale?: Record<string, unknown>;\n  timeFormatLocale?: Record<string, unknown>;\n  ast?: boolean;\n  expr?: typeof expressionInterpreter;\n  viewClass?: typeof View;\n}\n\nconst NAMES: {[key in Mode]: string} = {\n  vega: 'Vega',\n  'vega-lite': 'Vega-Lite',\n};\n\nconst VERSION = {\n  vega: vega.version,\n  'vega-lite': vegaLite ? vegaLite.version : 'not available',\n};\n\nconst PREPROCESSOR: {[mode in Mode]: (spec: any, config?: Config) => VgSpec} = {\n  vega: (vgSpec: VgSpec) => vgSpec,\n  'vega-lite': (vlSpec, config) => vegaLite.compile(vlSpec as VlSpec, {config: config as VlConfig}).spec,\n};\n\nconst SVG_CIRCLES = `\n<svg viewBox=\"0 0 16 16\" fill=\"currentColor\" stroke=\"none\" stroke-width=\"1\" stroke-linecap=\"round\" stroke-linejoin=\"round\">\n  <circle r=\"2\" cy=\"8\" cx=\"2\"></circle>\n  <circle r=\"2\" cy=\"8\" cx=\"8\"></circle>\n  <circle r=\"2\" cy=\"8\" cx=\"14\"></circle>\n</svg>`;\n\nconst CHART_WRAPPER_CLASS = 'chart-wrapper';\n\nexport type VisualizationSpec = VlSpec | VgSpec;\n\nexport interface Result {\n  /** The Vega view. */\n  view: View;\n\n  /** The input specification. */\n  spec: VisualizationSpec;\n\n  /** The compiled and patched Vega specification. */\n  vgSpec: VgSpec;\n\n  /** The Vega-Embed options. */\n  embedOptions: EmbedOptions;\n\n  /** Removes references to unwanted behaviors and memory leaks. Calls Vega's `view.finalize`.  */\n  finalize: () => void;\n}\n\nfunction isTooltipHandler(h?: boolean | TooltipOptions | TooltipHandler): h is TooltipHandler {\n  return typeof h === 'function';\n}\n\nfunction viewSource(source: string, sourceHeader: string, sourceFooter: string, mode: Mode) {\n  const header = `<html><head>${sourceHeader}</head><body><pre><code class=\"json\">`;\n  const footer = `</code></pre>${sourceFooter}</body></html>`;\n  // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n  const win = window.open('')!;\n  win.document.write(header + source + footer);\n  win.document.title = `${NAMES[mode]} JSON Source`;\n}\n\n/**\n * Try to guess the type of spec.\n *\n * @param spec Vega or Vega-Lite spec.\n */\nexport function guessMode(spec: VisualizationSpec, providedMode?: Mode): Mode {\n  // Decide mode\n  if (spec.$schema) {\n    const parsed = schemaParser(spec.$schema);\n    if (providedMode && providedMode !== parsed.library) {\n      console.warn(\n        `The given visualization spec is written in ${NAMES[parsed.library]}, but mode argument sets ${\n          NAMES[providedMode] ?? providedMode\n        }.`\n      );\n    }\n\n    const mode = parsed.library as Mode;\n\n    if (!satisfies(VERSION[mode], `^${parsed.version.slice(1)}`)) {\n      console.warn(\n        `The input spec uses ${NAMES[mode]} ${parsed.version}, but the current version of ${NAMES[mode]} is v${VERSION[mode]}.`\n      );\n    }\n\n    return mode;\n  }\n\n  // try to guess from the provided spec\n  if (\n    'mark' in spec ||\n    'encoding' in spec ||\n    'layer' in spec ||\n    'hconcat' in spec ||\n    'vconcat' in spec ||\n    'facet' in spec ||\n    'repeat' in spec\n  ) {\n    return 'vega-lite';\n  }\n\n  if ('marks' in spec || 'signals' in spec || 'scales' in spec || 'axes' in spec) {\n    return 'vega';\n  }\n\n  return providedMode ?? 'vega';\n}\n\nfunction isLoader(o?: LoaderOptions | Loader): o is Loader {\n  return !!(o && 'load' in o);\n}\n\nfunction createLoader(opts?: Loader | LoaderOptions) {\n  return isLoader(opts) ? opts : vega.loader(opts);\n}\n\nfunction embedOptionsFromUsermeta(parsedSpec: VisualizationSpec) {\n  const opts = (parsedSpec.usermeta as any)?.embedOptions ?? {};\n  if (isString(opts.defaultStyle)) {\n    // we don't allow styles set via usermeta since it would allow injection of logic (we set the style via innerHTML)\n    opts.defaultStyle = false;\n  }\n  return opts;\n}\n\n/**\n * Embed a Vega visualization component in a web page. This function returns a promise.\n *\n * @param el        DOM element in which to place component (DOM node or CSS selector).\n * @param spec      String : A URL string from which to load the Vega specification.\n *                  Object : The Vega/Vega-Lite specification as a parsed JSON object.\n * @param opts       A JavaScript object containing options for embedding.\n */\nexport default async function embed(\n  el: HTMLElement | string,\n  spec: VisualizationSpec | string,\n  opts: EmbedOptions = {}\n): Promise<Result> {\n  let parsedSpec: VisualizationSpec;\n  let loader: Loader | undefined;\n\n  if (isString(spec)) {\n    loader = createLoader(opts.loader);\n    parsedSpec = JSON.parse(await loader.load(spec));\n  } else {\n    parsedSpec = spec;\n  }\n\n  const loadedEmbedOptions = embedOptionsFromUsermeta(parsedSpec);\n  const usermetaLoader = loadedEmbedOptions.loader;\n\n  // either create the loader for the first time or create a new loader if the spec has new loader options\n  if (!loader || usermetaLoader) {\n    loader = createLoader(opts.loader ?? usermetaLoader);\n  }\n\n  const usermetaOpts = await loadOpts(loadedEmbedOptions, loader);\n  const parsedOpts = await loadOpts(opts, loader);\n\n  const mergedOpts = {\n    ...mergeDeep(parsedOpts, usermetaOpts),\n    config: mergeConfig(parsedOpts.config ?? {}, usermetaOpts.config ?? {}),\n  };\n\n  return await _embed(el, parsedSpec, mergedOpts, loader);\n}\n\nasync function loadOpts(opt: EmbedOptions, loader: Loader): Promise<EmbedOptions<never>> {\n  const config: Config = isString(opt.config) ? JSON.parse(await loader.load(opt.config)) : opt.config ?? {};\n  const patch: PatchFunc | Operation[] = isString(opt.patch) ? JSON.parse(await loader.load(opt.patch)) : opt.patch;\n  return {\n    ...(opt as any),\n    ...(patch ? {patch} : {}),\n    ...(config ? {config} : {}),\n  };\n}\n\nfunction getRoot(el: Element) {\n  const possibleRoot = el.getRootNode ? el.getRootNode() : document;\n  return possibleRoot instanceof ShadowRoot\n    ? {root: possibleRoot, rootContainer: possibleRoot}\n    : {root: document, rootContainer: document.head ?? document.body};\n}\n\nasync function _embed(\n  el: HTMLElement | string,\n  spec: VisualizationSpec,\n  opts: EmbedOptions<never> = {},\n  loader: Loader\n): Promise<Result> {\n  const config = opts.theme ? mergeConfig(themes[opts.theme], opts.config ?? {}) : opts.config;\n\n  const actions = isBoolean(opts.actions) ? opts.actions : mergeDeep<Actions>({}, DEFAULT_ACTIONS, opts.actions ?? {});\n  const i18n = {...I18N, ...opts.i18n};\n\n  const renderer = opts.renderer ?? 'canvas';\n  const logLevel = opts.logLevel ?? vega.Warn;\n  const downloadFileName = opts.downloadFileName ?? 'visualization';\n\n  const element = typeof el === 'string' ? document.querySelector(el) : el;\n  if (!element) {\n    throw new Error(`${el} does not exist`);\n  }\n\n  if (opts.defaultStyle !== false) {\n    const ID = 'vega-embed-style';\n    const {root, rootContainer} = getRoot(element);\n    if (!root.getElementById(ID)) {\n      const style = document.createElement('style');\n      style.id = ID;\n      style.innerHTML =\n        opts.defaultStyle === undefined || opts.defaultStyle === true\n          ? (embedStyle ?? '').toString()\n          : opts.defaultStyle;\n      rootContainer.appendChild(style);\n    }\n  }\n\n  const mode = guessMode(spec, opts.mode);\n\n  let vgSpec: VgSpec = PREPROCESSOR[mode](spec, config);\n\n  if (mode === 'vega-lite') {\n    if (vgSpec.$schema) {\n      const parsed = schemaParser(vgSpec.$schema);\n\n      if (!satisfies(VERSION.vega, `^${parsed.version.slice(1)}`)) {\n        console.warn(`The compiled spec uses Vega ${parsed.version}, but current version is v${VERSION.vega}.`);\n      }\n    }\n  }\n\n  element.classList.add('vega-embed');\n  if (actions) {\n    element.classList.add('has-actions');\n  }\n  element.innerHTML = ''; // clear container\n\n  let container = element;\n  if (actions) {\n    const chartWrapper = document.createElement('div');\n    chartWrapper.classList.add(CHART_WRAPPER_CLASS);\n    element.appendChild(chartWrapper);\n    container = chartWrapper;\n  }\n\n  const patch = opts.patch;\n  if (patch) {\n    vgSpec = patch instanceof Function ? patch(vgSpec) : applyPatch(vgSpec, patch, true, false).newDocument;\n  }\n\n  // Set locale. Note that this is a global setting.\n  if (opts.formatLocale) {\n    vega.formatLocale(opts.formatLocale);\n  }\n\n  if (opts.timeFormatLocale) {\n    vega.timeFormatLocale(opts.timeFormatLocale);\n  }\n\n  const {ast} = opts;\n\n  // Do not apply the config to Vega when we have already applied it to Vega-Lite.\n  // This call may throw an Error if parsing fails.\n  const runtime = vega.parse(vgSpec, mode === 'vega-lite' ? {} : (config as VgConfig), {ast});\n\n  const view = new (opts.viewClass || vega.View)(runtime, {\n    loader,\n    logLevel,\n    renderer,\n    ...(ast ? {expr: (vega as any).expressionInterpreter ?? opts.expr ?? expressionInterpreter} : {}),\n  });\n\n  view.addSignalListener('autosize', (_, autosize: Exclude<AutoSize, string>) => {\n    const {type} = autosize;\n    if (type == 'fit-x') {\n      container.classList.add('fit-x');\n      container.classList.remove('fit-y');\n    } else if (type == 'fit-y') {\n      container.classList.remove('fit-x');\n      container.classList.add('fit-y');\n    } else if (type == 'fit') {\n      container.classList.add('fit-x', 'fit-y');\n    } else {\n      container.classList.remove('fit-x', 'fit-y');\n    }\n  });\n\n  if (opts.tooltip !== false) {\n    const handler = isTooltipHandler(opts.tooltip)\n      ? opts.tooltip\n      : // user provided boolean true or tooltip options\n        new Handler(opts.tooltip === true ? {} : opts.tooltip).call;\n\n    view.tooltip(handler);\n  }\n\n  let {hover} = opts;\n\n  if (hover === undefined) {\n    hover = mode === 'vega';\n  }\n\n  if (hover) {\n    const {hoverSet, updateSet} = (typeof hover === 'boolean' ? {} : hover) as Hover;\n\n    view.hover(hoverSet, updateSet);\n  }\n\n  if (opts) {\n    if (opts.width != null) {\n      view.width(opts.width);\n    }\n    if (opts.height != null) {\n      view.height(opts.height);\n    }\n    if (opts.padding != null) {\n      view.padding(opts.padding);\n    }\n  }\n\n  await view.initialize(container, opts.bind).runAsync();\n\n  let documentClickHandler: ((this: Document, ev: MouseEvent) => void) | undefined;\n\n  if (actions !== false) {\n    let wrapper = element;\n\n    if (opts.defaultStyle !== false) {\n      const details = document.createElement('details');\n      details.title = i18n.CLICK_TO_VIEW_ACTIONS;\n      element.append(details);\n\n      wrapper = details;\n      const summary = document.createElement('summary');\n      summary.innerHTML = SVG_CIRCLES;\n\n      details.append(summary);\n\n      documentClickHandler = (ev: MouseEvent) => {\n        if (!details.contains(ev.target as any)) {\n          details.removeAttribute('open');\n        }\n      };\n      document.addEventListener('click', documentClickHandler);\n    }\n\n    const ctrl = document.createElement('div');\n    wrapper.append(ctrl);\n    ctrl.classList.add('vega-actions');\n\n    // add 'Export' action\n    if (actions === true || actions.export !== false) {\n      for (const ext of ['svg', 'png'] as const) {\n        if (actions === true || actions.export === true || (actions.export as {svg?: boolean; png?: boolean})[ext]) {\n          const i18nExportAction = (i18n as {[key: string]: string})[`${ext.toUpperCase()}_ACTION`];\n          const exportLink = document.createElement('a');\n\n          exportLink.text = i18nExportAction;\n          exportLink.href = '#';\n          exportLink.target = '_blank';\n          exportLink.download = `${downloadFileName}.${ext}`;\n          // add link on mousedown so that it's correct when the click happens\n          exportLink.addEventListener('mousedown', async function (this, e) {\n            e.preventDefault();\n            const url = await view.toImageURL(ext, opts.scaleFactor);\n            this.href = url;\n          });\n\n          ctrl.append(exportLink);\n        }\n      }\n    }\n\n    // add 'View Source' action\n    if (actions === true || actions.source !== false) {\n      const viewSourceLink = document.createElement('a');\n\n      viewSourceLink.text = i18n.SOURCE_ACTION;\n      viewSourceLink.href = '#';\n      viewSourceLink.addEventListener('click', function (this, e) {\n        viewSource(stringify(spec), opts.sourceHeader ?? '', opts.sourceFooter ?? '', mode);\n        e.preventDefault();\n      });\n\n      ctrl.append(viewSourceLink);\n    }\n\n    // add 'View Compiled' action\n    if (mode === 'vega-lite' && (actions === true || actions.compiled !== false)) {\n      const compileLink = document.createElement('a');\n\n      compileLink.text = i18n.COMPILED_ACTION;\n      compileLink.href = '#';\n      compileLink.addEventListener('click', function (this, e) {\n        viewSource(stringify(vgSpec), opts.sourceHeader ?? '', opts.sourceFooter ?? '', 'vega');\n        e.preventDefault();\n      });\n\n      ctrl.append(compileLink);\n    }\n\n    // add 'Open in Vega Editor' action\n    if (actions === true || actions.editor !== false) {\n      const editorUrl = opts.editorUrl ?? 'https://vega.github.io/editor/';\n      const editorLink = document.createElement('a');\n\n      editorLink.text = i18n.EDITOR_ACTION;\n      editorLink.href = '#';\n      editorLink.addEventListener('click', function (this, e) {\n        post(window, editorUrl, {\n          config: config as Config,\n          mode,\n          renderer,\n          spec: stringify(spec),\n        });\n        e.preventDefault();\n      });\n\n      ctrl.append(editorLink);\n    }\n  }\n\n  function finalize() {\n    if (documentClickHandler) {\n      document.removeEventListener('click', documentClickHandler);\n    }\n    view.finalize();\n  }\n\n  return {view, spec, vgSpec, finalize, embedOptions: opts};\n}\n"]},"metadata":{},"sourceType":"module"}